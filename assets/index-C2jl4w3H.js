(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},Fl={};var Tv;function LA(){if(Tv)return Fl;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var Sv;function UA(){return Sv||(Sv=1,rm.exports=LA()),rm.exports}var A=UA(),sm={exports:{}},Re={};var bv;function jA(){if(bv)return Re;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,k={};function ie(V,Z,oe){this.props=V,this.context=Z,this.refs=k,this.updater=oe||Q}ie.prototype.isReactComponent={},ie.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},ie.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=ie.prototype;function se(V,Z,oe){this.props=V,this.context=Z,this.refs=k,this.updater=oe||Q}var Ae=se.prototype=new ne;Ae.constructor=se,$(Ae,ie.prototype),Ae.isPureReactComponent=!0;var xe=Array.isArray;function Se(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(V,Z,oe){var ue=oe.ref;return{$$typeof:r,type:V,key:Z,ref:ue!==void 0?ue:null,props:oe}}function M(V,Z){return I(V.type,Z,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return Z[oe]})}var R=/\/+/g;function Ie(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Z.toString(36)}function ke(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Se,Se):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,Z,oe,ue,ve){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var ye=!1;if(V===null)ye=!0;else switch(we){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(V.$$typeof){case r:case e:ye=!0;break;case E:return ye=V._init,Y(ye(V._payload),Z,oe,ue,ve)}}if(ye)return ve=ve(V),ye=ue===""?"."+Ie(V,0):ue,xe(ve)?(oe="",ye!=null&&(oe=ye.replace(R,"$&/")+"/"),Y(ve,Z,oe,"",function(Ei){return Ei})):ve!=null&&(N(ve)&&(ve=M(ve,oe+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+ye)),Z.push(ve)),1;ye=0;var bt=ue===""?".":ue+":";if(xe(V))for(var st=0;st<V.length;st++)ue=V[st],we=bt+Ie(ue,st),ye+=Y(ue,Z,oe,we,ve);else if(st=j(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,we=bt+Ie(ue,st++),ye+=Y(ue,Z,oe,we,ve);else if(we==="object"){if(typeof V.then=="function")return Y(ke(V),Z,oe,ue,ve);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ae(V,Z,oe){if(V==null)return V;var ue=[],ve=0;return Y(V,ue,"","",function(we){return Z.call(oe,we,ve++)}),ue}function de(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:ae,forEach:function(V,Z,oe){ae(V,function(){Z.apply(this,arguments)},oe)},count:function(V){var Z=0;return ae(V,function(){Z++}),Z},toArray:function(V){return ae(V,function(Z){return Z})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=S,Re.Children=Ye,Re.Component=ie,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,Z,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=$({},V.props),ve=V.key;if(Z!=null)for(we in Z.key!==void 0&&(ve=""+Z.key),Z)!C.call(Z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Z.ref===void 0||(ue[we]=Z[we]);var we=arguments.length-2;if(we===1)ue.children=oe;else if(1<we){for(var ye=Array(we),bt=0;bt<we;bt++)ye[bt]=arguments[bt+2];ue.children=ye}return I(V.type,ve,ue)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,Z,oe){var ue,ve={},we=null;if(Z!=null)for(ue in Z.key!==void 0&&(we=""+Z.key),Z)C.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Z[ue]);var ye=arguments.length-2;if(ye===1)ve.children=oe;else if(1<ye){for(var bt=Array(ye),st=0;st<ye;st++)bt[st]=arguments[st+2];ve.children=bt}if(V&&V.defaultProps)for(ue in ye=V.defaultProps,ye)ve[ue]===void 0&&(ve[ue]=ye[ue]);return I(V,we,ve)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=N,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:de}},Re.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},Re.startTransition=function(V){var Z=x.T,oe={};x.T=oe;try{var ue=V(),ve=x.S;ve!==null&&ve(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Se,Me)}catch(we){Me(we)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),x.T=Z}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(V){return x.H.use(V)},Re.useActionState=function(V,Z,oe){return x.H.useActionState(V,Z,oe)},Re.useCallback=function(V,Z){return x.H.useCallback(V,Z)},Re.useContext=function(V){return x.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,Z){return x.H.useDeferredValue(V,Z)},Re.useEffect=function(V,Z){return x.H.useEffect(V,Z)},Re.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(V,Z,oe){return x.H.useImperativeHandle(V,Z,oe)},Re.useInsertionEffect=function(V,Z){return x.H.useInsertionEffect(V,Z)},Re.useLayoutEffect=function(V,Z){return x.H.useLayoutEffect(V,Z)},Re.useMemo=function(V,Z){return x.H.useMemo(V,Z)},Re.useOptimistic=function(V,Z){return x.H.useOptimistic(V,Z)},Re.useReducer=function(V,Z,oe){return x.H.useReducer(V,Z,oe)},Re.useRef=function(V){return x.H.useRef(V)},Re.useState=function(V){return x.H.useState(V)},Re.useSyncExternalStore=function(V,Z,oe){return x.H.useSyncExternalStore(V,Z,oe)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.3",Re}var Av;function ip(){return Av||(Av=1,sm.exports=jA()),sm.exports}var U=ip(),am={exports:{}},Gl={},om={exports:{}},lm={};var wv;function zA(){return wv||(wv=1,(function(r){function e(Y,ae){var de=Y.length;Y.push(ae);e:for(;0<de;){var Me=de-1>>>1,Ye=Y[Me];if(0<o(Ye,ae))Y[Me]=ae,Y[de]=Ye,de=Me;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],de=Y.pop();if(de!==ae){Y[0]=de;e:for(var Me=0,Ye=Y.length,V=Ye>>>1;Me<V;){var Z=2*(Me+1)-1,oe=Y[Z],ue=Z+1,ve=Y[ue];if(0>o(oe,de))ue<Ye&&0>o(ve,oe)?(Y[Me]=ve,Y[ue]=de,Me=ue):(Y[Me]=oe,Y[Z]=de,Me=Z);else if(ue<Ye&&0>o(ve,de))Y[Me]=ve,Y[ue]=de,Me=ue;else break e}}return ae}function o(Y,ae){var de=Y.sortIndex-ae.sortIndex;return de!==0?de:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,j=!1,Q=!1,$=!1,k=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ae(Y){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Y)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function xe(Y){if($=!1,Ae(Y),!Q)if(n(g)!==null)Q=!0,Se||(Se=!0,P());else{var ae=n(y);ae!==null&&ke(xe,ae.startTime-Y)}}var Se=!1,x=-1,C=5,I=-1;function M(){return k?!0:!(r.unstable_now()-I<C)}function N(){if(k=!1,Se){var Y=r.unstable_now();I=Y;var ae=!0;try{e:{Q=!1,$&&($=!1,ne(x),x=-1),j=!0;var de=w;try{t:{for(Ae(Y),S=n(g);S!==null&&!(S.expirationTime>Y&&M());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,w=S.priorityLevel;var Ye=Me(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ye=="function"){S.callback=Ye,Ae(Y),ae=!0;break t}S===n(g)&&s(g),Ae(Y)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var V=n(y);V!==null&&ke(xe,V.startTime-Y),ae=!1}}break e}finally{S=null,w=de,j=!1}ae=void 0}}finally{ae?P():Se=!1}}}var P;if(typeof se=="function")P=function(){se(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ie=R.port2;R.port1.onmessage=N,P=function(){Ie.postMessage(null)}}else P=function(){ie(N,0)};function ke(Y,ae){x=ie(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var de=w;w=ae;try{return Y()}finally{w=de}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=w;w=Y;try{return ae()}finally{w=de}},r.unstable_scheduleCallback=function(Y,ae,de){var Me=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,Y){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=de+Ye,Y={id:E++,callback:ae,priorityLevel:Y,startTime:de,expirationTime:Ye,sortIndex:-1},de>Me?(Y.sortIndex=de,e(y,Y),n(g)===null&&Y===n(y)&&($?(ne(x),x=-1):$=!0,ke(xe,de-Me))):(Y.sortIndex=Ye,e(g,Y),Q||j||(Q=!0,Se||(Se=!0,P()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var ae=w;return function(){var de=w;w=ae;try{return Y.apply(this,arguments)}finally{w=de}}}})(lm)),lm}var Rv;function BA(){return Rv||(Rv=1,om.exports=zA()),om.exports}var um={exports:{}},an={};var Cv;function qA(){if(Cv)return an;Cv=1;var r=ip();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},an.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:j}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.2.3",an}var xv;function HA(){if(xv)return um.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=qA(),um.exports}var Iv;function FA(){if(Iv)return Gl;Iv=1;var r=BA(),e=ip(),n=HA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ie:return"Profiler";case k:return"StrictMode";case xe:return"Suspense";case Se:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Ie(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ie(t(i))}catch{}}return null}var ke=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Me=[],Ye=-1;function V(t){return{current:t}}function Z(t){0>Ye||(t.current=Me[Ye],Me[Ye]=null,Ye--)}function oe(t,i){Ye++,Me[Ye]=t.current,t.current=i}var ue=V(null),ve=V(null),we=V(null),ye=V(null);function bt(t,i){switch(oe(we,i),oe(ve,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?F_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=F_(i),t=G_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),oe(ue,t)}function st(){Z(ue),Z(ve),Z(we)}function Ei(t){t.memoizedState!==null&&oe(ye,t);var i=ue.current,a=G_(i,t.type);i!==a&&(oe(ve,t),oe(ue,a))}function $i(t){ve.current===t&&(Z(ue),Z(ve)),ye.current===t&&(Z(ye),zl._currentValue=de)}var Wi,Ji;function wn(t){if(Wi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wi=i&&i[1]||"",Ji=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+t+Ji}var lt=!1;function sn(t,i){if(!t||lt)return"";lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),H=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{lt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wn(a):""}function jn(t,i){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return t.child!==i&&i!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return sn(t.type,!1);case 11:return sn(t.type.render,!1);case 1:return sn(t.type,!0);case 31:return wn("Activity");default:return""}}function Vr(t){try{var i="",a=null;do i+=jn(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Et=r.unstable_scheduleCallback,dn=r.unstable_cancelCallback,Mr=r.unstable_shouldYield,Ti=r.unstable_requestPaint,Xt=r.unstable_now,At=r.unstable_getCurrentPriorityLevel,Si=r.unstable_ImmediatePriority,bi=r.unstable_UserBlockingPriority,ri=r.unstable_NormalPriority,Zi=r.unstable_LowPriority,kr=r.unstable_IdlePriority,Aa=r.log,wa=r.unstable_setDisableYieldValue,Rn=null,zt=null;function mn(t){if(typeof Aa=="function"&&wa(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Rn,t)}catch{}}var yt=Math.clz32?Math.clz32:Ra,Pr=Math.log,Lr=Math.LN2;function Ra(t){return t>>>=0,t===0?32:31-(Pr(t)/Lr|0)|0}var zn=256,er=262144,ut=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Bn(l):(_&=T,_!==0?h=Bn(_):a||(a=T&~t,a!==0&&(h=Bn(a))))):(T=l&~d,T!==0?h=Bn(T):_!==0?h=Bn(_):a||(a=l&~t,a!==0&&(h=Bn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Us(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(){var t=ut;return ut<<=1,(ut&62914560)===0&&(ut=4194304),t}function Ge(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function q(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function me(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-yt(a),ee=1<<X;T[X]=0,D[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Oe(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Oe(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function dt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bt(t,i){var a=i&-i;return a=(a&42)!==0?1:qn(a),(a&(t.suspendedLanes|i))!==0?0:a}function qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function si(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ai=Math.random().toString(36).slice(2),It="__reactFiber$"+ai,Ft="__reactProps$"+ai,Ai="__reactContainer$"+ai,Ca="__reactEvents$"+ai,cf="__reactListeners$"+ai,Nu="__reactHandles$"+ai,Ou="__reactResources$"+ai,wi="__reactMarker$"+ai;function xa(t){delete t[It],delete t[Ft],delete t[Ca],delete t[cf],delete t[Nu]}function Ri(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ai]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[It])return a;t=J_(t)}return i}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[It]||t[Ai]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function In(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ci(t){var i=t[Ou];return i||(i=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[wi]=!0}var Qo=new Set,Yo={};function xi(t,i){Ii(t,i),Ii(t+"Capture",i)}function Ii(t,i){for(Yo[t]=i,t=0;t<i.length;t++)Qo.add(i[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Wo={};function Vu(t){return gt.call(Wo,t)?!0:gt.call($o,t)?!1:Xo.test(t)?Wo[t]=!0:($o[t]=!0,!1)}function Ia(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Dn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Je(t){if(!t._valueTracker){var i=jr(t)?"checked":"value";t._valueTracker=Jo(t,i,""+t[i])}}function js(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=jr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function pn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Da(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Gt(i)):t.value!==""+Gt(i)&&(t.value=""+Gt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zo(t,_,Gt(i)):a!=null?Zo(t,_,Gt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Gt(T):t.removeAttribute("name")}function Mu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Je(t);return}a=a!=null?""+Gt(a):"",i=i!=null?""+Gt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Je(t)}function Zo(t,i,a){i==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ku(t,i,a){if(i!=null&&(i=""+Gt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Gt(a):""}function Br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Gt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function tl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&el(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&el(t,d,i[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var nl=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hr=null,Ni=null;function Bs(t){var i=Hn(t);if(i&&(t=i.stateNode)){var a=t[Ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(Da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ft]||null;if(!h)throw Error(s(90));Da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&js(l)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zr(t,!!a.multiple,i,!1)}}}var Va=!1;function Fr(t,i,a){if(Va)return t(i,a);Va=!0;try{var l=t(i);return l}finally{if(Va=!1,(Hr!==null||Ni!==null)&&(Dc(),Hr&&(i=Hr,t=Ni,Ni=Hr=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function li(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Gn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{qs=!1}var Oi=null,il=null,Hs=null;function rl(){if(Hs)return Hs;var t,i=il,a=i.length,l,h="value"in Oi?Oi.value:Oi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Hs=h.slice(t,1<l?1-l:void 0)}function Fs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function ui(){return!1}function $t(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:ui,this.isPropagationStopped=ui,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),i}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=$t(ir),Gr=S({},ir,{view:0,detail:0}),sl=$t(Gr),Kr,Ma,Mi,ka=S({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Kr=t.screenX-Mi.screenX,Ma=t.screenY-Mi.screenY):Ma=Kr=0,Mi=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),al=$t(ka),Gs=S({},ka,{dataTransfer:0}),Uu=$t(Gs),ju=S({},Gr,{relatedTarget:0}),Ks=$t(ju),ol=S({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=$t(ol),Pa=S({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=$t(Pa),qu=S({},ir,{data:0}),ki=$t(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Qr(){return Ku}var hn=S({},Gr,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qu=$t(hn),Yu=S({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=$t(Yu),c=S({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),p=$t(c),v=S({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=$t(v),z=S({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=$t(z),re=S({},ir,{newState:0,oldState:0}),De=$t(re),wt=[9,13,27,32],Xe=Gn&&"CompositionEvent"in window,mt=null;Gn&&"documentMode"in document&&(mt=document.documentMode);var Kn=Gn&&"TextEvent"in window&&!mt,Pi=Gn&&(!Xe||mt&&8<mt&&11>=mt),ci=" ",hi=!1;function Qs(t,i){switch(t){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function ob(t,i){switch(t){case"compositionend":return La(i);case"keypress":return i.which!==32?null:(hi=!0,ci);case"textInput":return t=i.data,t===ci&&hi?null:t;default:return null}}function lb(t,i){if(Ua)return t==="compositionend"||!Xe&&Qs(t,i)?(t=rl(),Hs=il=Oi=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ub[t.type]:i==="textarea"}function ng(t,i,a,l){Hr?Ni?Ni.push(l):Ni=[l]:Hr=l,i=Lc(i,"onChange"),0<i.length&&(a=new Vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ll=null,ul=null;function cb(t){U_(t,0)}function Xu(t){var i=In(t);if(js(i))return t}function ig(t,i){if(t==="change")return i}var rg=!1;if(Gn){var hf;if(Gn){var ff="oninput"in document;if(!ff){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),ff=typeof sg.oninput=="function"}hf=ff}else hf=!1;rg=hf&&(!document.documentMode||9<document.documentMode)}function ag(){ll&&(ll.detachEvent("onpropertychange",og),ul=ll=null)}function og(t){if(t.propertyName==="value"&&Xu(ul)){var i=[];ng(i,ul,t,Fn(t)),Fr(cb,i)}}function hb(t,i,a){t==="focusin"?(ag(),ll=i,ul=a,ll.attachEvent("onpropertychange",og)):t==="focusout"&&ag()}function fb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(ul)}function db(t,i){if(t==="click")return Xu(i)}function mb(t,i){if(t==="input"||t==="change")return Xu(i)}function pb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:pb;function cl(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!gt.call(i,h)||!Nn(t[h],i[h]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,i){var a=lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lg(a)}}function cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Di(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var gb=Gn&&"documentMode"in document&&11>=document.documentMode,ja=null,mf=null,hl=null,pf=!1;function fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||ja==null||ja!==Di(l)||(l=ja,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Lc(mf,"onSelect"),0<l.length&&(i=new Vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ja)))}function Ys(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var za={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},gf={},dg={};Gn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Xs(t){if(gf[t])return gf[t];if(!za[t])return t;var i=za[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return gf[t]=i[a];return t}var mg=Xs("animationend"),pg=Xs("animationiteration"),gg=Xs("animationstart"),yb=Xs("transitionrun"),_b=Xs("transitionstart"),vb=Xs("transitioncancel"),yg=Xs("transitionend"),_g=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function fi(t,i){_g.set(t,i),xi(i,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Ba=0,_f=0;function Wu(){for(var t=Ba,i=_f=Ba=0;i<t;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var h=Qn[i];Qn[i++]=null;var d=Qn[i];if(Qn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function Ju(t,i,a,l){Qn[Ba++]=t,Qn[Ba++]=i,Qn[Ba++]=a,Qn[Ba++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Ju(t,i,a,l),Zu(t)}function $s(t,i){return Ju(t,null,null,i),Zu(t)}function vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(t){if(50<Vl)throw Vl=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var qa={};function Eb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,a,l){return new Eb(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sr(t,i){var a=t.alternate;return a===null?(a=On(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=wA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=On(31,a,i,h),t.elementType=I,t.lanes=d,t;case $:return Ws(a.children,h,d,i);case k:_=8,h|=24;break;case ie:return t=On(12,a,i,h|2),t.elementType=ie,t.lanes=d,t;case xe:return t=On(13,a,i,h),t.elementType=xe,t.lanes=d,t;case Se:return t=On(19,a,i,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case ne:_=9;break e;case Ae:_=11;break e;case x:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=On(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ws(t,i,a,l){return t=On(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=On(6,t,null,i),t.lanes=a,t}function Tg(t){var i=On(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sg=new WeakMap;function Yn(t,i){if(typeof t=="object"&&t!==null){var a=Sg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vr(i)},Sg.set(t,i),i)}return{value:t,source:i,stack:Vr(i)}}var Ha=[],Fa=0,tc=null,fl=0,Xn=[],$n=0,Yr=null,Li=1,Ui="";function ar(t,i){Ha[Fa++]=fl,Ha[Fa++]=tc,tc=t,fl=i}function bg(t,i,a){Xn[$n++]=Li,Xn[$n++]=Ui,Xn[$n++]=Yr,Yr=t;var l=Li;t=Ui;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Li=1<<32-yt(i)+h|a<<h|l,Ui=d+t}else Li=1<<d|a<<h|l,Ui=t}function bf(t){t.return!==null&&(ar(t,1),bg(t,1,0))}function Af(t){for(;t===tc;)tc=Ha[--Fa],Ha[Fa]=null,fl=Ha[--Fa],Ha[Fa]=null;for(;t===Yr;)Yr=Xn[--$n],Xn[$n]=null,Ui=Xn[--$n],Xn[$n]=null,Li=Xn[--$n],Xn[$n]=null}function Ag(t,i){Xn[$n++]=Li,Xn[$n++]=Ui,Xn[$n++]=Yr,Li=i.id,Ui=i.overflow,Yr=t}var Wt=null,ct=null,He=!1,Xr=null,Wn=!1,wf=Error(s(519));function $r(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Yn(i,t)),wf}function wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Ft]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)Le(kl[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||q_(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=oi),i=!0):i=!1,i||$r(t,!0)}function Rg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Wt=Wt.return}}function Ga(t){if(t!==Wt)return!1;if(!He)return Rg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&ct&&$r(t),Rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=W_(t)}else i===27?(i=ct,cs(t.type)?(t=Yd,Yd=null,ct=t):ct=i):ct=Wt?Zn(t.stateNode.nextSibling):null;return!0}function Js(){ct=Wt=null,He=!1}function Rf(){var t=Xr;return t!==null&&(En===null?En=t:En.push.apply(En,t),Xr=null),t}function dl(t){Xr===null?Xr=[t]:Xr.push(t)}var Cf=V(null),Zs=null,or=null;function Wr(t,i,a){oe(Cf,i._currentValue),i._currentValue=a}function lr(t){t._currentValue=Cf.current,Z(Cf)}function xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),xf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ka(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Nn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ye.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}h=h.return}t!==null&&If(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Zs=t,or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Cg(Zs,t)}function ic(t,i){return Zs===null&&ea(t),Cg(t,i)}function Cg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},or===null){if(t===null)throw Error(s(308));or=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else or=or.next=i;return a}var Tb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Sb=r.unstable_scheduleCallback,bb=r.unstable_NormalPriority,Ot={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new Tb,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&Sb(bb,function(){t.controller.abort()})}var pl=null,Nf=0,Qa=0,Ya=null;function Ab(t,i){if(pl===null){var a=pl=[];Nf=0,Qa=Md(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(xg,xg),i}function xg(){if(--Nf===0&&pl!==null){Ya!==null&&(Ya.status="fulfilled");var t=pl;pl=null,Qa=0,Ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function wb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ig=Y.S;Y.S=function(t,i){f_=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ab(t,i),Ig!==null&&Ig(t,i)};var ta=V(null);function Of(){var t=ta.current;return t!==null?t:at.pooledCache}function rc(t,i){i===null?oe(ta,ta.current):oe(ta,i.pool)}function Dg(){var t=Of();return t===null?null:{parent:Ot._currentValue,pool:t}}var Xa=Error(s(460)),Vf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Og(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(oi,oi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mg(t),t;default:if(typeof i.status=="string")i.then(oi,oi);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mg(t),t}throw ia=i,Xa}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Xa):a}}var ia=null;function Vg(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function Mg(t){if(t===Xa||t===sc)throw Error(s(483))}var $a=null,gl=0;function oc(t){var i=gl;return gl+=1,$a===null&&($a=[]),Og($a,t,i)}function yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kg(t){function i(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=sr(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,B,W){return O===null||O.tag!==6?(O=Tf(B,L.mode,W),O.return=L,O):(O=h(O,B),O.return=L,O)}function D(L,O,B,W){var pe=B.type;return pe===$?X(L,O,B.props.children,W,B.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&na(pe)===O.type)?(O=h(O,B.props),yl(O,B),O.return=L,O):(O=ec(B.type,B.key,B.props,null,L.mode,W),yl(O,B),O.return=L,O)}function H(L,O,B,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Sf(B,L.mode,W),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function X(L,O,B,W,pe){return O===null||O.tag!==7?(O=Ws(B,L.mode,W,pe),O.return=L,O):(O=h(O,B),O.return=L,O)}function ee(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Tf(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return B=ec(O.type,O.key,O.props,null,L.mode,B),yl(B,O),B.return=L,B;case Q:return O=Sf(O,L.mode,B),O.return=L,O;case C:return O=na(O),ee(L,O,B)}if(ke(O)||P(O))return O=Ws(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return ee(L,oc(O),B);if(O.$$typeof===se)return ee(L,ic(L,O),B);lc(L,O)}return null}function F(L,O,B,W){var pe=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:T(L,O,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===pe?D(L,O,B,W):null;case Q:return B.key===pe?H(L,O,B,W):null;case C:return B=na(B),F(L,O,B,W)}if(ke(B)||P(B))return pe!==null?null:X(L,O,B,W,null);if(typeof B.then=="function")return F(L,O,oc(B),W);if(B.$$typeof===se)return F(L,O,ic(L,B),W);lc(L,B)}return null}function K(L,O,B,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,T(O,L,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return L=L.get(W.key===null?B:W.key)||null,D(O,L,W,pe);case Q:return L=L.get(W.key===null?B:W.key)||null,H(O,L,W,pe);case C:return W=na(W),K(L,O,B,W,pe)}if(ke(W)||P(W))return L=L.get(B)||null,X(O,L,W,pe,null);if(typeof W.then=="function")return K(L,O,B,oc(W),pe);if(W.$$typeof===se)return K(L,O,B,ic(O,W),pe);lc(O,W)}return null}function he(L,O,B,W){for(var pe=null,Ke=null,fe=O,Ve=O=0,je=null;fe!==null&&Ve<B.length;Ve++){fe.index>Ve?(je=fe,fe=null):je=fe.sibling;var Qe=F(L,fe,B[Ve],W);if(Qe===null){fe===null&&(fe=je);break}t&&fe&&Qe.alternate===null&&i(L,fe),O=d(Qe,O,Ve),Ke===null?pe=Qe:Ke.sibling=Qe,Ke=Qe,fe=je}if(Ve===B.length)return a(L,fe),He&&ar(L,Ve),pe;if(fe===null){for(;Ve<B.length;Ve++)fe=ee(L,B[Ve],W),fe!==null&&(O=d(fe,O,Ve),Ke===null?pe=fe:Ke.sibling=fe,Ke=fe);return He&&ar(L,Ve),pe}for(fe=l(fe);Ve<B.length;Ve++)je=K(fe,L,Ve,B[Ve],W),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?Ve:je.key),O=d(je,O,Ve),Ke===null?pe=je:Ke.sibling=je,Ke=je);return t&&fe.forEach(function(ps){return i(L,ps)}),He&&ar(L,Ve),pe}function _e(L,O,B,W){if(B==null)throw Error(s(151));for(var pe=null,Ke=null,fe=O,Ve=O=0,je=null,Qe=B.next();fe!==null&&!Qe.done;Ve++,Qe=B.next()){fe.index>Ve?(je=fe,fe=null):je=fe.sibling;var ps=F(L,fe,Qe.value,W);if(ps===null){fe===null&&(fe=je);break}t&&fe&&ps.alternate===null&&i(L,fe),O=d(ps,O,Ve),Ke===null?pe=ps:Ke.sibling=ps,Ke=ps,fe=je}if(Qe.done)return a(L,fe),He&&ar(L,Ve),pe;if(fe===null){for(;!Qe.done;Ve++,Qe=B.next())Qe=ee(L,Qe.value,W),Qe!==null&&(O=d(Qe,O,Ve),Ke===null?pe=Qe:Ke.sibling=Qe,Ke=Qe);return He&&ar(L,Ve),pe}for(fe=l(fe);!Qe.done;Ve++,Qe=B.next())Qe=K(fe,L,Ve,Qe.value,W),Qe!==null&&(t&&Qe.alternate!==null&&fe.delete(Qe.key===null?Ve:Qe.key),O=d(Qe,O,Ve),Ke===null?pe=Qe:Ke.sibling=Qe,Ke=Qe);return t&&fe.forEach(function(PA){return i(L,PA)}),He&&ar(L,Ve),pe}function rt(L,O,B,W){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var pe=B.key;O!==null;){if(O.key===pe){if(pe=B.type,pe===$){if(O.tag===7){a(L,O.sibling),W=h(O,B.props.children),W.return=L,L=W;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&na(pe)===O.type){a(L,O.sibling),W=h(O,B.props),yl(W,B),W.return=L,L=W;break e}a(L,O);break}else i(L,O);O=O.sibling}B.type===$?(W=Ws(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=ec(B.type,B.key,B.props,null,L.mode,W),yl(W,B),W.return=L,L=W)}return _(L);case Q:e:{for(pe=B.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),W=h(O,B.children||[]),W.return=L,L=W;break e}else{a(L,O);break}else i(L,O);O=O.sibling}W=Sf(B,L.mode,W),W.return=L,L=W}return _(L);case C:return B=na(B),rt(L,O,B,W)}if(ke(B))return he(L,O,B,W);if(P(B)){if(pe=P(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),_e(L,O,B,W)}if(typeof B.then=="function")return rt(L,O,oc(B),W);if(B.$$typeof===se)return rt(L,O,ic(L,B),W);lc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),W=h(O,B),W.return=L,L=W):(a(L,O),W=Tf(B,L.mode,W),W.return=L,L=W),_(L)):a(L,O)}return function(L,O,B,W){try{gl=0;var pe=rt(L,O,B,W);return $a=null,pe}catch(fe){if(fe===Xa||fe===sc)throw fe;var Ke=On(29,fe,null,L.mode);return Ke.lanes=W,Ke.return=L,Ke}}}var ra=kg(!0),Pg=kg(!1),Jr=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function es(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(t),vg(t,null,a),i}return Ju(t,l,i,a),Zu(t)}function _l(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,dt(t,a)}}function Pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function vl(){if(Lf){var t=Ya;if(t!==null)throw t}}function El(t,i,a,l){Lf=!1;var h=t.updateQueue;Jr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,H=D.next;D.next=null,_===null?d=H:_.next=H,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;_=0,X=H=D=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Ue&F)===F:(l&F)===F){F!==0&&F===Qa&&(Lf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,_e=T;F=i;var rt=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ee=he.call(rt,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,F=typeof he=="function"?he.call(rt,ee,F):he,F==null)break e;ee=S({},ee,F);break e;case 2:Jr=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=K,D=ee):X=X.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ss|=_,t.lanes=_,t.memoizedState=ee}}function Lg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ug(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lg(a[t],i)}var Wa=V(null),uc=V(0);function jg(t,i){t=yr,oe(uc,t),oe(Wa,i),yr=t|i.baseLanes}function Uf(){oe(uc,yr),oe(Wa,Wa.current)}function jf(){yr=uc.current,Z(Wa),Z(uc)}var Vn=V(null),Jn=null;function ts(t){var i=t.alternate;oe(Rt,Rt.current&1),oe(Vn,t),Jn===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(Jn=t)}function zf(t){oe(Rt,Rt.current),oe(Vn,t),Jn===null&&(Jn=t)}function zg(t){t.tag===22?(oe(Rt,Rt.current),oe(Vn,t),Jn===null&&(Jn=t)):ns()}function ns(){oe(Rt,Rt.current),oe(Vn,Vn.current)}function Mn(t){Z(Vn),Jn===t&&(Jn=null),Z(Rt)}var Rt=V(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ur=0,Ne=null,nt=null,Vt=null,hc=!1,Ja=!1,sa=!1,fc=0,Tl=0,Za=null,Rb=0;function Tt(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return ur=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?by:id,sa=!1,d=a(l,h),sa=!1,Ja&&(d=qg(i,a,l,h)),Bg(t),d}function Bg(t){Y.H=Al;var i=nt!==null&&nt.next!==null;if(ur=0,Vt=nt=Ne=null,hc=!1,Tl=0,Za=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&nc(t)&&(Mt=!0))}function qg(t,i,a,l){Ne=t;var h=0;do{if(Ja&&(Za=null),Tl=0,Ja=!1,25<=h)throw Error(s(301));if(h+=1,Vt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ay,d=i(a,l)}while(Ja);return d}function Cb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Hf(){var t=fc!==0;return fc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}ur=0,Vt=nt=Ne=null,Ja=!1,Tl=fc=0,Za=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Ct(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Vt===null?Ne.memoizedState:Vt.next;if(i!==null)Vt=i,nt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Vt===null?Ne.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=Tl;return Tl+=1,Za===null&&(Za=[]),t=Og(Za,t,i),i=Ne,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?by:id),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===se)return Jt(t)}throw Error(s(438,String(t)))}function Kf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function cr(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Ct();return Qf(i,nt,t)}function Qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ue&ee)===ee:(ur&ee)===ee){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Qa&&(X=!0);else if((ur&F)===F){H=H.next,F===Qa&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=ee,_=d):D=D.next=ee,Ne.lanes|=F,ss|=F;ee=H.action,sa&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=F,_=d):D=D.next=F,Ne.lanes|=ee,ss|=ee;H=H.next}while(H!==null&&H!==i);if(D===null?_=d:D.next=T,!Nn(d,t.memoizedState)&&(Mt=!0,X&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=Ct(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Nn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(t,i,a){var l=Ne,h=Ct(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Nn((nt||h).memoizedState,a);if(_&&(h.memoizedState=a,Mt=!0),h=h.queue,Wf(Kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},Gg.bind(null,l,h,a,i),null),at===null)throw Error(s(349));d||(ur&127)!==0||Fg(l,i,a)}return a}function Fg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=dc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gg(t,i,a,l){i.value=a,i.getSnapshot=l,Qg(i)&&Yg(t)}function Kg(t,i,a){return a(function(){Qg(i)&&Yg(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function Yg(t){var i=$s(t,2);i!==null&&Tn(i,t,2)}function Xf(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),sa){mn(!0);try{a()}finally{mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:t},i}function Xg(t,i,a,l){return t.baseState=a,Qf(t,nt,typeof l=="function"?l:cr)}function xb(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),D=Y.S;D!==null&&D(_,T),Wg(t,i,T)}catch(H){$f(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),Wg(t,i,d)}catch(H){$f(t,i,H)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,i,l)},function(l){return $f(t,i,l)}):Jg(t,i,a)}function Jg(t,i,a){i.status="fulfilled",i.value=a,Zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$g(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zg(i),i=i.next;while(i!==l)}t.action=null}function Zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ey(t,i){return i}function ty(t,i){if(He){var a=at.formState;if(a!==null){e:{var l=Ne;if(He){if(ct){t:{for(var h=ct,d=Wn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Zn(h.nextSibling),l=h.data==="F!";break e}}$r(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:i},a.queue=l,a=Ey.bind(null,Ne,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Ne,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=xb.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ny(t){var i=Ct();return iy(i,nt,t)}function iy(t,i,a){if(i=Qf(t,i,ey)[0],t=pc(cr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(_){throw _===Xa?sc:_}else l=i;i=Ct();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,eo(9,{destroy:void 0},Ib.bind(null,h,a),null)),[l,d,t]}function Ib(t,i){t.action=i}function ry(t){var i=Ct(),a=nt;if(a!==null)return iy(i,a,t);Ct(),i=i.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function eo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=dc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function sy(){return Ct().memoizedState}function gc(t,i,a,l){var h=fn();Ne.flags|=t,h.memoizedState=eo(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var h=Ct();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Bf(l,nt.memoizedState.deps)?h.memoizedState=eo(i,d,a,l):(Ne.flags|=t,h.memoizedState=eo(1|i,d,a,l))}function ay(t,i){gc(8390656,8,t,i)}function Wf(t,i){yc(2048,8,t,i)}function Db(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=dc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function oy(t){var i=Ct().memoizedState;return Db({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ly(t,i){return yc(4,2,t,i)}function uy(t,i){return yc(4,4,t,i)}function cy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hy(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,cy.bind(null,i,t),a)}function Jf(){}function fy(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function dy(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),sa){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(ur&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=m_(),Ne.lanes|=t,ss|=t,a)}function my(t,i,a,l){return Nn(a,i)?a:Wa.current!==null?(t=Zf(t,a,l),Nn(t,i)||(Mt=!0),t):(ur&42)===0||(ur&1073741824)!==0&&(Ue&261930)===0?(Mt=!0,t.memoizedState=a):(t=m_(),Ne.lanes|=t,ss|=t,i)}function py(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,nd(t,!1,i,a);try{var D=h(),H=Y.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=wb(D,l);bl(t,i,X,Ln(t))}else bl(t,i,l,Ln(t))}catch(ee){bl(t,i,{then:function(){},status:"rejected",reason:ee},Ln())}finally{ae.p=d,_!==null&&T.types!==null&&(_.types=T.types),Y.T=_}}function Nb(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=gy(t).queue;py(t,h,i,de,a===null?Nb:function(){return yy(t),a(l)})}function gy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function yy(t){var i=gy(t);i.next===null&&(i=t.alternate.memoizedState),bl(t,i.next.queue,{},Ln())}function td(){return Jt(zl)}function _y(){return Ct().memoizedState}function vy(){return Ct().memoizedState}function Ob(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ln();t=Zr(a);var l=es(i,t,a);l!==null&&(Tn(l,i,a),_l(l,i,a)),i={cache:Df()},t.payload=i;return}i=i.return}}function Vb(t,i,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Ty(i,a):(a=vf(t,i,a,l),a!==null&&(Tn(a,t,l),Sy(a,i,l)))}function Ey(t,i,a){var l=Ln();bl(t,i,a,l)}function bl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Ty(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Nn(T,_))return Ju(t,i,h,0),at===null&&Wu(),!1}catch{}if(a=vf(t,i,h,l),a!==null)return Tn(a,t,l),Sy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&Tn(i,t,2)}function _c(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Ty(t,i){Ja=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Sy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,dt(t,a)}}var Al={readContext:Jt,use:mc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Al.useEffectEvent=Tt;var by={readContext:Jt,use:mc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,cy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(sa){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(sa){mn(!0);try{a(i)}finally{mn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Vb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Ey.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=fn();return Zf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=py.bind(null,Ne,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=fn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),at===null)throw Error(s(349));(Ue&127)!==0||Fg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ay(Kg.bind(null,l,d,t),[t]),l.flags|=2048,eo(9,{destroy:void 0},Gg.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=at.identifierPrefix;if(He){var a=Ui,l=Li;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Rb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ty,useActionState:ty,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return fn().memoizedState=Ob.bind(null,Ne)},useEffectEvent:function(t){var i=fn(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Jt,use:mc,useCallback:fy,useContext:Jt,useEffect:Wf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:pc,useRef:sy,useState:function(){return pc(cr)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=Ct();return my(a,nt.memoizedState,t,i)},useTransition:function(){var t=pc(cr)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:td,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=Ct();return Xg(a,nt,t,i)},useMemoCache:Kf,useCacheRefresh:vy};id.useEffectEvent=oy;var Ay={readContext:Jt,use:mc,useCallback:fy,useContext:Jt,useEffect:Wf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:Yf,useRef:sy,useState:function(){return Yf(cr)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=Ct();return nt===null?Zf(a,t,i):my(a,nt.memoizedState,t,i)},useTransition:function(){var t=Yf(cr)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:td,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var a=Ct();return nt!==null?Xg(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:vy};Ay.useEffectEvent=oy;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ln(),h=Zr(l);h.payload=i,a!=null&&(h.callback=a),i=es(t,h,l),i!==null&&(Tn(i,t,l),_l(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ln(),h=Zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=es(t,h,l),i!==null&&(Tn(i,t,l),_l(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ln(),l=Zr(a);l.tag=2,i!=null&&(l.callback=i),i=es(t,l,a),i!==null&&(Tn(i,t,a),_l(i,t,a))}};function wy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(h,d):!0}function Ry(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Cy(t){$u(t)}function xy(t){console.error(t)}function Iy(t){$u(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Zr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function Ny(t){return t=Zr(t),t.tag=3,t}function Oy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Dy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Dy(i,a,l),typeof h!="function"&&(as===null?as=new Set([this]):as.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Mb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ka(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?Nc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Nc(),!1}if(He)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),dl(Yn(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),dl(Yn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Yn(l,a),h=ad(t.stateNode,l,h),Pf(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:l});if(d=Yn(d,a),Ol===null?Ol=[d]:Ol.push(d),St!==4&&(St=2),i===null)return!0;l=Yn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Pf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(as===null||!as.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),Oy(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),Mt=!1;function Zt(t,i,a,l){i.child=t===null?Pg(i,null,a,l):ra(i,t.child,a,l)}function Vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ea(i),l=qf(t,i,a,_,d,h),T=Hf(),t!==null&&!Mt?(Ff(t,i,h),hr(t,i,h)):(He&&T&&bf(i),i.flags|=1,Zt(t,i,l,h),i.child)}function My(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ky(t,i,d,l,h)):(t=ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&t.ref===i.ref)return hr(t,i,h)}return i.flags|=1,t=sr(d,l),t.ref=i.ref,t.return=i,i.child=t}function ky(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(cl(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,hr(t,i,h)}return ld(t,i,a,l,h)}function Py(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ly(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?jg(i,d):Uf(),zg(i);else return l=i.lanes=536870912,Ly(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),jg(i,d),ns(),i.memoizedState=null):(t!==null&&rc(i,null),Uf(),ns());return Zt(t,i,h,a),i.child}function wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ly(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:Ot._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Uf(),zg(i),t!==null&&Ka(t,i,l,!0),i.childLanes=h,null}function Ec(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Uy(t,i,a){return ra(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,Mn(i),i.memoizedState=null,t}function kb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,wl(null,t);if(zf(i),(t=ct)?(t=$_(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Yr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Tg(t),a.return=i,i.child=a,Wt=i,ct=null)):t=null,t===null)throw $r(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=Uy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||Ka(t,i,a,!1),h=(a&t.childLanes)!==0,Mt||h){if(l=at,l!==null&&(_=Bt(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,$s(t,_),Tn(l,t,_),od;Nc(),i=Uy(t,i,a)}else t=d.treeContext,ct=Zn(_.nextSibling),Wt=i,He=!0,Xr=null,Wn=!1,t!==null&&Ag(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=sr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return ea(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!Mt?(Ff(t,i,h),hr(t,i,h)):(He&&l&&bf(i),i.flags|=1,Zt(t,i,a,h),i.child)}function jy(t,i,a,l,h,d){return ea(i),i.updateQueue=null,a=qg(i,l,a,h),Bg(t),l=Hf(),t!==null&&!Mt?(Ff(t,i,d),hr(t,i,d)):(He&&l&&bf(i),i.flags|=1,Zt(t,i,a,d),i.child)}function zy(t,i,a,l,h){if(ea(i),i.stateNode===null){var d=qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Jt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Mf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Jt(_):qa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),El(i,l,d,h),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=aa(a,T);d.props=D;var H=d.context,X=a.contextType;_=qa,typeof X=="object"&&X!==null&&(_=Jt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Ry(i,d,l,_),Jr=!1;var F=i.memoizedState;d.state=F,El(i,l,d,h),vl(),H=i.memoizedState,T||F!==H||Jr?(typeof ee=="function"&&(rd(i,a,ee,l),H=i.memoizedState),(D=Jr||wy(i,a,D,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,X=aa(a,_),d.props=X,ee=i.pendingProps,F=d.context,H=a.contextType,D=qa,typeof H=="object"&&H!==null&&(D=Jt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==D)&&Ry(i,d,l,D),Jr=!1,F=i.memoizedState,d.state=F,El(i,l,d,h),vl();var K=i.memoizedState;_!==ee||F!==K||Jr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof T=="function"&&(rd(i,a,T,l),K=i.memoizedState),(X=Jr||wy(i,a,X,l,F,K,D)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ra(i,t.child,null,h),i.child=ra(i,null,a,h)):Zt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=hr(t,i,h),t}function By(t,i,a,l){return Js(),i.flags|=256,Zt(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Dg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function qy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?ts(i):ns(),(t=ct)?(t=$_(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Yr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Tg(t),a.return=i,i.child=a,Wt=i,ct=null)):t=null,t===null)throw $r(i);return Qd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ns(),h=i.mode,T=Sc({mode:"hidden",children:T},h),l=Ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,wl(null,l)):(ts(i),fd(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(ts(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(ns(),i.child=t.child,i.flags|=128,i=null):(ns(),T=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),T=Ws(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ra(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=wl(null,l));else if(ts(i),Qd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(Mt||Ka(t,i,a,!1),_=(a&t.childLanes)!==0,Mt||_){if(_=at,_!==null&&(l=Bt(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,$s(t,l),Tn(_,t,l),od;Kd(T)||Nc(),i=dd(t,i,a)}else Kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ct=Zn(T.nextSibling),Wt=i,He=!0,Xr=null,Wn=!1,t!==null&&Ag(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(ns(),T=l.fallback,h=i.mode,D=t.child,H=D.sibling,l=sr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?T=sr(H,T):(T=Ws(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,wl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=cd(a):(h=T.cachePool,h!==null?(D=Ot._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Dg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,_,a),i.memoizedState=ud,wl(t.child,l)):(ts(i),a=t.child,t=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=On(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return ra(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),xf(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Fy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Rt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(Rt,_),Zt(t,i,l,a),l=He?fl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,i);else if(t.tag===19)Hy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function hr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ss|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=sr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=sr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function Pb(t,i,a){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Wr(i,Ot,t.memoizedState.cache),Js();break;case 27:case 5:Ei(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qy(t,i,a):(ts(i),t=hr(t,i,a),t!==null?t.sibling:null);ts(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ka(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Fy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Rt,Rt.current),l)break;return null;case 22:return i.lanes=0,Py(t,i,a,i.pendingProps);case 24:Wr(i,Ot,t.memoizedState.cache)}return hr(t,i,a)}function Gy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return Mt=!1,Pb(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,He&&(i.flags&1048576)!==0&&bg(i,fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=aa(t,l),i.tag=1,i=zy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){i.tag=11,i=Vy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=My(null,i,t,l,a);break e}}throw i=Ie(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=aa(l,i.pendingProps),zy(t,i,l,h,a);case 3:e:{if(bt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),El(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Wr(i,Ot,l),l!==d.cache&&If(i,[Ot],a,!0),vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=By(t,i,l,a);break e}else if(l!==h){h=Yn(Error(s(424)),i),dl(h),i=By(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Zn(t.firstChild),Wt=i,He=!0,Xr=null,Wn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Js(),l===h){i=hr(t,i,a);break e}Zt(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Uc(we.current).createElement(a),l[It]=i,l[Ft]=t,en(l,a,t),Dt(l),i.stateNode=l):i.memoizedState=nv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ei(i),t===null&&He&&(l=i.stateNode=Z_(i.type,i.pendingProps,we.current),Wt=i,Wn=!0,h=ct,cs(i.type)?(Yd=h,ct=Zn(l.firstChild)):ct=h),Zt(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ct)&&(l=fA(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,Wt=i,ct=Zn(l.firstChild),Wn=!1,h=!0):h=!1),h||$r(i)),Ei(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,Cb,null,null,a),zl._currentValue=h),Tc(t,i),Zt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ct)&&(a=dA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,Wt=i,ct=null,t=!0):t=!1),t||$r(i)),null;case 13:return qy(t,i,a);case 4:return bt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ra(i,null,l,a):Zt(t,i,l,a),i.child;case 11:return Vy(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Wr(i,i.type,l.value),Zt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ea(i),h=Jt(h),l=l(h),i.flags|=1,Zt(t,i,l,a),i.child;case 14:return My(t,i,i.type,i.pendingProps,a);case 15:return ky(t,i,i.type,i.pendingProps,a);case 19:return Fy(t,i,a);case 31:return kb(t,i,a);case 22:return Py(t,i,a,i.pendingProps);case 24:return ea(i),l=Jt(Ot),t===null?(h=Of(),h===null&&(h=at,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Mf(i),Wr(i,Ot,h)):((t.lanes&a)!==0&&(kf(t,i),El(i,null,null,a),vl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Wr(i,Ot,l)):(l=d.cache,Wr(i,Ot,l),l!==h.cache&&If(i,[Ot],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function fr(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(__())t.flags|=8192;else throw ia=ac,Vf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(i))if(__())t.flags|=8192;else throw ia=ac,Vf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ur():536870912,t.lanes|=i,ro|=i)}function Rl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Lb(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),lr(Ot),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(i)?fr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),ht(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(fr(i),d!==null?(ht(i),Ky(i,d)):(ht(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(fr(i),ht(i),Ky(i,d)):(ht(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&fr(i),ht(i),gd(i,h,t,l,a)),null;case 27:if($i(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&fr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}t=ue.current,Ga(i)?wg(i):(t=Z_(h,l,a),i.stateNode=t,fr(i))}return ht(i),null;case 5:if($i(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&fr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(d=ue.current,Ga(i))wg(i);else{var _=Uc(we.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[It]=i,d[Ft]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(en(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fr(i)}}return ht(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&fr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Ga(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||$r(i,!0)}else t=Uc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ht(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ga(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ga(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),ht(i),null);case 4:return st(),t===null&&Ud(i.stateNode.containerInfo),ht(i),null;case 10:return lr(i.type),ht(i),null;case 19:if(Z(Rt),l=i.memoizedState,l===null)return ht(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Rl(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,Rl(l,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Eg(a,t),a=a.sibling;return oe(Rt,Rt.current&1|2),He&&ar(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Xt()>xc&&(i.flags|=128,h=!0,Rl(l,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return ht(i),null}else 2*Xt()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,Rl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xt(),t.sibling=null,a=Rt.current,oe(Rt,h?a&1|2:a&1),He&&ar(i,l.treeForkCount),t):(ht(i),null);case 22:case 23:return Mn(i),jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),lr(Ot),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ub(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return lr(Ot),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $i(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(s(340));Js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(Rt),null;case 4:return st(),null;case 10:return lr(i.type),null;case 22:case 23:return Mn(i),jf(),t!==null&&Z(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return lr(Ot),null;case 25:return null;default:return null}}function Qy(t,i){switch(Af(i),i.tag){case 3:lr(Ot),st();break;case 26:case 27:case 5:$i(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:Z(Rt);break;case 10:lr(i.type);break;case 22:case 23:Mn(i),jf(),t!==null&&Z(ta);break;case 24:lr(Ot)}}function Cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){et(i,i.return,T)}}function is(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,H=T;try{H()}catch(X){et(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){et(i,i.return,X)}}function Yy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ug(i,a)}catch(l){et(t,t.return,l)}}}function Xy(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function xl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function ji(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function $y(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;aA(l,t.type,a,i),l[Ft]=i}catch(h){et(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cs(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oi));else if(l!==4&&(l===27&&cs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function Ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&cs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function Jy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);en(i,l,a),i[It]=t,i[Ft]=a}catch(d){et(t,t.return,d)}}var dr=!1,kt=!1,Ed=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function jb(t,i){if(t=t.containerInfo,Bd=Gc,t=hg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(T=_),F===d&&++X===l&&(D=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Gc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=aa(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function e_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pr(t,a),l&4&&Cl(5,a);break;case 1:if(pr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){et(a,a.return,_)}else{var h=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(a,a.return,_)}}l&64&&Yy(a),l&512&&xl(a,a.return);break;case 3:if(pr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ug(t,i)}catch(_){et(a,a.return,_)}}break;case 27:i===null&&l&4&&Jy(a);case 26:case 5:pr(t,a),i===null&&l&4&&$y(a),l&512&&xl(a,a.return);break;case 12:pr(t,a);break;case 31:pr(t,a),l&4&&i_(t,a);break;case 13:pr(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yb.bind(null,a),mA(t,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){i=i!==null&&i.memoizedState!==null||kt,h=dr;var d=kt;dr=l,(kt=i)&&!d?gr(t,a,(a.subtreeFlags&8772)!==0):pr(t,a),dr=h,kt=d}break;case 30:break;default:pr(t,a)}}function t_(t){var i=t.alternate;i!==null&&(t.alternate=null,t_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,yn=!1;function mr(t,i,a){for(a=a.child;a!==null;)n_(t,i,a),a=a.sibling}function n_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Rn,a)}catch{}switch(a.tag){case 26:kt||ji(a,i),mr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||ji(a,i);var l=pt,h=yn;cs(a.type)&&(pt=a.stateNode,yn=!1),mr(t,i,a),Ll(a.stateNode),pt=l,yn=h;break;case 5:kt||ji(a,i);case 6:if(l=pt,h=yn,pt=null,mr(t,i,a),pt=l,yn=h,pt!==null)if(yn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{pt.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:pt!==null&&(yn?(t=pt,Y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fo(t)):Y_(pt,a.stateNode));break;case 4:l=pt,h=yn,pt=a.stateNode.containerInfo,yn=!0,mr(t,i,a),pt=l,yn=h;break;case 0:case 11:case 14:case 15:is(2,a,i),kt||is(4,a,i),mr(t,i,a);break;case 1:kt||(ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xy(a,i,l)),mr(t,i,a);break;case 21:mr(t,i,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,mr(t,i,a),kt=l;break;default:mr(t,i,a)}}function i_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fo(t)}catch(a){et(i,i.return,a)}}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(a){et(i,i.return,a)}}function zb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zy),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=zb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Xb.bind(null,t,l);l.then(h,h)}})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(cs(T.type)){pt=T.stateNode,yn=!1;break e}break;case 5:pt=T.stateNode,yn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(pt===null)throw Error(s(160));n_(d,_,h),pt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s_(i,t),i=i.sibling}var di=null;function s_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),vn(t),l&4&&(is(3,t,t.return),Cl(3,t),is(5,t,t.return));break;case 1:_n(i,t),vn(t),l&512&&(kt||a===null||ji(a,a.return)),l&64&&dr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(_n(i,t),vn(t),l&512&&(kt||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wi]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),en(d,l,a),d[It]=t,Dt(d),l=d;break e;case"link":var _=sv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;case"meta":if(_=sv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,Dt(d),l=d}t.stateNode=l}else av(h,t.type,t.stateNode);else t.stateNode=rv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(h,t.type,t.stateNode):rv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),vn(t),l&512&&(kt||a===null||ji(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),vn(t),l&512&&(kt||a===null||ji(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(he){et(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(_n(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){et(t,t.return,he)}}break;case 3:if(Bc=null,h=di,di=jc(i.containerInfo),_n(i,t),di=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(i.containerInfo)}catch(he){et(t,t.return,he)}Ed&&(Ed=!1,a_(t));break;case 4:l=di,di=jc(t.stateNode.containerInfo),_n(i,t),vn(t),di=l;break;case 12:_n(i,t),vn(t);break;case 31:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:_n(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=Xt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=dr,X=kt;if(dr=H||h,kt=X||D,_n(i,t),kt=X,dr=H,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||dr||kt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){et(D,D.return,he)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(he){et(D,D.return,he)}}}else if(i.tag===18){if(a===null){D=i;try{var K=D.stateNode;h?X_(K,!0):X_(D.stateNode,!1)}catch(he){et(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:_n(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);Ac(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var T=_d(t);Ac(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,H=_d(t);vd(t,H,D);break;default:throw Error(s(161))}}catch(X){et(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function a_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function pr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:is(4,i,i.return),oa(i);break;case 1:ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xy(i,i.return,a),oa(i);break;case 27:Ll(i.stateNode);case 26:case 5:ji(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function gr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:gr(h,d,a),Cl(4,d);break;case 1:if(gr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){et(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Lg(D[h],T)}catch(H){et(l,l.return,H)}}a&&_&64&&Yy(d),xl(d,d.return);break;case 27:Jy(d);case 26:case 5:gr(h,d,a),a&&l===null&&_&4&&$y(d),xl(d,d.return);break;case 12:gr(h,d,a);break;case 31:gr(h,d,a),a&&_&4&&i_(h,d);break;case 13:gr(h,d,a),a&&_&4&&r_(h,d);break;case 22:d.memoizedState===null&&gr(h,d,a),xl(d,d.return);break;case 30:break;default:gr(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function mi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o_(t,i,a,l),i=i.sibling}function o_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(t,i,a,l),h&2048&&Cl(9,i);break;case 1:mi(t,i,a,l);break;case 3:mi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){mi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){et(i,i.return,D)}}else mi(t,i,a,l);break;case 31:mi(t,i,a,l);break;case 13:mi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?mi(t,i,a,l):Il(t,i):d._visibility&2?mi(t,i,a,l):(d._visibility|=2,to(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:mi(t,i,a,l),h&2048&&Sd(i.alternate,i);break;default:mi(t,i,a,l)}}function to(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,T,D,h),Cl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?to(d,_,T,D,h):Il(d,_):(X._visibility|=2,to(d,_,T,D,h)),h&&H&2048&&Td(_.alternate,_);break;case 24:to(d,_,T,D,h),h&&H&2048&&Sd(_.alternate,_);break;default:to(d,_,T,D,h)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&Td(l.alternate,l);break;case 24:Il(a,l),h&2048&&Sd(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Dl=8192;function no(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)l_(t,i,a),t=t.sibling}function l_(t,i,a){switch(t.tag){case 26:no(t,i,a),t.flags&Dl&&t.memoizedState!==null&&RA(a,di,t.memoizedState,t.memoizedProps);break;case 5:no(t,i,a);break;case 3:case 4:var l=di;di=jc(t.stateNode.containerInfo),no(t,i,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,no(t,i,a),Dl=l):no(t,i,a));break;default:no(t,i,a)}}function u_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,h_(l,t)}u_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&is(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Nl(t);break;default:Nl(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,h_(l,t)}u_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:is(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function h_(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:is(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(t_(l),l===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var Bb={getCacheForType:function(t){var i=Jt(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Jt(Ot).controller.signal}},qb=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Pe=null,Ue=0,Ze=0,kn=null,rs=!1,io=!1,bd=!1,yr=0,St=0,ss=0,la=0,Ad=0,Pn=0,ro=0,Ol=null,En=null,wd=!1,Cc=0,f_=0,xc=1/0,Ic=null,as=null,qt=0,os=null,so=null,_r=0,Rd=0,Cd=null,d_=null,Vl=0,xd=null;function Ln(){return($e&2)!==0&&Ue!==0?Ue&-Ue:Y.T!==null?Md():Du()}function m_(){if(Pn===0)if((Ue&536870912)===0||He){var t=er;er<<=1,(er&3932160)===0&&(er=262144),Pn=t}else Pn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Pn}function Tn(t,i,a){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(ao(t,0),ls(t,Ue,Pn,!1)),q(t,a),(($e&2)===0||t!==at)&&(t===at&&(($e&2)===0&&(la|=a),St===4&&ls(t,Ue,Pn,!1)),zi(t))}function p_(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||xn(t,i),h=l?Gb(t,i):Dd(t,i,!0),d=l;do{if(h===0){io&&!l&&ls(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Hb(a)){h=Dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Ol;var D=T.current.memoizedState.isDehydrated;if(D&&(ao(T,_).flags|=256),_=Dd(T,_,!1),_!==2){if(bd&&!D){T.errorRecoveryDisabledLanes|=d,la|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ao(t,0),ls(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ls(l,i,Pn,!rs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-Xt(),10<h)){if(ls(l,i,Pn,!rs),Cn(l,0,!0)!==0)break e;_r=i,l.timeoutHandle=K_(g_.bind(null,l,a,En,Ic,wd,i,Pn,la,ro,rs,d,"Throttled",-0,0),h);break e}g_(l,a,En,Ic,wd,i,Pn,la,ro,rs,d,null,-0,0)}}break}while(!0);zi(t)}function g_(t,i,a,l,h,d,_,T,D,H,X,ee,F,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},l_(i,d,ee);var he=(d&62914560)===d?Cc-Xt():(d&4194048)===d?f_-Xt():0;if(he=CA(ee,he),he!==null){_r=d,t.cancelPendingCommit=he(A_.bind(null,t,i,d,a,l,h,_,T,D,X,ee,null,F,K)),ls(t,d,_,!H);return}}A_(t,i,d,a,l,h,_,T,D)}function Hb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Nn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ls(t,i,a,l){i&=~Ad,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-yt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Oe(t,a,i)}function Dc(){return($e&6)===0?(Ml(0),!1):!0}function Id(){if(Pe!==null){if(Ze===0)var t=Pe.return;else t=Pe,or=Zs=null,Gf(t),$a=null,gl=0,t=Pe;for(;t!==null;)Qy(t.alternate,t),t=t.return;Pe=null}}function ao(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_r=0,Id(),at=t,Pe=a=sr(t.current,null),Ue=i,Ze=0,kn=null,rs=!1,io=xn(t,i),bd=!1,ro=Pn=Ad=la=ss=St=0,En=Ol=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),d=1<<h;i|=t[h],l&=~d}return yr=i,Wu(),a}function y_(t,i){Ne=null,Y.H=Al,i===Xa||i===sc?(i=Vg(),Ze=3):i===Vf?(i=Vg(),Ze=4):Ze=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,Pe===null&&(St=1,vc(t,Yn(i,t.current)))}function __(){var t=Vn.current;return t===null?!0:(Ue&4194048)===Ue?Jn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Jn:!1}function v_(){var t=Y.H;return Y.H=Al,t===null?Al:t}function E_(){var t=Y.A;return Y.A=Bb,t}function Nc(){St=4,rs||(Ue&4194048)!==Ue&&Vn.current!==null||(io=!0),(ss&134217727)===0&&(la&134217727)===0||at===null||ls(at,Ue,Pn,!1)}function Dd(t,i,a){var l=$e;$e|=2;var h=v_(),d=E_();(at!==t||Ue!==i)&&(Ic=null,ao(t,i)),i=!1;var _=St;e:do try{if(Ze!==0&&Pe!==null){var T=Pe,D=kn;switch(Ze){case 8:Id(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var H=Ze;if(Ze=0,kn=null,oo(t,T,D,H),a&&io){_=0;break e}break;default:H=Ze,Ze=0,kn=null,oo(t,T,D,H)}}Fb(),_=St;break}catch(X){y_(t,X)}while(!0);return i&&t.shellSuspendCounter++,or=Zs=null,$e=l,Y.H=h,Y.A=d,Pe===null&&(at=null,Ue=0,Wu()),_}function Fb(){for(;Pe!==null;)T_(Pe)}function Gb(t,i){var a=$e;$e|=2;var l=v_(),h=E_();at!==t||Ue!==i?(Ic=null,xc=Xt()+500,ao(t,i)):io=xn(t,i);e:do try{if(Ze!==0&&Pe!==null){i=Pe;var d=kn;t:switch(Ze){case 1:Ze=0,kn=null,oo(t,i,d,1);break;case 2:case 9:if(Ng(d)){Ze=0,kn=null,S_(i);break}i=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),zi(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ng(d)?(Ze=0,kn=null,S_(i)):(Ze=0,kn=null,oo(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var T=Pe;if(_?ov(_):T.stateNode.complete){Ze=0,kn=null;var D=T.sibling;if(D!==null)Pe=D;else{var H=T.return;H!==null?(Pe=H,Oc(H)):Pe=null}break t}}Ze=0,kn=null,oo(t,i,d,5);break;case 6:Ze=0,kn=null,oo(t,i,d,6);break;case 8:Id(),St=6;break e;default:throw Error(s(462))}}Kb();break}catch(X){y_(t,X)}while(!0);return or=Zs=null,Y.H=l,Y.A=h,$e=a,Pe!==null?0:(at=null,Ue=0,Wu(),St)}function Kb(){for(;Pe!==null&&!Mr();)T_(Pe)}function T_(t){var i=Gy(t.alternate,t,yr);t.memoizedProps=t.pendingProps,i===null?Oc(t):Pe=i}function S_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=jy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=jy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Gf(i);default:Qy(a,i),i=Pe=Eg(i,yr),i=Gy(a,i,yr)}t.memoizedProps=t.pendingProps,i===null?Oc(t):Pe=i}function oo(t,i,a,l){or=Zs=null,Gf(i),$a=null,gl=0;var h=i.return;try{if(Mb(t,h,i,a,Ue)){St=1,vc(t,Yn(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;St=1,vc(t,Yn(a,t.current)),Pe=null;return}i.flags&32768?(He||l===1?t=!0:io||(Ue&536870912)!==0?t=!1:(rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){b_(i,rs);return}t=i.return;var a=Lb(i.alternate,i,yr);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);St===0&&(St=5)}function b_(t,i){do{var a=Ub(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);St=6,Pe=null}function A_(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Vc();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,me(t,a,d,_,T,D),t===at&&(Pe=at=null,Ue=0),so=i,os=t,_r=a,Rd=d,Cd=h,d_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$b(ri,function(){return I_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,_=$e,$e|=4;try{jb(t,i,a)}finally{$e=_,ae.p=h,Y.T=l}}qt=1,w_(),R_(),C_()}}function w_(){if(qt===1){qt=0;var t=os,i=so,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{s_(i,t);var d=qd,_=hg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&cg(T.ownerDocument.documentElement,T)){if(D!==null&&df(T)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),he=T.textContent.length,_e=Math.min(D.start,he),rt=D.end===void 0?_e:Math.min(D.end,he);!K.extend&&_e>rt&&(_=rt,rt=_e,_e=_);var L=ug(T,_e),O=ug(T,rt);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),_e>rt?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Gc=!!Bd,qd=Bd=null}finally{$e=h,ae.p=l,Y.T=a}}t.current=i,qt=2}}function R_(){if(qt===2){qt=0;var t=os,i=so,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{e_(t,i.alternate,i)}finally{$e=h,ae.p=l,Y.T=a}}qt=3}}function C_(){if(qt===4||qt===3){qt=0,Ti();var t=os,i=so,a=_r,l=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,so=os=null,x_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(as=null),tr(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Rn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,ae.p=h}}(_r&3)!==0&&Vc(),zi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xd?Vl++:(Vl=0,xd=t):Vl=0,Ml(0)}}function x_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function Vc(){return w_(),R_(),C_(),I_()}function I_(){if(qt!==5)return!1;var t=os,i=Rd;Rd=0;var a=tr(_r),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=Cd,Cd=null;var d=os,_=_r;if(qt=0,so=os=null,_r=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,c_(d.current),o_(d,d.current,_,a),$e=T,Ml(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Rn,d)}catch{}return!0}finally{ae.p=h,Y.T=l,x_(t,i)}}function D_(t,i,a){i=Yn(a,i),i=ad(t.stateNode,i,2),t=es(t,i,2),t!==null&&(q(t,2),zi(t))}function et(t,i,a){if(t.tag===3)D_(t,t,a);else for(;i!==null;){if(i.tag===3){D_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(as===null||!as.has(l))){t=Yn(a,t),a=Ny(2),l=es(i,a,2),l!==null&&(Oy(a,l,i,t),q(l,2),zi(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=Qb.bind(null,t,i,a),i.then(t,t))}function Qb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(Ue&a)===a&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Xt()-Cc?($e&2)===0&&ao(t,0):Ad|=a,ro===Ue&&(ro=0)),zi(t)}function N_(t,i){i===0&&(i=Ur()),t=$s(t,i),t!==null&&(q(t,i),zi(t))}function Yb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),N_(t,a)}function Xb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),N_(t,a)}function $b(t,i){return Et(t,i)}var Mc=null,lo=null,Od=!1,kc=!1,Vd=!1,us=0;function zi(t){t!==lo&&t.next===null&&(lo===null?Mc=lo=t:lo=lo.next=t),kc=!0,Od||(Od=!0,Jb())}function Ml(t,i){if(!Vd&&kc){Vd=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=Ue,d=Cn(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xn(l,d)||(a=!0,k_(l,d));l=l.next}while(a);Vd=!1}}function Wb(){O_()}function O_(){kc=Od=!1;var t=0;us!==0&&lA()&&(t=us);for(var i=Xt(),a=null,l=Mc;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(lo=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}qt!==0&&qt!==5||Ml(t),us!==0&&(us=0)}function V_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Us(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=at,a=Ue,a=Cn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&dn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&dn(l),tr(a)){case 2:case 8:a=bi;break;case 32:a=ri;break;case 268435456:a=kr;break;default:a=ri}return l=M_.bind(null,t),a=Et(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&dn(l),t.callbackPriority=2,t.callbackNode=null,2}function M_(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Ue;return l=Cn(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(p_(t,l,i),V_(t,Xt()),t.callbackNode!=null&&t.callbackNode===a?M_.bind(null,t):null)}function k_(t,i){if(Vc())return null;p_(t,i,!0)}function Jb(){cA(function(){($e&6)!==0?Et(Si,Wb):O_()})}function Md(){if(us===0){var t=Qa;t===0&&(t=zn,zn<<=1,(zn&261888)===0&&(zn=256)),us=t}return us}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function L_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Zb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Ft]||null).action),_=l.submitter;_&&(i=(i=_[Ft]||null)?P_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(us!==0){var D=_?L_(h,_):new FormData(h);ed(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?L_(h,_):new FormData(h),ed(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Pd=yf[kd],eA=Pd.toLowerCase(),tA=Pd[0].toUpperCase()+Pd.slice(1);fi(eA,"on"+tA)}fi(mg,"onAnimationEnd"),fi(pg,"onAnimationIteration"),fi(gg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(yb,"onTransitionRun"),fi(_b,"onTransitionStart"),fi(vb,"onTransitionCancel"),fi(yg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function U_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,H=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=D}}}}function Le(t,i){var a=i[Ca];a===void 0&&(a=i[Ca]=new Set);var l=t+"__bubble";a.has(l)||(j_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),j_(a,t,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Pc]){t[Pc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Ld("selectionchange",!1,i))}}function j_(t,i,a,l){switch(mv(i)){case 2:var h=DA;break;case 8:h=NA;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ri(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Fr(function(){var H=d,X=Fn(a),ee=[];e:{var F=_g.get(t);if(F!==void 0){var K=Vi,he=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":K=Qu;break;case"focusin":he="focus",K=Ks;break;case"focusout":he="blur",K=Ks;break;case"beforeblur":case"afterblur":K=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case mg:case pg:case gg:K=zu;break;case yg:K=b;break;case"scroll":case"scrollend":K=sl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=rr;break;case"toggle":case"beforetoggle":K=De}var _e=(i&4)!==0,rt=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var O=H,B;O!==null;){var W=O;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=li(O,L),W!=null&&_e.push(Pl(O,W,B))),rt)break;O=O.return}0<_e.length&&(F=new K(F,he,null,a,X),ee.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==nl&&(he=a.relatedTarget||a.fromElement)&&(Ri(he)||he[Ai]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=H,he=he?Ri(he):null,he!==null&&(rt=u(he),_e=he.tag,he!==rt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(K=null,he=H),K!==he)){if(_e=al,W="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=rr,W="onPointerLeave",L="onPointerEnter",O="pointer"),rt=K==null?F:In(K),B=he==null?F:In(he),F=new _e(W,O+"leave",K,a,X),F.target=rt,F.relatedTarget=B,W=null,Ri(X)===H&&(_e=new _e(L,O+"enter",he,a,X),_e.target=B,_e.relatedTarget=rt,W=_e),rt=W,K&&he)t:{for(_e=iA,L=K,O=he,B=0,W=L;W;W=_e(W))B++;W=0;for(var pe=O;pe;pe=_e(pe))W++;for(;0<B-W;)L=_e(L),B--;for(;0<W-B;)O=_e(O),W--;for(;B--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;K!==null&&z_(ee,F,K,_e,!1),he!==null&&rt!==null&&z_(ee,rt,he,_e,!0)}}e:{if(F=H?In(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Ke=ig;else if(tg(F))if(rg)Ke=mb;else{Ke=fb;var fe=hb}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Na(H.elementType)&&(Ke=ig):Ke=db;if(Ke&&(Ke=Ke(t,H))){ng(ee,Ke,a,X);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Zo(F,"number",F.value)}switch(fe=H?In(H):window,t){case"focusin":(tg(fe)||fe.contentEditable==="true")&&(ja=fe,mf=H,hl=null);break;case"focusout":hl=mf=ja=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,fg(ee,a,X);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":fg(ee,a,X)}var Ve;if(Xe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ua?Qs(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Pi&&a.locale!=="ko"&&(Ua||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ua&&(Ve=rl()):(Oi=X,il="value"in Oi?Oi.value:Oi.textContent,Ua=!0)),fe=Lc(H,je),0<fe.length&&(je=new ki(je,t,null,a,X),ee.push({event:je,listeners:fe}),Ve?je.data=Ve:(Ve=La(a),Ve!==null&&(je.data=Ve)))),(Ve=Kn?ob(t,a):lb(t,a))&&(je=Lc(H,"onBeforeInput"),0<je.length&&(fe=new ki("onBeforeInput","beforeinput",null,a,X),ee.push({event:fe,listeners:je}),fe.data=Ve)),Zb(ee,t,H,a,X)}U_(ee,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Lc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=li(t,a),h!=null&&l.unshift(Pl(t,h,d)),h=li(t,i),h!=null&&l.push(Pl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function iA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,h?(H=li(a,d),H!=null&&_.unshift(Pl(a,H,D))):h||(H=li(a,d),H!=null&&_.push(Pl(a,H,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(rA,`
`).replace(sA,"")}function q_(t,i){return i=B_(i),B_(t)===i}function it(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,l);break;case"style":tl(t,l,d);break;case"data":if(i!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",h.name,h,null),it(t,i,"formEncType",h.formEncType,h,null),it(t,i,"formMethod",h.formMethod,h,null),it(t,i,"formTarget",h.formTarget,h,null)):(it(t,i,"encType",h.encType,h,null),it(t,i,"method",h.method,h,null),it(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ia(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ia(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,Ia(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":tl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ft]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ia(t,a,l)}}}function en(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,d,_,a,null)}}h&&it(t,i,"srcSet",a.srcSet,a,null),l&&it(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=d=_=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:it(t,i,l,X,a,null)}}Mu(t,d,T,D,H,_,h,!1);return;case"select":Le("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:it(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?zr(t,!!l,i,!1):a!=null&&zr(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:it(t,i,_,T,a,null)}Br(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":it(t,i,D,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)Le(kl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,H,l,a,null)}return;default:if(Na(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&it(t,i,T,l,a,null))}function aA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,H=null,X=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(K)||it(t,i,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&it(t,i,F,K,l,ee)}}Da(t,_,T,D,H,X,d,h);return;case"select":K=_=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||it(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&it(t,i,h,d,l,D)}i=T,a=_,l=K,F!=null?zr(t,!!a,F,!1):!!l!=!!a&&(i!=null?zr(t,!!a,i,!0):zr(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&it(t,i,_,h,l,d)}ku(t,F,K);return;case"option":for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:it(t,i,he,null,l,F));for(D in l)F=l[D],K=a[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null)&&(D==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":it(t,i,D,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&it(t,i,_e,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:it(t,i,H,F,l,K)}return;default:if(Na(i)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&zd(t,i,rt,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||zd(t,i,X,F,l,K);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&it(t,i,L,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||it(t,i,ee,F,l,K)}function H_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&H_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>T)break;var X=D.transferSize,ee=D.initiatorType;X&&H_(ee)&&(D=D.responseEnd,_+=X*(D<T?1:(T-H)/(D-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function F_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function lA(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(hA)}:K_;function hA(t){setTimeout(function(){throw t})}function cs(t){return t==="head"}function Y_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),fo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=h}while(a);fo(i)}function X_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function dA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function $_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Zn(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function J_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Z_(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xa(t)}var ei=new Map,ev=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vr=ae.d;ae.d={f:pA,r:gA,D:yA,C:_A,L:vA,m:EA,X:SA,S:TA,M:bA};function pA(){var t=vr.f(),i=Dc();return t||i}function gA(t){var i=Hn(t);i!==null&&i.tag===5&&i.type==="form"?yy(i):vr.r(t)}var uo=typeof document>"u"?null:document;function tv(t,i,a){var l=uo;if(l&&typeof i=="string"&&i){var h=pn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),en(i,"link",t),Dt(i),l.head.appendChild(i)))}}function yA(t){vr.D(t),tv("dns-prefetch",t,null)}function _A(t,i){vr.C(t,i),tv("preconnect",t,i)}function vA(t,i,a){vr.L(t,i,a);var l=uo;if(l&&t&&i){var h='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var d=h;switch(i){case"style":d=co(t);break;case"script":d=ho(t)}ei.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ei.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),en(i,"link",t),Dt(i),l.head.appendChild(i)))}}function EA(t,i){vr.m(t,i);var a=uo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!ei.has(d)&&(t=S({rel:"modulepreload",href:t},i),ei.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),en(l,"link",t),Dt(l),a.head.appendChild(l)}}}function TA(t,i,a){vr.S(t,i,a);var l=uo;if(l&&t){var h=Ci(l).hoistableStyles,d=co(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ul(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ei.get(d))&&Xd(t,a);var D=_=l.createElement("link");Dt(D),en(D,"link",t),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function SA(t,i){vr.X(t,i);var a=uo;if(a&&t){var l=Ci(a).hoistableScripts,h=ho(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=S({src:t,async:!0},i),(i=ei.get(h))&&$d(t,i),d=a.createElement("script"),Dt(d),en(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bA(t,i){vr.M(t,i);var a=uo;if(a&&t){var l=Ci(a).hoistableScripts,h=ho(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=ei.get(h))&&$d(t,i),d=a.createElement("script"),Dt(d),en(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nv(t,i,a,l){var h=(h=we.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=Ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var d=Ci(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ul(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(t,a),d||AA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(a),a=Ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+pn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function AA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),Dt(i),t.head.appendChild(i))}function ho(t){return'[src="'+pn(t)+'"]'}function jl(t){return"script[async]"+t}function rv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,Dt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),en(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=co(a.href);var d=t.querySelector(Ul(h));if(d)return i.state.loading|=4,i.instance=d,Dt(d),d;l=iv(a),(h=ei.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),Dt(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),en(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=ho(a.src),(h=t.querySelector(jl(d)))?(i.instance=h,Dt(h),h):(l=a,(h=ei.get(d))&&(l=S({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),en(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function sv(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[wi]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function av(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function wA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function RA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=co(l.href),d=i.querySelector(Ul(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Dt(d);return}d=i.ownerDocument||i,l=iv(l),(h=ei.get(h))&&Xd(l,h),d=d.createElement("link"),Dt(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),en(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function CA(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*oA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(xA,t),Hc=null,qc.call(t))}function xA(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function IA(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ge(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.hiddenUpdates=Ge(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function lv(t,i,a,l,h,d,_,T,D,H,X,ee){return t=new IA(t,i,a,_,D,H,X,ee,T),i=1,d===!0&&(i|=24),d=On(3,null,null,i),t.current=d,d.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Mf(d),t}function uv(t){return t?(t=qa,t):qa}function cv(t,i,a,l,h,d){h=uv(h),l.context===null?l.context=h:l.pendingContext=h,l=Zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=es(t,l,i),a!==null&&(Tn(a,t,i),_l(a,t,i))}function hv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){hv(t,i),(t=t.alternate)&&hv(t,i)}function fv(t){if(t.tag===13||t.tag===31){var i=$s(t,67108864);i!==null&&Tn(i,t,67108864),Jd(t,67108864)}}function dv(t){if(t.tag===13||t.tag===31){var i=Ln();i=qn(i);var a=$s(t,i);a!==null&&Tn(a,t,i),Jd(t,i)}}var Gc=!0;function DA(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,Zd(t,i,a,l)}finally{ae.p=d,Y.T=h}}function NA(t,i,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,Zd(t,i,a,l)}finally{ae.p=d,Y.T=h}}function Zd(t,i,a,l){if(Gc){var h=em(l);if(h===null)jd(t,i,l,Kc,a),pv(t,l);else if(VA(h,t,i,a,l))l.stopPropagation();else if(pv(t,l),i&4&&-1<OA.indexOf(t)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Bn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-yt(_);T.entanglements[1]|=D,_&=~D}zi(d),($e&6)===0&&(xc=Xt()+500,Ml(0))}}break;case 31:case 13:T=$s(d,2),T!==null&&Tn(T,d,2),Dc(),Jd(d,2)}if(d=em(l),d===null&&jd(t,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function em(t){return t=Fn(t),tm(t)}var Kc=null;function tm(t){if(Kc=null,t=Ri(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case Si:return 2;case bi:return 8;case ri:case Zi:return 32;case kr:return 268435456;default:return 32}default:return 32}}var nm=!1,hs=null,fs=null,ds=null,Bl=new Map,ql=new Map,ms=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,i){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function VA(t,i,a,l,h){switch(i){case"focusin":return hs=Hl(hs,t,i,a,l,h),!0;case"dragenter":return fs=Hl(fs,t,i,a,l,h),!0;case"mouseover":return ds=Hl(ds,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Bl.set(d,Hl(Bl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Hl(ql.get(d)||null,t,i,a,l,h)),!0}return!1}function gv(t){var i=Ri(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,si(t.priority,function(){dv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,si(t.priority,function(){dv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return i=Hn(a),i!==null&&fv(i),t.blockedOn=a,!1;i.shift()}return!0}function yv(t,i,a){Qc(t)&&a.delete(i)}function MA(){nm=!1,hs!==null&&Qc(hs)&&(hs=null),fs!==null&&Qc(fs)&&(fs=null),ds!==null&&Qc(ds)&&(ds=null),Bl.forEach(yv),ql.forEach(yv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MA)))}var Xc=null;function _v(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Hn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fo(t){function i(D){return Yc(D,t)}hs!==null&&Yc(hs,t),fs!==null&&Yc(fs,t),ds!==null&&Yc(ds,t),Bl.forEach(i),ql.forEach(i);for(var a=0;a<ms.length;a++){var l=ms[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&ms.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ft]||null;if(typeof d=="function")_||_v(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ft]||null)T=_.formAction;else if(tm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),_v(a)}}}function vv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}$c.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Ln();cv(a,l,t,i,null,null)},$c.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;cv(t.current,2,null,t,null,null),Dc(),i[Ai]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Du();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ms.length&&i!==0&&i<ms[a].priority;a++);ms.splice(a,0,t),a===0&&gv(t)}};var Ev=e.version;if(Ev!=="19.2.3")throw Error(s(527,Ev,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var kA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Rn=Wc.inject(kA),zt=Wc}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Cy,d=xy,_=Iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=lv(t,1,!1,null,null,a,l,null,h,d,_,vv),t[Ai]=i.current,Ud(t),new im(i)},Gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Cy,_=xy,T=Iy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=lv(t,1,!0,i,a??null,l,h,D,d,_,T,vv),i.context=uv(null),a=i.current,l=Ln(),l=qn(l),h=Zr(l),h.callback=null,es(a,h,l),a=l,i.current.lanes=a,q(i,a),zi(i),t[Ai]=i.current,Ud(t),new $c(i)},Gl.version="19.2.3",Gl}var Dv;function GA(){if(Dv)return am.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=FA(),am.exports}var KA=GA();var Nv="popstate";function QA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return wm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:au(o)}return XA(e,n,null,r)}function _t(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YA(){return Math.random().toString(36).substring(2,10)}function Ov(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||s||YA()}}function au({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ko(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function XA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let k=E(),ie=k==null?null:k-y;y=k,g&&g({action:m,location:$.location,delta:ie})}function w(k,ie){m="PUSH";let ne=wm($.location,k,ie);y=E()+1;let se=Ov(ne,y),Ae=$.createHref(ne);try{f.pushState(se,"",Ae)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;o.location.assign(Ae)}u&&g&&g({action:m,location:$.location,delta:1})}function j(k,ie){m="REPLACE";let ne=wm($.location,k,ie);y=E();let se=Ov(ne,y),Ae=$.createHref(ne);f.replaceState(se,"",Ae),u&&g&&g({action:m,location:$.location,delta:0})}function Q(k){return $A(k)}let $={get action(){return m},get location(){return r(o,f)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,S),g=k,()=>{o.removeEventListener(Nv,S),g=null}},createHref(k){return e(o,k)},createURL:Q,encodeLocation(k){let ie=Q(k);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:j,go(k){return f.go(k)}};return $}function $A(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:au(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function fT(r,e,n="/"){return WA(r,e,n,!1)}function WA(r,e,n,s){let o=typeof e=="string"?ko(e):e,u=Rr(o.pathname||"/",n);if(u==null)return null;let f=dT(r);JA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=u1(u);m=o1(f[g],y,s)}return m}function dT(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;_t(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=br([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(_t(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),dT(f.children,e,w,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:s1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of mT(f.path))u(f,m,!0,g)}),e}function mT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=mT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function JA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:a1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZA=/^:[\w-]+$/,e1=3,t1=2,n1=1,i1=10,r1=-2,Vv=r=>r==="*";function s1(r,e){let n=r.split("/"),s=n.length;return n.some(Vv)&&(s+=r1),e&&(s+=t1),n.filter(o=>!Vv(o)).reduce((o,u)=>o+(ZA.test(u)?e1:u===""?n1:i1),s)}function a1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function o1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:br([u,S.pathname]),pathnameBase:d1(br([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=br([u,S.pathnameBase]))}return f}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=l1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let Q=m[w]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const j=m[w];return S&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function l1(r,e=!1,n=!0){Qi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function u1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function h1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ko(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Mv(n.substring(1),"/"):u=Mv(n,e)):u=e,{pathname:u,search:m1(s),hash:p1(o)}}function Mv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pT(r){let e=f1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function gT(r,e,n,s=!1){let o;typeof r=="string"?o=ko(r):(o={...r},_t(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let g=h1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var br=r=>r.join("/").replace(/\/\/+/g,"/"),d1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,p1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,g1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function y1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function _1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _T(r,e){let n=r;if(typeof n!="string"||!c1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(yT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Rr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vT=["POST","PUT","PATCH","DELETE"];new Set(vT);var v1=["GET",...vT];new Set(v1);var Po=U.createContext(null);Po.displayName="DataRouter";var zh=U.createContext(null);zh.displayName="DataRouterState";var E1=U.createContext(!1),ET=U.createContext({isTransitioning:!1});ET.displayName="ViewTransition";var T1=U.createContext(new Map);T1.displayName="Fetchers";var S1=U.createContext(null);S1.displayName="Await";var ii=U.createContext(null);ii.displayName="Navigation";var gu=U.createContext(null);gu.displayName="Location";var Xi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var rp=U.createContext(null);rp.displayName="RouteError";var TT="REACT_ROUTER_ERROR",b1="REDIRECT",A1="ROUTE_ERROR_RESPONSE";function w1(r){if(r.startsWith(`${TT}:${b1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function R1(r){if(r.startsWith(`${TT}:${A1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new g1(e.status,e.statusText,e.data)}catch{}}function C1(r,{relative:e}={}){_t(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(ii),{hash:o,pathname:u,search:f}=_u(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:br([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yu(){return U.useContext(gu)!=null}function va(){return _t(yu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(gu).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(r){U.useContext(ii).static||U.useLayoutEffect(r)}function x1(){let{isDataRoute:r}=U.useContext(Xi);return r?q1():I1()}function I1(){_t(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Po),{basename:e,navigator:n}=U.useContext(ii),{matches:s}=U.useContext(Xi),{pathname:o}=va(),u=JSON.stringify(pT(s)),f=U.useRef(!1);return bT(()=>{f.current=!0}),U.useCallback((g,y={})=>{if(Qi(f.current,ST),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=gT(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:br([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}U.createContext(null);function D1(){let{matches:r}=U.useContext(Xi),e=r[r.length-1];return e?e.params:{}}function _u(r,{relative:e}={}){let{matches:n}=U.useContext(Xi),{pathname:s}=va(),o=JSON.stringify(pT(n));return U.useMemo(()=>gT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function N1(r,e){return AT(r,e)}function AT(r,e,n,s,o){_t(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(ii),{matches:f}=U.useContext(Xi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";RT(y,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=va(),j;if(e){let ne=typeof e=="string"?ko(e):e;_t(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),j=ne}else j=w;let Q=j.pathname||"/",$=Q;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+Q.replace(/^\//,"").split("/").slice(ne.length).join("/")}let k=fT(r,{pathname:$});Qi(S||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Qi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=P1(k&&k.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:br([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:br([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&ie?U.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},ie):ie}function O1(){let r=B1(),e=y1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var V1=U.createElement(O1,null),wT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=R1(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(Xi.Provider,{value:this.props.routeContext},U.createElement(rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(M1,{error:r},e):e}};wT.contextType=E1;var hm=new WeakMap;function M1({children:r,error:e}){let{basename:n}=U.useContext(ii);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=w1(e.digest);if(s){let o=hm.get(e);if(o)throw o;let u=_T(s.location,n);if(yT&&!hm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw hm.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function k1({routeContext:r,match:e,children:n}){let s=U.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Xi.Provider,{value:r},n)}function P1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);_t(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:j}=n,Q=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!j||j[S.route.id]===void 0);if(S.route.lazy||Q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let j,Q=!1,$=null,k=null;n&&(j=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||V1,m&&(g<0&&w===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,k=null):g===w&&(Q=!0,k=S.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,w+1)),ne=()=>{let se;return j?se=$:Q?se=k:S.route.Component?se=U.createElement(S.route.Component,null):S.route.element?se=S.route.element:se=E,U.createElement(k1,{match:S,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:se})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?U.createElement(wT,{location:n.location,revalidation:n.revalidation,component:$,error:j,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):ne()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(r){let e=U.useContext(Po);return _t(e,sp(r)),e}function U1(r){let e=U.useContext(zh);return _t(e,sp(r)),e}function j1(r){let e=U.useContext(Xi);return _t(e,sp(r)),e}function ap(r){let e=j1(r),n=e.matches[e.matches.length-1];return _t(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function z1(){return ap("useRouteId")}function B1(){let r=U.useContext(rp),e=U1("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function q1(){let{router:r}=L1("useNavigate"),e=ap("useNavigate"),n=U.useRef(!1);return bT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Qi(n.current,ST),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var kv={};function RT(r,e,n){!e&&!kv[r]&&(kv[r]=!0,Qi(!1,n))}U.memo(H1);function H1({routes:r,future:e,state:n,onError:s}){return AT(r,void 0,n,s,e)}function oh(r){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){_t(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ko(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:j="default"}=n,Q=U.useMemo(()=>{let $=Rr(y,m);return $==null?null:{location:{pathname:$,search:E,hash:S,state:w,key:j},navigationType:s}},[m,y,E,S,w,j,s]);return Qi(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:U.createElement(ii.Provider,{value:g},U.createElement(gu.Provider,{children:e,value:Q}))}function G1({children:r,location:e}){return N1(Rm(r),e)}function Rm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Rm(s.props.children,u));return}_t(s.type===oh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Bh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function K1(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function Q1(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function Y1(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}var Jc=null;function W1(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(r){return r!=null&&!J1.has(r)?(Qi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function Z1(r,e){let n,s,o,u,f;if(Q1(r)){let m=r.getAttribute("action");s=m?Rr(m,e):null,n=r.getAttribute("method")||lh,o=fm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(K1(r)||Y1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Rr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=fm(r.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!W1()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ew(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Rr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function tw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function iw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await tw(u,n);return f.links?f.links():[]}return[]}));return ow(s.flat(1).filter(nw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function rw(r,e,{includeHydrateFallback:n}={}){return sw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sw(r){return[...new Set(r)]}function aw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function ow(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(aw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function CT(){let r=U.useContext(Po);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function lw(){let r=U.useContext(zh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=U.createContext(void 0);lp.displayName="FrameworkContext";function xT(){let r=U.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function uw(r,e){let n=U.useContext(lp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ie=>{ie.forEach(ne=>{f(ne.isIntersecting)})},k=new IntersectionObserver($,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),U.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let j=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Kl(m,j),onBlur:Kl(g,Q),onMouseEnter:Kl(y,j),onMouseLeave:Kl(E,Q),onTouchStart:Kl(S,j)}]:[!1,w,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function cw({page:r,...e}){let{router:n}=CT(),s=U.useMemo(()=>fT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(fw,{page:r,matches:s,...e}):null}function hw(r){let{manifest:e,routeModules:n}=xT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return iw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function fw({page:r,matches:e,...n}){let s=va(),{future:o,manifest:u,routeModules:f}=xT(),{basename:m}=CT(),{loaderData:g,matches:y}=lw(),E=U.useMemo(()=>Pv(r,e,y,u,s,"data"),[r,e,y,u,s]),S=U.useMemo(()=>Pv(r,e,y,u,s,"assets"),[r,e,y,u,s]),w=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,k=!1;if(e.forEach(ne=>{let se=u.routes[ne.route.id];!se||!se.hasLoader||(!E.some(Ae=>Ae.route.id===ne.route.id)&&ne.route.id in g&&f[ne.route.id]?.shouldRevalidate||se.hasClientLoader?k=!0:$.add(ne.route.id))}),$.size===0)return[];let ie=ew(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return k&&$.size>0&&ie.searchParams.set("_routes",e.filter(ne=>$.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),j=U.useMemo(()=>rw(S,u),[S,u]),Q=hw(S);return U.createElement(U.Fragment,null,w.map($=>U.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),j.map($=>U.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Q.map(({key:$,link:k})=>U.createElement("link",{key:$,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function dw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mw&&(window.__reactRouterVersion="7.13.0")}catch{}function pw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=QA({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),g=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(g),[u,g]),U.createElement(F1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...j},Q){let{basename:$,unstable_useTransitions:k}=U.useContext(ii),ie=typeof y=="string"&&IT.test(y),ne=_T(y,$);y=ne.to;let se=C1(y,{relative:o}),[Ae,xe,Se]=uw(s,j),x=vw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:k});function C(M){e&&e(M),M.defaultPrevented||x(M)}let I=U.createElement("a",{...j,...Se,href:ne.absoluteURL||se,onClick:ne.isExternal||u?e:C,ref:dw(Q,xe),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return Ae&&!ie?U.createElement(U.Fragment,null,I,U.createElement(cw,{page:se})):I});ha.displayName="Link";var gw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=_u(f,{relative:y.relative}),w=va(),j=U.useContext(zh),{navigator:Q,basename:$}=U.useContext(ii),k=j!=null&&Aw(S)&&m===!0,ie=Q.encodeLocation?Q.encodeLocation(S).pathname:S.pathname,ne=w.pathname,se=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,ie=ie.toLowerCase()),se&&$&&(se=Rr(se,$)||se);const Ae=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let xe=ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(Ae)==="/",Se=se!=null&&(se===ie||!o&&se.startsWith(ie)&&se.charAt(ie.length)==="/"),x={isActive:xe,isPending:Se,isTransitioning:k},C=xe?e:void 0,I;typeof s=="function"?I=s(x):I=[s,xe?"active":null,Se?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return U.createElement(ha,{...y,"aria-current":C,className:I,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(x):g)});gw.displayName="NavLink";var yw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...j},Q)=>{let{unstable_useTransitions:$}=U.useContext(ii),k=Sw(),ie=bw(m,{relative:y}),ne=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&IT.test(m),Ae=xe=>{if(g&&g(xe),xe.defaultPrevented)return;xe.preventDefault();let Se=xe.nativeEvent.submitter,x=Se?.getAttribute("formmethod")||f,C=()=>k(Se||xe.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});$&&n!==!1?U.startTransition(()=>C()):C()};return U.createElement("form",{ref:Q,method:ne,action:ie,onSubmit:s?g:Ae,...j,"data-discover":!se&&r==="render"?"true":void 0})});yw.displayName="Form";function _w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(r){let e=U.useContext(Po);return _t(e,_w(r)),e}function vw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=x1(),E=va(),S=_u(r,{relative:u});return U.useCallback(w=>{if($1(w,e)){w.preventDefault();let j=n!==void 0?n:au(E)===au(S),Q=()=>y(r,{replace:j,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?U.startTransition(()=>Q()):Q()}},[E,y,S,n,s,e,r,o,u,f,m,g])}var Ew=0,Tw=()=>`__${String(++Ew)}__`;function Sw(){let{router:r}=DT("useSubmit"),{basename:e}=U.useContext(ii),n=z1(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=Z1(u,e);if(f.navigate===!1){let w=f.fetcherKey||Tw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function bw(r,{relative:e}={}){let{basename:n}=U.useContext(ii),s=U.useContext(Xi);_t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(r||".",{relative:e})},f=va();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:br([n,u.pathname])),au(u)}function Aw(r,{relative:e}={}){let n=U.useContext(ET);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DT("useViewTransitionState"),o=_u(r,{relative:e});if(!n.isTransitioning)return!1;let u=Rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}const ww=()=>{};var Lv={};const NT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Rw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,j=y&63;g||(j=64,f||(w=64)),s.push(n[E],n[S],n[w],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Rw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Cw;const w=u<<2|m>>4;if(s.push(w),y!==64){const j=m<<4&240|y>>2;if(s.push(j),S!==64){const Q=y<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(r){const e=NT(r);return OT.encodeByteArray(e,!0)},Th=function(r){return xw(r).replace(/\./g,"")},VT=function(r){try{return OT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dw=()=>Iw().__FIREBASE_DEFAULTS__,Nw=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ow=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VT(r[1]);return e&&JSON.parse(e)},qh=()=>{try{return ww()||Dw()||Nw()||Ow()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},MT=r=>qh()?.emulatorHosts?.[r],Vw=r=>{const e=MT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kT=()=>qh()?.config,PT=r=>qh()?.[`_${r}`];class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LT(r){return(await fetch(r,{credentials:"include"})).ok}function kw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const eu={};function Pw(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function Lw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Uv=!1;function UT(r,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||eu[r]===e||eu[r]||Uv)return;eu[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Pw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Uv=!0,f()},w}function E(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Lw(s),j=n("text"),Q=document.getElementById(j)||document.createElement("span"),$=n("learnmore"),k=document.getElementById($)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;m(se),E(k,$);const Ae=y();g(ne,ie),se.append(ne,Q,k,Ae),document.body.appendChild(se)}u?(Q.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function jw(){const r=qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hw(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Fw(){return!jw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Kw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Qw="FirebaseError";class Or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qw,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Yw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Or(o,m,s)}}function Yw(r,e){return r.replace(Xw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Xw=/\{\$([^}]+)}/g;function $w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Cs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(jv(u)&&jv(f)){if(!Cs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}function Eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Ww(r,e){const n=new Jw(r,e);return n.subscribe.bind(n)}class Jw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Zw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}function Yt(r){return r&&r._delegate?r._delegate:r}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class eR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Mw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(r){return r===ua?void 0:r}function nR(r){return r.instantiationMode==="EAGER"}class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const rR={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},sR=ze.INFO,aR={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},oR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=aR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=sR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const lR=(r,e)=>e.some(n=>r instanceof n);let zv,Bv;function uR(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,Cm=new WeakMap,zT=new WeakMap,mm=new WeakMap,cp=new WeakMap;function hR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ss(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function fR(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,e)}let xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dR(r){xm=r(xm)}function mR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pm(this),e,...n);return zT.set(s,e.sort?e.sort():[e]),Ss(s)}:cR().includes(r)?function(...e){return r.apply(pm(this),e),Ss(jT.get(this))}:function(...e){return Ss(r.apply(pm(this),e))}}function pR(r){return typeof r=="function"?mR(r):(r instanceof IDBTransaction&&fR(r),lR(r,uR())?new Proxy(r,xm):r)}function Ss(r){if(r instanceof IDBRequest)return hR(r);if(mm.has(r))return mm.get(r);const e=pR(r);return e!==r&&(mm.set(r,e),cp.set(e,r)),e}const pm=r=>cp.get(r);function gR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Ss(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Ss(f.result),g.oldVersion,g.newVersion,Ss(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],gm=new Map;function qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_R.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return gm.set(e,u),u}dR(r=>({...r,get:(e,n,s)=>qv(e,n)||r.get(e,n,s),has:(e,n)=>!!qv(e,n)||r.has(e,n)}));class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ER(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",Hv="0.14.7";const Cr=new up("@firebase/app"),TR="@firebase/app-compat",SR="@firebase/analytics-compat",bR="@firebase/analytics",AR="@firebase/app-check-compat",wR="@firebase/app-check",RR="@firebase/auth",CR="@firebase/auth-compat",xR="@firebase/database",IR="@firebase/data-connect",DR="@firebase/database-compat",NR="@firebase/functions",OR="@firebase/functions-compat",VR="@firebase/installations",MR="@firebase/installations-compat",kR="@firebase/messaging",PR="@firebase/messaging-compat",LR="@firebase/performance",UR="@firebase/performance-compat",jR="@firebase/remote-config",zR="@firebase/remote-config-compat",BR="@firebase/storage",qR="@firebase/storage-compat",HR="@firebase/firestore",FR="@firebase/ai",GR="@firebase/firestore-compat",KR="firebase",QR="12.8.0";const Dm="[DEFAULT]",YR={[Im]:"fire-core",[TR]:"fire-core-compat",[bR]:"fire-analytics",[SR]:"fire-analytics-compat",[wR]:"fire-app-check",[AR]:"fire-app-check-compat",[RR]:"fire-auth",[CR]:"fire-auth-compat",[xR]:"fire-rtdb",[IR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[NR]:"fire-fn",[OR]:"fire-fn-compat",[VR]:"fire-iid",[MR]:"fire-iid-compat",[kR]:"fire-fcm",[PR]:"fire-fcm-compat",[LR]:"fire-perf",[UR]:"fire-perf-compat",[jR]:"fire-rc",[zR]:"fire-rc-compat",[BR]:"fire-gcs",[qR]:"fire-gcs-compat",[HR]:"fire-fst",[GR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};const Sh=new Map,XR=new Map,Nm=new Map;function Fv(r,e){try{r.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Co(r){const e=r.name;if(Nm.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of Sh.values())Fv(n,r);for(const n of XR.values())Fv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ti(r){return r==null?!1:r.settings!==void 0}const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new vu("app","Firebase",$R);class WR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}const Uo=QR;function BT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=kT()),!n)throw bs.create("no-options");const u=Sh.get(o);if(u){if(Cs(n,u.options)&&Cs(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const f=new iR(o);for(const g of Nm.values())f.addComponent(g);const m=new WR(n,s,f);return Sh.set(o,m),m}function qT(r=Dm){const e=Sh.get(r);if(!e&&r===Dm&&kT())return BT();if(!e)throw bs.create("no-app",{appName:r});return e}function As(r,e,n){let s=YR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}Co(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const JR="firebase-heartbeat-database",ZR=1,ou="firebase-heartbeat-store";let ym=null;function HT(){return ym||(ym=gR(JR,ZR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(r=>{throw bs.create("idb-open",{originalErrorMessage:r.message})})),ym}async function eC(r){try{const n=(await HT()).transaction(ou),s=await n.objectStore(ou).get(FT(r));return await n.done,s}catch(e){if(e instanceof Or)Cr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}}async function Gv(r,e){try{const s=(await HT()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,FT(r)),await s.done}catch(n){if(n instanceof Or)Cr.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(s.message)}}}function FT(r){return`${r.name}!${r.options.appId}`}const tC=1024,nC=30;class iC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>nC){const o=aC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kv(),{heartbeatsToSend:n,unsentEntries:s}=rC(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cr.warn(e),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function rC(r,e=tC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class sC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function aC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function oC(r){Co(new da("platform-logger",e=>new vR(e),"PRIVATE")),Co(new da("heartbeat",e=>new iC(e),"PRIVATE")),As(Im,Hv,r),As(Im,Hv,"esm2020"),As("fire-js","")}oC("");var lC="firebase",uC="12.8.0";As(lC,uC,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ws,GT;(function(){var r;function e(x,C){function I(){}I.prototype=C.prototype,x.F=C.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(M,N,P){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return C.prototype[N].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,I){I||(I=0);const M=Array(16);if(typeof C=="string")for(var N=0;N<16;++N)M[N]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=x.g[0],I=x.g[1],N=x.g[2];let P=x.g[3],R;R=C+(P^I&(N^P))+M[0]+3614090360&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(N^C&(I^N))+M[1]+3905402710&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(I^P&(C^I))+M[2]+606105819&4294967295,N=P+(R<<17&4294967295|R>>>15),R=I+(C^N&(P^C))+M[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=C+(P^I&(N^P))+M[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(N^C&(I^N))+M[5]+1200080426&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(I^P&(C^I))+M[6]+2821735955&4294967295,N=P+(R<<17&4294967295|R>>>15),R=I+(C^N&(P^C))+M[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=C+(P^I&(N^P))+M[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(N^C&(I^N))+M[9]+2336552879&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(I^P&(C^I))+M[10]+4294925233&4294967295,N=P+(R<<17&4294967295|R>>>15),R=I+(C^N&(P^C))+M[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=C+(P^I&(N^P))+M[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(N^C&(I^N))+M[13]+4254626195&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(I^P&(C^I))+M[14]+2792965006&4294967295,N=P+(R<<17&4294967295|R>>>15),R=I+(C^N&(P^C))+M[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=C+(N^P&(I^N))+M[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^N&(C^I))+M[6]+3225465664&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^I&(P^C))+M[11]+643717713&4294967295,N=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(N^P))+M[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=C+(N^P&(I^N))+M[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^N&(C^I))+M[10]+38016083&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^I&(P^C))+M[15]+3634488961&4294967295,N=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(N^P))+M[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=C+(N^P&(I^N))+M[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^N&(C^I))+M[14]+3275163606&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^I&(P^C))+M[3]+4107603335&4294967295,N=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(N^P))+M[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=C+(N^P&(I^N))+M[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^N&(C^I))+M[2]+4243563512&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^I&(P^C))+M[7]+1735328473&4294967295,N=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(N^P))+M[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=C+(I^N^P)+M[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^N)+M[8]+2272392833&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^I)+M[11]+1839030562&4294967295,N=P+(R<<16&4294967295|R>>>16),R=I+(N^P^C)+M[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=C+(I^N^P)+M[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^N)+M[4]+1272893353&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^I)+M[7]+4139469664&4294967295,N=P+(R<<16&4294967295|R>>>16),R=I+(N^P^C)+M[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=C+(I^N^P)+M[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^N)+M[0]+3936430074&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^I)+M[3]+3572445317&4294967295,N=P+(R<<16&4294967295|R>>>16),R=I+(N^P^C)+M[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=C+(I^N^P)+M[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^N)+M[12]+3873151461&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^I)+M[15]+530742520&4294967295,N=P+(R<<16&4294967295|R>>>16),R=I+(N^P^C)+M[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=C+(N^(I|~P))+M[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~N))+M[7]+1126891415&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~I))+M[14]+2878612391&4294967295,N=P+(R<<15&4294967295|R>>>17),R=I+(P^(N|~C))+M[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=C+(N^(I|~P))+M[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~N))+M[3]+2399980690&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~I))+M[10]+4293915773&4294967295,N=P+(R<<15&4294967295|R>>>17),R=I+(P^(N|~C))+M[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=C+(N^(I|~P))+M[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~N))+M[15]+4264355552&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~I))+M[6]+2734768916&4294967295,N=P+(R<<15&4294967295|R>>>17),R=I+(P^(N|~C))+M[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=C+(N^(I|~P))+M[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~N))+M[11]+3174756917&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~I))+M[2]+718787259&4294967295,N=P+(R<<15&4294967295|R>>>17),R=I+(P^(N|~C))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,C){C===void 0&&(C=x.length);const I=C-this.blockSize,M=this.C;let N=this.h,P=0;for(;P<C;){if(N==0)for(;P<=I;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<C;)if(M[N++]=x.charCodeAt(P++),N==this.blockSize){o(this,M),N=0;break}}else for(;P<C;)if(M[N++]=x[P++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=C},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;C=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=C&255,C/=256;for(this.v(x),x=Array(16),C=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)x[C++]=this.g[I]>>>M&255;return x};function u(x,C){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=C(x)}function f(x,C){this.h=C;const I=[];let M=!0;for(let N=x.length-1;N>=0;N--){const P=x[N]|0;M&&P==C||(I[N]=P,M=!1)}this.g=I}var m={};function g(x){return-128<=x&&x<128?u(x,function(C){return new f([C|0],C<0?-1:0)}):new f([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return k(y(-x));const C=[];let I=1;for(let M=0;x>=I;M++)C[M]=x/I|0,I*=4294967296;return new f(C,0)}function E(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return k(E(x.substring(1),C));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(C,8));let M=S;for(let P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P);const R=parseInt(x.substring(P,P+N),C);N<8?(N=y(Math.pow(C,N)),M=M.j(N).add(y(R))):(M=M.j(I),M=M.add(y(R)))}return M}var S=g(0),w=g(1),j=g(16777216);r=f.prototype,r.m=function(){if($(this))return-k(this).m();let x=0,C=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);x+=(M>=0?M:4294967296+M)*C,C*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Q(this))return"0";if($(this))return"-"+k(this).toString(x);const C=y(Math.pow(x,6));var I=this;let M="";for(;;){const N=Ae(I,C).g;I=ie(I,N.j(C));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,Q(I))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Q(x){if(x.h!=0)return!1;for(let C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=ie(this,x),$(x)?-1:Q(x)?0:1};function k(x){const C=x.g.length,I=[];for(let M=0;M<C;M++)I[M]=~x.g[M];return new f(I,~x.h).add(w)}r.abs=function(){return $(this)?k(this):this},r.add=function(x){const C=Math.max(this.g.length,x.g.length),I=[];let M=0;for(let N=0;N<=C;N++){let P=M+(this.i(N)&65535)+(x.i(N)&65535),R=(P>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);M=R>>>16,P&=65535,R&=65535,I[N]=R<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ie(x,C){return x.add(k(C))}r.j=function(x){if(Q(this)||Q(x))return S;if($(this))return $(x)?k(this).j(k(x)):k(k(this).j(x));if($(x))return k(this.j(k(x)));if(this.l(j)<0&&x.l(j)<0)return y(this.m()*x.m());const C=this.g.length+x.g.length,I=[];for(var M=0;M<2*C;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<x.g.length;N++){const P=this.i(M)>>>16,R=this.i(M)&65535,Ie=x.i(N)>>>16,ke=x.i(N)&65535;I[2*M+2*N]+=R*ke,ne(I,2*M+2*N),I[2*M+2*N+1]+=P*ke,ne(I,2*M+2*N+1),I[2*M+2*N+1]+=R*Ie,ne(I,2*M+2*N+1),I[2*M+2*N+2]+=P*Ie,ne(I,2*M+2*N+2)}for(x=0;x<C;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=C;x<2*C;x++)I[x]=0;return new f(I,0)};function ne(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function se(x,C){this.g=x,this.h=C}function Ae(x,C){if(Q(C))throw Error("division by zero");if(Q(x))return new se(S,S);if($(x))return C=Ae(k(x),C),new se(k(C.g),k(C.h));if($(C))return C=Ae(x,k(C)),new se(k(C.g),C.h);if(x.g.length>30){if($(x)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=C;M.l(x)<=0;)I=xe(I),M=xe(M);var N=Se(I,1),P=Se(M,1);for(M=Se(M,2),I=Se(I,2);!Q(M);){var R=P.add(M);R.l(x)<=0&&(N=N.add(I),P=R),M=Se(M,1),I=Se(I,1)}return C=ie(x,N.j(C)),new se(N,C)}for(N=S;x.l(C)>=0;){for(I=Math.max(1,Math.floor(x.m()/C.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=y(I),R=P.j(C);$(R)||R.l(x)>0;)I-=M,P=y(I),R=P.j(C);Q(P)&&(P=w),N=N.add(P),x=ie(x,R)}return new se(N,x)}r.B=function(x){return Ae(this,x).h},r.and=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let M=0;M<C;M++)I[M]=this.i(M)&x.i(M);return new f(I,this.h&x.h)},r.or=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let M=0;M<C;M++)I[M]=this.i(M)|x.i(M);return new f(I,this.h|x.h)},r.xor=function(x){const C=Math.max(this.g.length,x.g.length),I=[];for(let M=0;M<C;M++)I[M]=this.i(M)^x.i(M);return new f(I,this.h^x.h)};function xe(x){const C=x.g.length+1,I=[];for(let M=0;M<C;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(I,x.h)}function Se(x,C){const I=C>>5;C%=32;const M=x.g.length-I,N=[];for(let P=0;P<M;P++)N[P]=C>0?x.i(P+I)>>>C|x.i(P+I+1)<<32-C:x.i(P+I);return new f(N,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,GT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ws=f}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KT,$l,QT,ch,Om,YT,XT,$T;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],p=p(b),p!=b&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&v.push([b,p[b]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,z,G){for(var re=Array(arguments.length-2),De=2;De<arguments.length;De++)re[De-2]=arguments[De];return p.prototype[z].apply(b,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const p=c.length;if(p>0){const v=Array(p);for(let b=0;b<p;b++)v[b]=c[b];return v}return[]}function Q(c,p){for(let b=1;b<arguments.length;b++){const z=arguments[b];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function k(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=x;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,v){const b=se.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var se=new $(()=>new Ae,c=>c.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Se=!1,x=new ne,C=()=>{const c=Promise.resolve(void 0);xe=()=>{c.then(I)}};function I(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){k(v)}var p=se;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Ie(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Ie,N),Ie.prototype.init=function(c,p){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ae(c,p,v,b,z){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=z,this.key=++Y,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,p,v){for(const b in c)p.call(v,c[b],b,c)}function Ye(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function V(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,p){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let G=0;G<Z.length;G++)v=Z[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,v,b,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=we(c,p,b,z);return re>-1?(p=c[re],v||(p.fa=!1)):(p=new ae(p,this.src,G,!!b,z),p.fa=v,c.push(p)),p};function ve(c,p){const v=p.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,p,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(de(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,p,v,b){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==p&&G.capture==!!v&&G.ha==b)return z}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),bt={};function st(c,p,v,b,z){if(Array.isArray(p)){for(let G=0;G<p.length;G++)st(c,p[G],v,b,z);return null}return v=Vr(v),c&&c[ke]?c.J(p,v,m(b)?!!b.capture:!1,z):Ei(c,p,v,!1,b,z)}function Ei(c,p,v,b,z,G){if(!p)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let De=sn(c);if(De||(c[ye]=De=new ue(c)),v=De.add(p,v,b,re,G),v.proxy)return v;if(b=$i(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)P||(z=re),z===void 0&&(z=!1),c.addEventListener(p.toString(),b,z);else if(c.attachEvent)c.attachEvent(wn(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $i(){function c(v){return p.call(c.src,c.listener,v)}const p=lt;return c}function Wi(c,p,v,b,z){if(Array.isArray(p))for(var G=0;G<p.length;G++)Wi(c,p[G],v,b,z);else b=m(b)?!!b.capture:!!b,v=Vr(v),c&&c[ke]?(c=c.i,G=String(p).toString(),G in c.g&&(p=c.g[G],v=we(p,v,b,z),v>-1&&(de(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[G],c.h--)))):c&&(c=sn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=we(p,v,b,z)),(v=c>-1?p[c]:null)&&Ji(v))}function Ji(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ke])ve(p.i,c);else{var v=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(v,b,c.capture):p.detachEvent?p.detachEvent(wn(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=sn(p))?(ve(v,c),v.h==0&&(v.src=null,p[ye]=null)):de(c)}}}function wn(c){return c in bt?bt[c]:bt[c]="on"+c}function lt(c,p){if(c.da)c=!0;else{p=new Ie(p,this);const v=c.listener,b=c.ha||c.src;c.fa&&Ji(c),c=v.call(b,p)}return c}function sn(c){return c=c[ye],c instanceof ue?c:null}var jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vr(c){return typeof c=="function"?c:(c[jn]||(c[jn]=function(p){return c.handleEvent(p)}),c[jn])}function gt(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}S(gt,M),gt.prototype[ke]=!0,gt.prototype.removeEventListener=function(c,p,v,b){Wi(this,c,p,v,b)};function Et(c,p){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var z=p;p=new N(b,c),oe(p,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=p.g=v[re],z=dn(G,b,!0,p)&&z;if(G=p.g=c,z=dn(G,b,!0,p)&&z,z=dn(G,b,!1,p)&&z,v)for(re=0;re<v.length;re++)G=p.g=v[re],z=dn(G,b,!1,p)&&z}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let b=0;b<v.length;b++)de(v[b]);delete c.g[p],c.h--}}this.G=null},gt.prototype.J=function(c,p,v,b){return this.i.add(String(c),p,!1,v,b)},gt.prototype.K=function(c,p,v,b){return this.i.add(String(c),p,!0,v,b)};function dn(c,p,v,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let G=0;G<p.length;++G){const re=p[G];if(re&&!re.da&&re.capture==v){const De=re.listener,wt=re.ha||re.src;re.fa&&ve(c.i,re),z=De.call(wt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Mr(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Ti(c){c.g=Mr(()=>{c.g=null,c.i&&(c.i=!1,Ti(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Xt extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(c){M.call(this),this.h=c,this.g={}}S(At,M);var Si=[];function bi(c){Me(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ji(p)},c),c.g={}}At.prototype.N=function(){At.Z.N.call(this),bi(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=f.JSON.stringify,Zi=f.JSON.parse,kr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Aa(){}function wa(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}S(zt,N);function mn(){N.call(this,"c")}S(mn,N);var yt={},Pr=null;function Lr(){return Pr=Pr||new gt}yt.Ia="serverreachability";function Ra(c){N.call(this,yt.Ia,c)}S(Ra,N);function zn(c){const p=Lr();Et(p,new Ra(p))}yt.STAT_EVENT="statevent";function er(c,p){N.call(this,yt.STAT_EVENT,c),this.stat=p}S(er,N);function ut(c){const p=Lr();Et(p,new er(p,c))}yt.Ja="timingevent";function Bn(c,p){N.call(this,yt.Ja,c),this.size=p}S(Bn,N);function Cn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Us(c,p,v,b,z,G){c.info(function(){if(c.g)if(G){var re="",De=G.split("&");for(let Xe=0;Xe<De.length;Xe++){var wt=De[Xe].split("=");if(wt.length>1){const mt=wt[0];wt=wt[1];const Kn=mt.split("_");re=Kn.length>=2&&Kn[1]=="type"?re+(mt+"="+wt+"&"):re+(mt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+p+`
`+v+`
`+re})}function Ur(c,p,v,b,z,G,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+p+`
`+v+`
`+G+" "+re})}function Ge(c,p,v,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+me(c,v)+(b?" "+b:"")})}function q(c,p){c.info(function(){return"TIMEOUT: "+p})}xn.prototype.info=function(){};function me(c,p){if(!c.g)return p;if(!p)return null;try{const G=JSON.parse(p);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return ri(G)}catch{return p}}var Oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bt;function qn(){}S(qn,Aa),qn.prototype.g=function(){return new XMLHttpRequest},Bt=new qn;function tr(c){return encodeURIComponent(String(c))}function Du(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function si(c,p,v,b){this.j=c,this.i=p,this.l=v,this.S=b||1,this.V=new At(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var It={},Ft={};function Ai(c,p,v){c.M=1,c.A=js(Nt(p)),c.u=v,c.R=!0,Ca(c,null)}function Ca(c,p){c.F=Date.now(),wi(c),c.B=Nt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Na(v.i,"t",b),c.C=0,v=c.j.L,c.h=new ai,c.g=Gu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Xt(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Si[0]=z.toString()),z=Si);for(let G=0;G<z.length;G++){const re=st(v,z[G],b||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),zn(),Us(c.i,c.v,c.B,c.l,c.S,c.u)}si.prototype.ba=function(c){c=c.target;const p=this.O;p&&ui(c)==3?p.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)e:{const De=ui(this.g),wt=this.g.ya(),Xe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||De!=4||wt==7||(wt==8||Xe<=0?zn(3):zn(2)),Ri(this);var p=this.g.ca();this.X=p;var v=cf(this);if(this.o=p==200,Ur(this.i,this.v,this.B,this.l,this.S,De,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var G=b;break t}}G=null}if(c=G)Ge(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,c);else{this.o=!1,this.m=3,ut(12),In(this),Hn(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Ou(this,v),mt==Ft){De==4&&(this.m=4,ut(14),c=!1),Ge(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,ut(15),Ge(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ge(this.i,this.l,mt,null),Ci(this,mt);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,ut(16),c=!1),this.o=this.o&&c,!c)Ge(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),Hn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ol(re),re.P=!0,ut(11))}}else Ge(this.i,this.l,v,null),Ci(this,v);De==4&&In(this),this.o&&!this.K&&(De==4?Bu(this.j,this):(this.o=!1,wi(this)))}else ir(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),In(this),Hn(this)}}}catch{}};function cf(c){if(!Nu(c))return c.g.la();const p=$t(c.g);if(p==="")return"";let v="";const b=p.length,z=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Hn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(p[G],{stream:!(z&&G==b-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,p){var v=c.C,b=p.indexOf(`
`,v);return b==-1?Ft:(v=Number(p.substring(v,b)),isNaN(v)?It:(b+=1,b+v>p.length?Ft:(p=p.slice(b,b+v),c.C=b+v,p)))}si.prototype.cancel=function(){this.K=!0,In(this)};function wi(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Cn(y(c.aa,c),p)}function Ri(c){c.D&&(f.clearTimeout(c.D),c.D=null)}si.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(q(this.i,this.B),this.M!=2&&(zn(),ut(17)),In(this),this.m=2,Hn(this)):xa(this,this.T-c)};function Hn(c){c.j.I==0||c.K||Bu(c.j,c)}function In(c){Ri(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,bi(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Ci(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||Ii(v.h,c))){if(!c.L&&Ii(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Pa(v),Kr(v);else break e;Ks(v),ut(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Cn(y(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((c.L||v.g==c)&&Pa(v),!R(p))for(z=v.Ba.g.parse(p),p=0;p<z.length;p++){let Xe=z[p];const mt=Xe[0];if(!(mt<=v.K))if(v.K=mt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Kn=Xe[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const Pi=Xe[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const ci=Xe[5];ci!=null&&typeof ci=="number"&&ci>0&&(b=1.5*ci,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const hi=c.g;if(hi){const Qs=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var G=b.h;G.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xo(G,G.h),G.h=null))}if(b.G){const La=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(b.wa=La,Je(b.J,b.G,La))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=c;if(b.na=Fu(b,b.L?b.ba:null,b.W),re.L){$o(b.h,re);var De=re,wt=b.O;wt&&(De.H=wt),De.D&&(Ri(De),wi(De)),b.g=re}else ju(b);v.i.length>0&&Mi(v)}else Xe[0]!="stop"&&Xe[0]!="close"||ki(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ki(v,7):sl(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}zn(4)}catch{}}var Dt=class{constructor(c,p){this.g=c,this.map=p}};function Qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xi(c){return c.h?1:c.g?c.g.size:0}function Ii(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Xo(c,p){c.g?c.g.add(p):c.h=p}function $o(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Qo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return j(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let z,G=null;b>=0?(z=c[v].substring(0,b),G=c[v].substring(b+1)):z=c[v],p(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Dn?(this.l=c.l,Gt(this,c.j),this.o=c.o,this.g=c.g,jr(this,c.u),this.h=c.h,Jo(this,Lu(c.i)),this.m=c.m):c&&(p=String(c).match(Vu))?(this.l=!1,Gt(this,p[1]||"",!0),this.o=Di(p[2]||""),this.g=Di(p[3]||"",!0),jr(this,p[4]),this.h=Di(p[5]||"",!0),Jo(this,p[6]||"",!0),this.m=Di(p[7]||"")):(this.l=!1,this.i=new Br(null,this.l))}Dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(zs(p,Da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(zs(p,Da,!0),"@"),c.push(tr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(zs(v,v.charAt(0)=="/"?Zo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",zs(v,ku)),c.join("")},Dn.prototype.resolve=function(c){const p=Nt(this);let v=!!c.j;v?Gt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var b=c.h;if(v)jr(p,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=p.h.lastIndexOf("/");z!=-1&&(b=p.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const De=z[re++];De=="."?b&&re==z.length&&G.push(""):De==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==z.length&&G.push("")):(G.push(De),b=!0)}b=G.join("/")}else b=z}return v?p.h=b:v=c.i.toString()!=="",v?Jo(p,Lu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Nt(c){return new Dn(c)}function Gt(c,p,v){c.j=v?Di(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function jr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Jo(c,p,v){p instanceof Br?(c.i=p,Oa(c.i,c.l)):(v||(p=zs(p,zr)),c.i=new Br(p,c.l))}function Je(c,p,v){c.i.set(p,v)}function js(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Di(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,pn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Da=/[#\/\?@]/g,Mu=/[#\?:]/g,Zo=/[#\?]/g,zr=/[#\?@]/g,ku=/#/g;function Br(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Br.prototype,r.add=function(c,p){gn(this),this.i=null,c=qr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Pu(c,p){gn(c),p=qr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function el(c,p){return gn(c),p=qr(c,p),c.g.has(p)}r.forEach=function(c,p){gn(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(p,z,b,this)},this)},this)};function tl(c,p){gn(c);let v=[];if(typeof p=="string")el(c,p)&&(v=v.concat(c.g.get(qr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return gn(this),this.i=null,c=qr(this,c),el(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=tl(this,c),c.length>0?String(c[0]):p):p};function Na(c,p,v){Pu(c,p),v.length>0&&(c.i=null,c.g.set(qr(c,p),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var v=p[b];const z=tr(v);v=tl(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+tr(v[G])),c.push(re)}}return this.i=c.join("&")};function Lu(c){const p=new Br;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function qr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Oa(c,p){p&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(v,b){const z=b.toLowerCase();b!=z&&(Pu(this,b),Na(this,z,v))},c)),c.j=p}function oi(c,p){const v=new xn;if(f.Image){const b=new Image;b.onload=E(Fn,v,"TestLoadImage: loaded",!0,p,b),b.onerror=E(Fn,v,"TestLoadImage: error",!1,p,b),b.onabort=E(Fn,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=E(Fn,v,"TestLoadImage: timeout",!1,p,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function nl(c,p){const v=new xn,b=new AbortController,z=setTimeout(()=>{b.abort(),Fn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?Fn(v,"TestPingServer: ok",!0,p):Fn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Fn(v,"TestPingServer: error",!1,p)})}function Fn(c,p,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Hr(){this.g=new kr}function Ni(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ni,Aa),Ni.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(c,p){gt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Bs,gt),r=Bs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,li(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Fr(this):li(this),this.readyState==3&&Va(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Fr(this))},r.Na=function(c){this.g&&(this.response=c,Fr(this))},r.ga=function(){this.g&&Fr(this)};function Fr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gn(c){let p="";return Me(c,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function qs(c,p,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Gn(v),typeof c=="string"?v!=null&&tr(v):Je(c,p,v))}function tt(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(tt,gt);var Oi=/^https?$/i,il=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bt.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){Hs(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(il,p,void 0)>=0)||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Hs(this,G)}};function Hs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,rl(c),nr(c)}function rl(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),nr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),ui(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var b;if(b=G===0){let re=String(c.D).match(Vu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!Oi.test(re?re.toLowerCase():"")}v=b}if(v)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var z=ui(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",rl(c)}}finally{nr(c)}}}}function nr(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Et(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Zi(p)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(c){const p={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=Du(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=p[z]||[];p[z]=G,G.push(v)}Ye(p,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Gr(c){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,c),this.Za=Vi("retryDelaySeedMs",1e4,c),this.Ta=Vi("forwardChannelMaxRetries",2,c),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Ba=new Hr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Gr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,b){ut(0),this.W=c,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Fu(this,null,this.W),Mi(this)};function sl(c){if(Ma(c),c.I==3){var p=c.V++,v=Nt(c.J);if(Je(v,"SID",c.M),Je(v,"RID",p),Je(v,"TYPE","terminate"),Gs(c,v),p=new si(c,c.j,p),p.M=2,p.A=js(Nt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Gu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),wi(p)}Hu(c)}function Kr(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function Ma(c){Kr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Mi(c){if(!Yo(c.h)&&!c.m){c.m=!0;var p=c.Ea;xe||C(),Se||(xe(),Se=!0),x.add(p,c),c.D=0}}function ka(c,p){return xi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Cn(y(c.Ea,c,p),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new si(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Uu(this,z,p),v=Nt(this.J),Je(v,"RID",c),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),Gs(this,v),G&&(this.R?p="headers="+tr(Gn(G))+"&"+p:this.u&&qs(v,this.u,G)),Xo(this.h,z),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",p),Je(v,"SID","null"),z.U=!0,Ai(z,v,null)):Ai(z,v,p),this.I=2}}else this.I==3&&(c?al(this,c):this.i.length==0||Yo(this.h)||al(this))};function al(c,p){var v;p?v=p.l:v=c.V++;const b=Nt(c.J);Je(b,"SID",c.M),Je(b,"RID",v),Je(b,"AID",c.K),Gs(c,b),c.u&&c.o&&qs(b,c.u,c.o),v=new si(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xo(c.h,v),Ai(v,b,p)}function Gs(c,p){c.H&&Me(c.H,function(v,b){Je(p,b,v)}),c.l&&Me({},function(v,b){Je(p,b,v)})}function Uu(c,p,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let De=-1;for(;;){const wt=["count="+v];De==-1?v>0?(De=z[0].g,wt.push("ofs="+De)):De=0:wt.push("ofs="+De);let Xe=!0;for(let mt=0;mt<v;mt++){var G=z[mt].g;const Kn=z[mt].map;if(G-=De,G<0)De=Math.max(0,z[mt].g-100),Xe=!1;else try{G="req"+G+"_"||"";try{var re=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Pi,ci]of re){let hi=ci;m(ci)&&(hi=ri(ci)),wt.push(G+Pi+"="+encodeURIComponent(hi))}}catch(Pi){throw wt.push(G+"type="+encodeURIComponent("_badmap")),Pi}}catch{b&&b(Kn)}}if(Xe){re=wt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),p.G=c,re}function ju(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;xe||C(),Se||(xe(),Se=!0),x.add(p,c),c.A=0}}function Ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Cn(y(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Cn(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Kr(this),zu(this))};function ol(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new si(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Nt(c.na);Je(p,"RID","rpc"),Je(p,"SID",c.M),Je(p,"AID",c.K),Je(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(p,"TO",c.ia),Je(p,"TYPE","xmlhttp"),Gs(c,p),c.u&&c.o&&qs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=js(Nt(p)),v.u=null,v.R=!0,Ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Kr(this),Ks(this),ut(19))};function Pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,p){var v=null;if(c.g==p){Pa(c),ol(c),c.g=null;var b=2}else if(Ii(c.h,p))v=p.G,$o(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var z=c.D;b=Lr(),Et(b,new Bn(b,v)),Mi(c)}else ju(c);else if(z=p.m,z==3||z==0&&p.X>0||!(b==1&&ka(c,p)||b==2&&Ks(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),z){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function qu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function ki(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),b=c.Ua;const z=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gt(b,"https"),js(b),z?oi(b.toString(),v):nl(b.toString(),v)}else ut(2);c.I=0,c.l&&c.l.pa(p),Hu(c),Ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const p=Wo(c.h);(p.length!=0||c.i.length!=0)&&(Q(c.ja,p),Q(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Fu(c,p,v){var b=v instanceof Dn?Nt(v):new Dn(v);if(b.g!="")p&&(b.g=p+"."+b.g),jr(b,b.u);else{var z=f.location;b=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const G=new Dn(null);b&&Gt(G,b),p&&(G.g=p),z&&jr(G,z),v&&(G.h=v),b=G}return v=c.G,p=c.wa,v&&p&&Je(b,v,p),Je(b,"VER",c.ka),Gs(c,b),b}function Gu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new tt(new Ni({ab:v})):new tt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qr(){}Qr.prototype.g=function(c,p){return new hn(c,p)};function hn(c,p){gt.call(this),this.g=new Gr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new rr(this)}S(hn,gt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){sl(this.g)},hn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ri(c),c=v);p.i.push(new Dt(p.Ya++,c)),p.I==3&&Mi(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,hn.Z.N.call(this)};function Qu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Qu,zt);function Yu(){mn.call(this),this.status=1}S(Yu,mn);function rr(c){this.g=c}S(rr,Ku),rr.prototype.ra=function(){Et(this.g,"a")},rr.prototype.qa=function(c){Et(this.g,new Qu(c))},rr.prototype.pa=function(c){Et(this.g,new Yu)},rr.prototype.oa=function(){Et(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,$T=function(){return new Qr},XT=function(){return Lr()},YT=yt,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,ch=Oe,dt.COMPLETE="complete",QT=dt,wa.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,$l=wa,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,KT=tt}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let jo="12.8.0";function cC(r){jo=r}const ma=new up("@firebase/firestore");function mo(){return ma.logLevel}function ce(r,...e){if(ma.logLevel<=ze.DEBUG){const n=e.map(fp);ma.debug(`Firestore (${jo}): ${r}`,...n)}}function xr(r,...e){if(ma.logLevel<=ze.ERROR){const n=e.map(fp);ma.error(`Firestore (${jo}): ${r}`,...n)}}function xo(r,...e){if(ma.logLevel<=ze.WARN){const n=e.map(fp);ma.warn(`Firestore (${jo}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,WT(r,s,n)}function WT(r,e,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xr(s),new Error(s)}function We(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||WT(e,o,s)}function Ce(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class fC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dC{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ar)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new JT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class mC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Be(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return _m(o)===_m(u)?Be(o,u):_m(o)?1:-1}return Be(r.length,e.length)}const _C=55296,vC=57343;function _m(r){const e=r.charCodeAt(0);return e>=_C&&e<=vC}function Io(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const $v="__name__";class Bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const s=Bi.isNumericId(e),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class ot extends Bi{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Bi{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return EC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new nn([$v])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ot.fromString(e))}static fromName(e){return new ge(ot.fromString(e).popFirst(5))}static empty(){return new ge(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ot(e.slice()))}}function ZT(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function TC(r,e,n,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Wv(r){if(!ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Jv(r){if(ge.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function e0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Ir(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ut(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!e0(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const Zv=-62135596800,eE=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*eE);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zv)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ft(0,0))}static max(){return new be(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function SC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new xs(o,ge.empty(),e)}function bC(r){return new xs(r.readTime,r.key,lu)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(be.min(),ge.empty(),lu)}static max(){return new xs(be.max(),ge.empty(),lu)}}function AC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}const wC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==wC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function CC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(r){return r.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const mp=-1;function Gh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function xC(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const t0="";function IC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=tE(e)),e=DC(r.get(n),e);return tE(e)}function DC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case t0:n+="";break;default:n+=u}}return n}function tE(r){return r+t0+""}function nE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ms(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function n0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iE(this.data.getIterator())}getIteratorFrom(e){return new iE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class iE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ht(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new i0("Invalid base64 string: "+u):u}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const NC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=NC.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ds(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const r0="server_timestamp",s0="__type__",a0="__previous_value__",o0="__local_write_time__";function pp(r){return(r?.mapValue?.fields||{})[s0]?.stringValue===r0}function Kh(r){const e=r.mapValue.fields[a0];return pp(e)?Kh(e):e}function uu(r){const e=Is(r.mapValue.fields[o0].timestampValue);return new ft(e.seconds,e.nanos)}class OC{constructor(e,n,s,o,u,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const Ah="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Ah}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}function VC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(r.options.projectId,e)}const l0="__type__",MC="__max__",th={mapValue:{}},u0="__vector__",wh="value";function Ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:PC(r)?9007199254740991:kC(r)?10:11:Te(28295,{value:r})}function Yi(r,e){if(r===e)return!0;const n=Ns(r);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Is(o.timestampValue),m=Is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ds(o.bytesValue).isEqual(Ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=xt(o.doubleValue),m=xt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nE(f)!==nE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Yi(f[g],m[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function hu(r,e){return(r.values||[]).find((n=>Yi(n,e)))!==void 0}function Do(r,e){if(r===e)return 0;const n=Ns(r),s=Ns(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=xt(u.integerValue||u.doubleValue),g=xt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return rE(r.timestampValue,e.timestampValue);case 4:return rE(uu(r),uu(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ds(u),g=Ds(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Be(m[y],g[y]);if(E!==0)return E}return Be(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Be(xt(u.latitude),xt(f.latitude));return m!==0?m:Be(xt(u.longitude),xt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return sE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[wh]?.arrayValue,E=g[wh]?.arrayValue,S=Be(y?.values?.length||0,E?.values?.length||0);return S!==0?S:sE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Vm(g[S],E[S]);if(w!==0)return w;const j=Do(m[g[S]],y[E[S]]);if(j!==0)return j}return Be(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function rE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=Is(r),s=Is(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function sE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Do(n[o],s[o]);if(u)return u}return Be(n.length,s.length)}function No(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Is(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function hh(r){switch(Ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+hh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+hh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((u,f)=>{o+=u.length+hh(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function aE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function oE(r){return!!r&&"nullValue"in r}function lE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function kC(r){return(r?.mapValue?.fields||{})[l0]?.stringValue===u0}function tu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ms(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=tu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(r.arrayValue.values[n]);return e}return{...r}}function PC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MC}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=tu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ms(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new An(tu(this.value))}}function c0(r){const e=[];return Ms(r.fields,((n,s)=>{const o=new nn([n]);if(fh(s)){const u=c0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Un(e)}class un{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new un(e,0,be.min(),be.min(),be.min(),An.empty(),0)}static newFoundDocument(e,n,s,o){return new un(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new un(e,2,n,be.min(),be.min(),An.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,be.min(),be.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function uE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Do(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Yi(r.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function LC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class h0{}class Lt extends h0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jC(e,n,s):n==="array-contains"?new qC(e,s):n==="in"?new HC(e,s):n==="not-in"?new FC(e,s):n==="array-contains-any"?new GC(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zC(e,s):new BC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends h0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return f0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f0(r){return r.op==="and"}function d0(r){return UC(r)&&f0(r)}function UC(r){for(const e of r.filters)if(e instanceof _i)return!1;return!0}function Pm(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+No(r.value);if(d0(r))return r.filters.map((e=>Pm(e))).join(",");{const e=r.filters.map((n=>Pm(n))).join(",");return`${r.op}(${e})`}}function m0(r,e){return r instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(r,e):r instanceof _i?(function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&m0(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function p0(r){return r instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof _i?(function(n){return n.op.toString()+" {"+n.getFilters().map(p0).join(" ,")+"}"})(r):"Filter"}class jC extends Lt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class zC extends Lt{constructor(e,n){super(e,"in",n),this.keys=g0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BC extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=g0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g0(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class qC extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&hu(n.arrayValue,this.value)}}class HC extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class FC extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class GC extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}class KC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function hE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new KC(r,e,n,s,o,u,f)}function yp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Pm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>No(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>No(s))).join(",")),e.Te=n}return e.Te}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!m0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cE(r.startAt,e.startAt)&&cE(r.endAt,e.endAt)}function Lm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class qo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QC(r,e,n,s,o,u,f,m){return new qo(r,e,n,s,o,u,f,m)}function vp(r){return new qo(r)}function fE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YC(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function y0(r){return r.collectionGroup!==null}function nu(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ht(nn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new fu(nn.keyField(),s))}return e.Ie}function qi(r){const e=Ce(r);return e.Ee||(e.Ee=XC(e,nu(r))),e.Ee}function XC(r,e){if(r.limitType==="F")return hE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=r.endAt?new Rh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rh(r.startAt.position,r.startAt.inclusive):null;return hE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Um(r,e){const n=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $C(r,e){const n=r.explicitOrderBy.concat([e]);return new qo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Qh(r,e){return _p(qi(r),qi(e))&&r.limitType===e.limitType}function _0(r){return`${yp(qi(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>p0(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(qi(r))}; limitType=${r.limitType})`}function Yh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=uE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,nu(s),o)||s.endAt&&!(function(f,m,g){const y=uE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,nu(s),o))})(r,e)}function WC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function v0(r){return(e,n)=>{let s=!1;for(const o of nu(r)){const u=JC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JC(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Do(g,y):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}const ZC=new vt(ge.comparator);function Dr(){return ZC}const E0=new vt(ge.comparator);function Wl(...r){let e=E0;for(const n of r)e=e.insert(n.key,n);return e}function T0(r){let e=E0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ca(){return iu()}function S0(){return iu()}function iu(){return new Ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ex=new vt(ge.comparator),tx=new Ht(ge.comparator);function qe(...r){let e=tx;for(const n of r)e=e.add(n);return e}const nx=new Ht(Be);function ix(){return nx}function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function b0(r){return{integerValue:""+r}}function rx(r,e){return xC(e)?b0(e):Ep(r,e)}class Xh{constructor(){this._=void 0}}function sx(r,e,n){return r instanceof Ch?(function(o,u){const f={fields:{[s0]:{stringValue:r0},[o0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=Kh(u)),u&&(f.fields[a0]=u),{mapValue:f}})(n,e):r instanceof Oo?w0(r,e):r instanceof du?R0(r,e):(function(o,u){const f=A0(o,u),m=dE(f)+dE(o.Ae);return km(f)&&km(o.Ae)?b0(m):Ep(o.serializer,m)})(r,e)}function ax(r,e,n){return r instanceof Oo?w0(r,e):r instanceof du?R0(r,e):n}function A0(r,e){return r instanceof xh?(function(s){return km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ch extends Xh{}class Oo extends Xh{constructor(e){super(),this.elements=e}}function w0(r,e){const n=C0(e);for(const s of r.elements)n.some((o=>Yi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends Xh{constructor(e){super(),this.elements=e}}function R0(r,e){let n=C0(e);for(const s of r.elements)n=n.filter((o=>!Yi(o,s)));return{arrayValue:{values:n}}}class xh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dE(r){return xt(r.integerValue||r.doubleValue)}function C0(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ox{constructor(e,n){this.field=e,this.transform=n}}function lx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof du&&o instanceof du?Io(s.elements,o.elements,Yi):s instanceof xh&&o instanceof xh?Yi(s.Ae,o.Ae):s instanceof Ch&&o instanceof Ch})(r.transform,e.transform)}class ux{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function x0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Tp(r.key,gi.none()):new Su(r.key,r.data,gi.none());{const n=r.data,s=An.empty();let o=new Ht(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ks(r.key,s,new Un(o.toArray()),gi.none())}}function cx(r,e,n){r instanceof Su?(function(o,u,f){const m=o.value.clone(),g=pE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ks?(function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=pE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(I0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ru(r,e,n,s){return r instanceof Su?(function(u,f,m,g){if(!dh(u.precondition,f))return m;const y=u.value.clone(),E=gE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ks?(function(u,f,m,g){if(!dh(u.precondition,f))return m;const y=gE(u.fieldTransforms,g,f),E=f.data;return E.setAll(I0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function hx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=A0(s.transform,o||null);u!=null&&(n===null&&(n=An.empty()),n.set(s.field,u))}return n||null}function mE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,f)=>lx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Su extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function pE(r,e,n){const s=new Map;We(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,ax(f,m,n[o]))}return s}function gE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,sx(u,f,e))}return s}class Tp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=S0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=x0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((n,s)=>mE(n,s)))&&Io(this.baseMutations,e.baseMutations,((n,s)=>mE(n,s)))}}class Sp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return ex})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(e,n,s,o)}}class mx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class px{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Fe;function gx(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function D0(r){if(r===void 0)return xr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function yx(){return new TextEncoder}const _x=new ws([4294967295,4294967295],0);function yE(r){const e=yx().encode(r),n=new GT;return n.update(e),new Uint8Array(n.digest())}function _E(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ws([n,s],0),new ws([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ws.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ws.fromNumber(s)));return o.compare(_x)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yE(e),[s,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=yE(e),[s,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(be.min(),o,new vt(Be),Dr(),qe())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,qe(),qe(),qe())}}class mh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class N0{constructor(e,n){this.targetId=e,this.Ce=n}}class O0{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class vE{constructor(){this.ve=0,this.Fe=EE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=EE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.He=nh(),this.Je=nh(),this.Ze=new vt(Be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new ge(u.path);this.et(n,f,un.newNoDocument(f,be.min()))}else We(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ds(s).toUint8Array()}catch(g){if(g instanceof i0)return xo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bp(f,o,u)}catch(g){return xo(g instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Lm(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,un.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=qe();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Wh(e,n,this.Ze,this.je,s);return this.je=Dr(),this.He=nh(),this.Je=nh(),this.Ze=new vt(Be),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new vE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(Be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(Be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new vt(ge.comparator)}function EE(){return new vt(ge.comparator)}const Ex={asc:"ASCENDING",desc:"DESCENDING"},Tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sx={and:"AND",or:"OR"};class bx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ax(r,e){return Ih(r,e.toTimestamp())}function Hi(r){return We(!!r,49232),be.fromTimestamp((function(n){const s=Is(n);return new ft(s.seconds,s.nanos)})(r))}function Ap(r,e){return Bm(r,e).canonicalString()}function Bm(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function M0(r){const e=ot.fromString(r);return We(j0(e),10190,{key:e.toString()}),e}function qm(r,e){return Ap(r.databaseId,e.path)}function vm(r,e){const n=M0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(P0(n))}function k0(r,e){return Ap(r.databaseId,e)}function wx(r){const e=M0(r);return e.length===4?ot.emptyPath():P0(e)}function Hm(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function P0(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function TE(r,e,n){return{name:qm(r,e),fields:n.value.mapValue.fields}}function Rx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:D0(y.code);return new le(E,y.message||"")})(f);n=new O0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(r,s.document.name),u=Hi(s.document.updateTime),f=s.document.createTime?Hi(s.document.createTime):be.min(),m=new An({mapValue:{fields:s.document.fields}}),g=un.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(r,s.document),u=s.readTime?Hi(s.readTime):be.min(),f=un.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(r,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new px(o,u),m=s.targetId;n=new N0(m,f)}}return n}function Cx(r,e){let n;if(e instanceof Su)n={update:TE(r,e.key,e.value)};else if(e instanceof Tp)n={delete:qm(r,e.key)};else if(e instanceof ks)n={update:TE(r,e.key,e.data),updateMask:Px(e.fieldMask)};else{if(!(e instanceof fx))return Te(16599,{dt:e.type});n={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Ax(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function xx(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Hi(o.updateTime):Hi(u);return f.isEqual(be.min())&&(f=Hi(u)),new ux(f,o.transformResults||[])})(n,e)))):[]}function Ix(r,e){return{documents:[k0(r,e.path)]}}function Dx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=k0(r,o);const u=(function(y){if(y.length!==0)return U0(_i.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:go(w.field),direction:Vx(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Nx(r){let e=wx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){We(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=L0(S);return w instanceof _i&&d0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(Q){return new fu(yo(Q.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Gh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,j=S.values||[];return new Rh(j,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,j=S.values||[];return new Rh(j,w)})(n.endAt)),QC(e,o,f,u,m,"F",g,y)}function Ox(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(n.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Lt.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return _i.create(n.compositeFilter.filters.map((s=>L0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function Vx(r){return Ex[r]}function Mx(r){return Tx[r]}function kx(r){return Sx[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return nn.fromServerFormat(r.fieldPath)}function U0(r){return r instanceof Lt?(function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:Mx(n.op),value:n.value}}})(r):r instanceof _i?(function(n){const s=n.getFilters().map((o=>U0(o)));return s.length===1?s[0]:{compositeFilter:{op:kx(n.op),filters:s}}})(r):Te(54877,{filter:r})}function Px(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function j0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function z0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ts{constructor(e,n,s,o,u=be.min(),f=be.min(),m=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Lx{constructor(e){this.yt=e}}function Ux(r){const e=Nx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}class jx{constructor(){this.Sn=new zx}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(xs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class zx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B0=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(B0,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Vo(0)}static ar(){return new Vo(-1)}}const bE="LruGarbageCollector",Bx=1048576;function AE([r,e],[n,s]){const o=Be(r,n);return o===0?Be(e,s):o}class qx{constructor(e){this.Pr=e,this.buffer=new Ht(AE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();AE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(bE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?ce(bE,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Ar(3e5)}))}}class Fx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Fh.ce);const s=new qx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(SE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),mo()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function Gx(r,e){return new Fx(r,e)}class Kx{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Yx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ru(s.mutation,o,Un.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Wl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Dr();const f=iu(),m=(function(){return iu()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ks)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ru(E.mutation,y,E.mutation.getFieldMask(),ft.now())):f.set(y.key,Un.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new Qx(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=iu();let o=new vt(((f,m)=>f-m)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Un.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||qe()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=S0();E.forEach((w=>{if(!u.has(w)){const j=x0(n.get(w),s.get(w));j!==null&&S.set(w,j),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return YC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ca());let m=lu,g=u;return f.next((y=>te.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,qe()))).next((E=>({batchId:m,changes:T0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Wl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const y=(function(S,w){return new qo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,un.newInvalidDocument(E)))}));let m=Wl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&ru(E.mutation,y,Un.empty(),ft.now()),Yh(n,y)&&(m=m.insert(g,y))})),m}))}}class Xx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Ux(o.bundledQuery),readTime:Hi(o.readTime)}})(n)),te.resolve()}}class $x{constructor(){this.overlays=new vt(ge.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new vt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ca(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ca(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mx(n,s));let u=this.Lr.get(n);u===void 0&&(u=qe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class Wx{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class wp{constructor(){this.kr=new Ht(Qt.Kr),this.qr=new Ht(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ge(new ot([])),s=new Qt(n,e),o=new Qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new ot([])),s=new Qt(n,e),o=new Qt(n,e+1);let u=qe();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class Jx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Qt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?mp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Be);return n.forEach((o=>{const u=new Qt(o,0),f=new Qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Qt(new ge(u),0);let m=new Ht(Be);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const u=new Qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Zx{constructor(e){this.ti=e,this.docs=(function(){return new vt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Dr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||AC(bC(E),s)<=0||(o.has(E.key)||Yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new eI(this)}getSize(e){return te.resolve(this.size)}}class eI extends Kx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class tI{constructor(e){this.persistence=e,this.ri=new Ea((n=>yp(n)),_p),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new wp,this.targetCount=0,this.oi=Vo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class q0{constructor(e,n){this._i={},this.overlays={},this.ai=new Fh(0),this.ui=!1,this.ui=!0,this.ci=new Wx,this.referenceDelegate=e(this),this.li=new tI(this),this.indexManager=new jx,this.remoteDocumentCache=(function(o){return new Zx(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Lx(n),this.Pi=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $x,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new Jx(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new nI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class nI extends RC{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new wp,this.Ai=null}static Vi(e){return new Rp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=ge.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.fi=new Ea((s=>IC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Gx(this,n)}static Vi(e,n){return new Dh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}class iI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Fw()?8:CC(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new iI;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(mo()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(mo()<=ze.DEBUG&&ce("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(mo()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):te.resolve())}gs(e,n){if(fE(n))return te.resolve(null);let s=qi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=qe(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,jm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return fE(n)||o.isEqual(be.min())?te.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?te.resolve(null):(mo()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.Ds(e,f,n,SC(o,lu)).next((m=>m)))}))}bs(e,n){let s=new Ht(v0(e));return n.forEach(((o,u)=>{Yh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return mo()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",po(n)),this.fs.getDocumentsMatchingQuery(e,n,xs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const xp="LocalStore",sI=3e8;class aI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new vt(Be),this.Fs=new Ea((u=>yp(u)),_p),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function oI(r,e,n,s){return new aI(r,e,n,s)}async function H0(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=qe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function lI(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let j=te.resolve();return w.forEach((Q=>{j=j.next((()=>E.getEntry(g,Q))).next(($=>{const k=y.docVersions.get(Q);We(k!==null,48541),$.version.compareTo(k)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=qe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function F0(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function uI(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let j=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(rn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(S,j),(function($,k,ie){return $.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=sI?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,j,E)&&m.push(n.li.updateTargetData(u,j))}));let g=Dr(),y=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(cI(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(be.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function cI(r,e,n){let s=qe(),o=qe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Dr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function hI(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function fI(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Fm(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Bo(f))throw f;ce(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function wE(r,e,n){const s=Ce(r);let o=be.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Ce(g),w=S.Fs.get(E);return w!==void 0?te.resolve(S.vs.get(w)):S.li.getTargetData(y,E)})(s,f,qi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:qe()))).next((m=>(dI(s,WC(e),m),{documents:m,ks:u})))))}function dI(r,e,n){let s=r.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class RE{constructor(){this.activeTargetIds=ix()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.vo=new RE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new RE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pI{Mo(e){}shutdown(){}}const CE="ConnectivityMonitor";class xE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(CE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function Gm(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Em="RestConnection",gI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Gm(),m=this.Qo(e,n.toUriEncodedString());ce(Em,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=Lo(y);return this.zo(e,m,g,s,E).then((S=>(ce(Em,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw xo(Em,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=gI[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class _I{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",Ql=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class To extends yI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!To.c_){const e=XT();Ql(e,YT.STAT_EVENT,(n=>{n.stat===Om.PROXY?ce(on,"STAT_EVENT: detected buffering proxy"):n.stat===Om.NOPROXY&&ce(on,"STAT_EVENT: detected no buffering proxy")})),To.c_=!0}}zo(e,n,s,o,u){const f=Gm();return new Promise(((m,g)=>{const y=new KT;y.setWithCredentials(!0),y.listenOnce(QT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ch.NO_ERROR:const S=y.getResponseJson();ce(on,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case ch.TIMEOUT:ce(on,`RPC '${e}' ${f} timed out`),g(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const w=y.getStatus();if(ce(on,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const Q=j?.error;if(Q&&Q.status&&Q.message){const $=(function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(Q.status);g(new le($,Q.message))}else g(new le(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(on,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(on,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Gm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");ce(on,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,w=!1;const j=new _I({Ho:Q=>{w?ce(on,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(S||(ce(on,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(on,`RPC '${e}' stream ${o} sending:`,Q),E.send(Q))},Jo:()=>E.close()});return Ql(E,$l.EventType.OPEN,(()=>{w||(ce(on,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),Ql(E,$l.EventType.CLOSE,(()=>{w||(w=!0,ce(on,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(E))})),Ql(E,$l.EventType.ERROR,(Q=>{w||(w=!0,xo(on,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),j.o_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),Ql(E,$l.EventType.MESSAGE,(Q=>{if(!w){const $=Q.data[0];We(!!$,16349);const k=$,ie=k?.error||k[0]?.error;if(ie){ce(on,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let se=(function(Se){const x=Pt[Se];if(x!==void 0)return D0(x)})(ne),Ae=ie.message;se===void 0&&(se=J.INTERNAL,Ae="Unknown error status: "+ne+" with message "+ie.message),w=!0,j.o_(new le(se,Ae)),E.close()}else ce(on,`RPC '${e}' stream ${o} received:`,$),j.__($)}})),To.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $T()}}function vI(r){return new To(r)}function Tm(){return typeof document<"u"?document:null}function Jh(r){return new bx(r,!0)}To.c_=!1;class G0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const IE="PersistentStream";class K0{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EI extends K0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Rx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Hi(f.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Lm(g)?{documents:Ix(u,g)}:{query:Dx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=V0(u,f.resumeToken);const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Ih(u,f.snapshotVersion.toTimestamp());const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=Ox(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.K_(n)}}class TI extends K0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xx(e.writeResults,e.commitTime),s=Hi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Cx(this.serializer,s)))};this.K_(n)}}class SI{}class bI extends SI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Bm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Bm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AI(r,e,n,s){return new bI(r,e,n,s)}class wI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class RI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Ta(this)&&(ce(pa,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await Au(y),y.Va.set("Unknown"),y.Ea.delete(4),await Zh(y)})(this))}))})),this.Va=new wI(s,o)}}async function Zh(r){if(Ta(r))for(const e of r.Ra)await e(!0)}async function Au(r){for(const e of r.Ra)await e(!1)}function Q0(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Np(n):Ho(n).O_()&&Dp(n,e))}function Ip(r,e){const n=Ce(r),s=Ho(n);n.Ia.delete(e),s.O_()&&Y0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Va.set("Unknown"))}function Dp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(r).Z_(e)}function Y0(r,e){r.da.$e(e),Ho(r).X_(e)}function Np(r){r.da=new vx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.Va.ua()}function Op(r){return Ta(r)&&!Ho(r).x_()&&r.Ia.size>0}function Ta(r){return Ce(r).Ea.size===0}function X0(r){r.da=void 0}async function CI(r){r.Va.set("Online")}async function xI(r){r.Ia.forEach(((e,n)=>{Dp(r,e)}))}async function II(r,e){X0(r),Op(r)?(r.Va.ha(e),Np(r)):r.Va.set("Unknown")}async function DI(r,e,n){if(r.Va.set("Online"),e instanceof O0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ce(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof mh?r.da.Xe(e):e instanceof N0?r.da.st(e):r.da.tt(e),!n.isEqual(be.min()))try{const s=await F0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),Y0(u,g);const S=new Ts(E.target,g,y,E.sequenceNumber);Dp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(pa,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!Bo(e))throw e;r.Ea.add(1),await Au(r),r.Va.set("Offline"),n||(n=()=>F0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(pa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Zh(r)}))}function $0(r,e){return e().catch((n=>Nh(r,n,e)))}async function ef(r){const e=Ce(r),n=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mp;for(;NI(e);)try{const o=await hI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,OI(e,o)}catch(o){await Nh(e,o)}W0(e)&&J0(e)}function NI(r){return Ta(r)&&r.Ta.length<10}function OI(r,e){r.Ta.push(e);const n=Os(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function W0(r){return Ta(r)&&!Os(r).x_()&&r.Ta.length>0}function J0(r){Os(r).start()}async function VI(r){Os(r).ra()}async function MI(r){const e=Os(r);for(const n of r.Ta)e.ea(n.mutations)}async function kI(r,e,n){const s=r.Ta.shift(),o=Sp.from(s,e,n);await $0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function PI(r,e){e&&Os(r).Y_&&await(async function(s,o){if((function(f){return gx(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();Os(s).B_(),await $0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,e),W0(r)&&J0(r)}async function DE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ce(pa,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Au(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function LI(r,e){const n=Ce(r);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await Au(n),n.Va.set("Unknown"))}function Ho(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new EI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:CI.bind(null,r),Yo:xI.bind(null,r),t_:II.bind(null,r),J_:DI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Op(r)?Np(r):r.Va.set("Unknown")):(await r.ma.stop(),X0(r))}))),r.ma}function Os(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new TI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VI.bind(null,r),t_:PI.bind(null,r),ta:MI.bind(null,r),na:kI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(xr("AsyncQueue",`${e}: ${r}`),Bo(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Wl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class NE{constructor(){this.ga=new vt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Mo(e,n,So.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class UI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jI{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=OE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function OE(){return new Ea((r=>_0(r)),Qh)}async function Z0(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new UI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function eS(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zI(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function BI(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Km,VE;(VE=Km||(Km={})).Ma="default",VE.Cache="cache";class tS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class nS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class qI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=v0(e),this.tu=new So(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new NE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),j=Yh(this.query,S)?S:null,Q=!!w&&this.mutatedKeys.has(w.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let k=!1;w&&j?w.data.isEqual(j.data)?Q!==$&&(s.track({type:3,doc:j}),k=!0):this.su(w,j)||(s.track({type:2,doc:j}),k=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!w&&j?(s.track({type:0,doc:j}),k=!0):w&&!j&&(s.track({type:1,doc:w}),k=!0,(g||y)&&(m=!0)),k&&(j?(f=f.add(j),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(j,Q){const $=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:k})}};return $(j)-$(Q)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Mo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new iS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new nS(s))})),n}cu(e){this.Za=e.ks,this.Ya=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pp="SyncEngine";class HI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FI{constructor(e){this.key=e,this.hu=!1}}class GI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ea((m=>_0(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(ge.comparator),this.Au=new Map,this.Vu=new wp,this.du={},this.mu=new Map,this.fu=Vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(r,e,n=!0){const s=uS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await rS(s,e,n,!0),o}async function QI(r,e){const n=uS(r);await rS(n,e,!0,!1)}async function rS(r,e,n,s){const o=await fI(r.localStore,qi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Q0(r.remoteStore,o),m}async function YI(r,e,n,s,o){r.pu=(S,w,j)=>(async function($,k,ie,ne){let se=k.view.ru(ie);se.Ss&&(se=await wE($.localStore,k.query,!1).then((({documents:x})=>k.view.ru(x,se))));const Ae=ne&&ne.targetChanges.get(k.targetId),xe=ne&&ne.targetMismatches.get(k.targetId)!=null,Se=k.view.applyChanges(se,$.isPrimaryClient,Ae,xe);return kE($,k.targetId,Se.au),Se.snapshot})(r,S,w,j);const u=await wE(r.localStore,e,!0),f=new qI(e,u.ks),m=f.ru(u.documents),g=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);kE(r,n,y.au);const E=new HI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function XI(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ip(s.remoteStore,o.targetId),Qm(s,o.targetId)})).catch(zo)):(Qm(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function $I(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ip(n.remoteStore,s.targetId))}async function WI(r,e,n){const s=r2(r);try{const o=await(function(f,m){const g=Ce(f),y=ft.now(),E=m.reduce(((j,Q)=>j.add(Q.key)),qe());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Q=Dr(),$=qe();return g.xs.getEntries(j,E).next((k=>{Q=k,Q.forEach(((ie,ne)=>{ne.isValidDocument()||($=$.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,Q))).next((k=>{S=k;const ie=[];for(const ne of m){const se=hx(ne,S.get(ne.key).overlayedDocument);se!=null&&ie.push(new ks(ne.key,se,c0(se.value.mapValue),gi.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ie,m)})).next((k=>{w=k;const ie=k.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(j,k.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:T0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new vt(Be)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await wu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function sS(r,e){const n=Ce(r);try{const s=await uI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?We(f.hu,14607):o.removedDocuments.size>0&&(We(f.hu,42227),f.hu=!1))})),await wu(n,s,e)}catch(s){await zo(s)}}function ME(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ce(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(m)&&(y=!0)})),y&&kp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JI(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new vt(ge.comparator);f=f.insert(u,un.newNoDocument(u,be.min()));const m=qe().add(u),g=new Wh(be.min(),new Map,new vt(Be),f,m);await sS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Lp(s)}else await Fm(s.localStore,e,!1).then((()=>Qm(s,e,n))).catch(zo)}async function ZI(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await lI(n.localStore,e);oS(n,s,null),aS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await zo(o)}}async function e2(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const g=Ce(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(We(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);oS(s,e,n),aS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await zo(o)}}function aS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function oS(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||lS(r,s)}))}function lS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ip(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Lp(r))}function kE(r,e,n){for(const s of n)s instanceof nS?(r.Vu.addReference(s.key,e),t2(r,s)):s instanceof iS?(ce(Pp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||lS(r,s.key)):Te(19791,{wu:s})}function t2(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ce(Pp,"New document in limbo: "+n),r.Eu.add(s),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new FI(n)),r.Ru=r.Ru.insert(n,s),Q0(r.remoteStore,new Ts(qi(vp(n.path)),s,"TargetPurposeLimboResolution",Fh.ce))}}async function wu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Cp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Ce(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(w=>te.forEach(w.Ts,(j=>E.persistence.referenceDelegate.addReference(S,w.targetId,j))).next((()=>te.forEach(w.Is,(j=>E.persistence.referenceDelegate.removeReference(S,w.targetId,j)))))))))}catch(S){if(!Bo(S))throw S;ce(xp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const j=E.vs.get(w),Q=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(Q);E.vs=E.vs.insert(w,$)}}})(s.localStore,u))}async function n2(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ce(Pp,"User change. New user:",e.toKey());const s=await H0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ns)}}function i2(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function uS(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JI.bind(null,e),e.Pu.J_=zI.bind(null,e.eventManager),e.Pu.yu=BI.bind(null,e.eventManager),e}function r2(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oI(this.persistence,new rI,e.initialUser,this.serializer)}Cu(e){return new q0(Rp.Vi,this.serializer)}Du(e){return new mI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class s2 extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Hx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new q0((s=>Dh.Vi(s,n)),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),await LI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jI})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=vI(e.databaseInfo);return AI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new RI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ME(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new pI})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new GI(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);ce(pa,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};class cS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Vs="FirestoreClient";class a2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(Vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(Vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Vs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await H0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function PE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await o2(r);ce(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>DE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>DE(e.remoteStore,o))),r._onlineComponents=e}async function o2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Vs,"Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Sm(r,new Oh)}}else ce(Vs,"Using default OfflineComponentProvider"),await Sm(r,new s2(void 0));return r._offlineComponents}async function hS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Vs,"Using user provided OnlineComponentProvider"),await PE(r,r._uninitializedComponentsProvider._online)):(ce(Vs,"Using default OnlineComponentProvider"),await PE(r,new Ym))),r._onlineComponents}function l2(r){return hS(r).then((e=>e.syncEngine))}async function fS(r){const e=await hS(r),n=e.eventManager;return n.onListen=KI.bind(null,e.syncEngine),n.onUnlisten=XI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$I.bind(null,e.syncEngine),n}function u2(r,e,n={}){const s=new Ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new cS({next:w=>{E.Nu(),f.enqueueAndForget((()=>eS(u,S)));const j=w.docs.has(m);!j&&w.fromCache?y.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&g&&g.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new tS(vp(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Z0(u,S)})(await fS(r),r.asyncQueue,e,n,s))),s.promise}function c2(r,e,n={}){const s=new Ar;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new cS({next:w=>{E.Nu(),f.enqueueAndForget((()=>eS(u,S))),w.fromCache&&g.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new tS(m,E,{includeMetadataChanges:!0,Ka:!0});return Z0(u,S)})(await fS(r),r.asyncQueue,e,n,s))),s.promise}function h2(r,e){const n=new Ar;return r.asyncQueue.enqueueAndForget((async()=>WI(await l2(r),e,n))),n.promise}function dS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const f2="ComponentProvider",LE=new Map;function d2(r,e,n,s,o){return new OC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,dS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const mS="firestore.googleapis.com",UE=!0;class jE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=UE}else this.host=e.host,this.ssl=e.ssl??UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bx)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hC;switch(s.type){case"firstParty":return new pC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=LE.get(n);s&&(ce(f2,"Removing Datastore"),LE.delete(n),s.terminate())})(this),Promise.resolve()}}function m2(r,e,n,s={}){r=Ir(r,tf);const o=Lo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(LT(`https://${m}`),UT("Firestore",!0)),u.host!==mS&&u.host!==m&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Cs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=ln.MOCK_USER;else{y=kw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(S)}r._authCredentials=new fC(new JT(y,E))}}class Sa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,jt._jsonSchema))return new jt(e,s||null,new ge(ot.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ut("string",jt._jsonSchemaVersion),referencePath:Ut("string")};class Rs extends Sa{constructor(e,n,s){super(e,n,vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ge(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function Er(r,e,...n){if(r=Yt(r),ZT("collection","path",e),r instanceof tf){const s=ot.fromString(e,...n);return Jv(s),new Rs(r,null,s)}{if(!(r instanceof jt||r instanceof Rs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return Jv(s),new Rs(r.firestore,null,s)}}function _o(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=dp.newId()),ZT("doc","path",e),r instanceof tf){const s=ot.fromString(e,...n);return Wv(s),new jt(r,null,new ge(s))}{if(!(r instanceof jt||r instanceof Rs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return Wv(s),new jt(r.firestore,r instanceof Rs?r.converter:null,new ge(s))}}const zE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G0(this,"async_queue_retry"),this._c=()=>{const s=Tm();s&&ce(zE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ce(zE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",qE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Vp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Fo extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new BE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function p2(r,e){const n=typeof r=="object"?r:qT(),s=typeof r=="string"?r:Ah,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Vw("firestore");u&&m2(o,...u)}return o}function Up(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||g2(r),r._firestoreClient}function g2(r){const e=r._freezeSettings(),n=d2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new a2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(rn.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Ut("string",ni._jsonSchemaVersion),bytes:Ut("string")};class jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nf{constructor(e){this._methodName=e}}class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ut("string",Fi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Ut("string",yi._jsonSchemaVersion),vectorValues:Ut("object")};const y2=/^__.*__$/;class _2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class pS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class rf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new rf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(gS(this.dataSource)&&y2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class v2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}createContext(e,n,s,o=!1){return new rf({dataSource:e,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(r){const e=r._freezeSettings(),n=Jh(r._databaseId);return new v2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function E2(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,s);const m=yS(s,f);let g,y;if(u.merge)g=new Un(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=ga(e,S,n);if(!f.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ES(E,w)||E.push(w)}g=new Un(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new _2(new An(m),g,y)}class sf extends nf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function T2(r,e,n){return new rf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bp extends nf{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=T2(this,e,!0),s=this.Ac.map((u=>Go(u,n))),o=new Oo(s);return new ox(e.path,o)}isEqual(e){return e instanceof Bp&&Cs(this.Ac,e.Ac)}}function S2(r,e,n,s){const o=r.createContext(1,e,n);qp("Data must be an object, but it was:",o,s);const u=[],f=An.empty();Ms(s,((g,y)=>{const E=vS(e,g,n);y=Yt(y);const S=o.childContextForFieldPath(E);if(y instanceof sf)u.push(E);else{const w=Go(y,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Un(u);return new pS(f,m,o.fieldTransforms)}function b2(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[ga(e,s,n)],g=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ga(e,u[w])),g.push(u[w+1]);const y=[],E=An.empty();for(let w=m.length-1;w>=0;--w)if(!ES(y,m[w])){const j=m[w];let Q=g[w];Q=Yt(Q);const $=f.childContextForFieldPath(j);if(Q instanceof sf)y.push(j);else{const k=Go(Q,$);k!=null&&(y.push(j),E.set(j,k))}}const S=new Un(y);return new pS(E,S,f.fieldTransforms)}function A2(r,e,n,s=!1){return Go(n,r.createContext(s?4:3,e))}function Go(r,e){if(_S(r=Yt(r)))return qp("Unsupported field value:",e,r),yS(r,e);if(r instanceof nf)return(function(s,o){if(!gS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Go(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ft.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof ft){const u=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:V0(o.serializer,s._byteString)};if(s instanceof jt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yi)return(function(f,m){const g=f instanceof yi?f.toArray():f;return{mapValue:{fields:{[l0]:{stringValue:u0},[wh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Ep(m.serializer,E)}))}}}}}})(s,o);if(z0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hh(s)}`)})(r,e)}function yS(r,e){const n={};return n0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(r,((s,o)=>{const u=Go(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function _S(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof Fi||r instanceof ni||r instanceof jt||r instanceof nf||r instanceof yi||z0(r))}function qp(r,e,n){if(!_S(n)||!e0(n)){const s=Hh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ga(r,e,n){if((e=Yt(e))instanceof jp)return e._internalPath;if(typeof e=="string")return vS(r,e);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const w2=new RegExp("[~\\*/\\[\\]]");function vS(r,e,n){if(e.search(w2)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jp(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Vh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(J.INVALID_ARGUMENT,m+r+g)}function ES(r,e){return r.some((n=>n.isEqual(e)))}class R2{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ms(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[wh].arrayValue?.values?.map((s=>xt(s.doubleValue)));return new yi(n)}convertGeoPoint(e){return new Fi(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Is(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);We(j0(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||xr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class TS extends R2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function C2(...r){return new Bp("arrayUnion",r)}const HE="@firebase/firestore",FE="4.10.0";class SS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ga("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x2 extends SS{data(){return super.data()}}function I2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class bS extends Hp{}function Xm(r,e,...n){let s=[];e instanceof Hp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Fp)).length,m=u.filter((g=>g instanceof af)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class af extends bS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return AS(e._query,n),new Sa(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=zp(e.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){KE(S,E);const Q=[];for(const $ of S)Q.push(GE(g,u,$));w={arrayValue:{values:Q}}}else w=GE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||KE(S,E),w=A2(m,f,S,E==="in"||E==="not-in");return Lt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $m(r,e,n){const s=e,o=ga("where",r);return af._create(o,s,n)}class Fp extends Hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)AS(f,g),f=Um(f,g)})(e._query,n),new Sa(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends bS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,f)})(e._query,this._field,this._direction);return new Sa(e.firestore,e.converter,$C(e._query,n))}}function D2(r,e="asc"){const n=e,s=ga("orderBy",r);return Gp._create(s,n)}function GE(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!ge.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return aE(r,new ge(s))}if(n instanceof jt)return aE(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function KE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function N2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends SS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ga("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ut("string",fa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class ph extends fa{data(e={}){return super.data(e)}}class bo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:O2(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:Ut("string",bo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function Wm(r){r=Ir(r,jt);const e=Ir(r.firestore,Fo),n=Up(e);return u2(n,r._key).then((s=>M2(e,r,s)))}function vo(r){r=Ir(r,Sa);const e=Ir(r.firestore,Fo),n=Up(e),s=new TS(e);return I2(r._query),c2(n,r._query).then((o=>new bo(e,s,r,o)))}function rh(r,e,n,...s){r=Ir(r,jt);const o=Ir(r.firestore,Fo),u=zp(o);let f;return f=typeof(e=Yt(e))=="string"||e instanceof jp?b2(u,"updateDoc",r._key,e,n,s):S2(u,"updateDoc",r._key,e),Kp(o,[f.toMutation(r._key,gi.exists(!0))])}function V2(r){return Kp(Ir(r.firestore,Fo),[new Tp(r._key,gi.none())])}function Jm(r,e){const n=Ir(r.firestore,Fo),s=_o(r),o=N2(r.converter,e),u=zp(r.firestore);return Kp(n,[E2(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,gi.exists(!1))]).then((()=>s))}function Kp(r,e){const n=Up(r);return h2(n,e)}function M2(r,e,n){const s=n.docs.get(e._key),o=new TS(r);return new fa(r,o,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){cC(Uo),Co(new da("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Fo(new dC(s.getProvider("auth-internal")),new gC(f,s.getProvider("app-check-internal")),VC(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),As(HE,FE,e),As(HE,FE,"esm2020")})();function wS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k2=wS,RS=new vu("auth","Firebase",wS());const Mh=new up("@firebase/auth");function P2(r,...e){Mh.logLevel<=ze.WARN&&Mh.warn(`Auth (${Uo}): ${r}`,...e)}function gh(r,...e){Mh.logLevel<=ze.ERROR&&Mh.error(`Auth (${Uo}): ${r}`,...e)}function vi(r,...e){throw Qp(r,...e)}function Gi(r,...e){return Qp(r,...e)}function CS(r,e,n){const s={...k2(),[e]:n};return new vu("auth","Firebase",s).create(e,{appName:r.name})}function wr(r){return CS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RS.create(r,...e)}function Ee(r,e,...n){if(!r)throw Qp(e,...n)}function Tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw gh(e),new Error(e)}function Nr(r,e){r||Tr(e)}function Zm(){return typeof self<"u"&&self.location?.href||""}function L2(){return QE()==="http:"||QE()==="https:"}function QE(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||Bw()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Uw()||qw()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(r,e){Nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const B2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new Ru(3e4,6e4);function Ps(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ls(r,e,n,s,o={}){return IS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Eu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return zw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(y.credentials="include"),xS.fetch()(await DS(r,r.config.apiHost,n,m),y)})}async function IS(r,e,n){r._canInitEmulator=!1;const s={...z2,...e};try{const o=new F2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw sh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw sh(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw CS(r,E,y);vi(r,E)}}catch(o){if(o instanceof Or)throw o;vi(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,n,s,o={}){const u=await Ls(r,e,n,s,o);return"mfaPendingCredential"in u&&vi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function DS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Yp(r.config,o):`${r.config.apiScheme}://${o}`;return B2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function H2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),q2.get())})}}function sh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gi(r,e,s);return o.customData._tokenResponse=n,o}function YE(r){return r!==void 0&&r.enterprise!==void 0}class G2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K2(r,e){return Ls(r,"GET","/v2/recaptchaConfig",Ps(r,e))}async function Q2(r,e){return Ls(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return Ls(r,"POST","/v1/accounts:lookup",e)}function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=Xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:su(bm(o.auth_time)),issuedAtTime:su(bm(o.iat)),expirationTime:su(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function Xp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function XE(r){const e=Xp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Or&&X2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function X2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ph(r){const e=r.auth,n=await r.getIdToken(),s=await mu(r,kh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?NS(o.providerUserInfo):[],f=J2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function W2(r){const e=Yt(r);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function NS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Z2(r,e){const n=await IS(r,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await DS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(g.credentials="include"),xS.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eD(r,e){return Ls(r,"POST","/v2/accounts:revokeToken",Ps(r,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=XE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Z2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function gs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y2(this,e)}reload(){return W2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await mu(this,Q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:j,providerData:Q,stsTokenManager:$}=n;Ee(S&&$,e,"internal-error");const k=Ao.fromJSON(this.name,$);Ee(typeof S=="string",e,"internal-error"),gs(s,e.name),gs(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof j=="boolean",e,"internal-error"),gs(u,e.name),gs(f,e.name),gs(m,e.name),gs(g,e.name),gs(y,e.name),gs(E,e.name);const ie=new pi({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:E});return Q&&Array.isArray(Q)&&(ie.providerData=Q.map(ne=>({...ne}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(s);const g=new pi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const $E=new Map;function Sr(r){Nr(r instanceof Function,"Expected a class definition");let e=$E.get(r);return e?(Nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$E.set(r,e),e)}class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OS.type="NONE";const WE=OS;function yh(r,e,n){return`firebase:${r}:${e}:${n}`}class wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new wo(Sr(WE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Sr(WE);const f=yh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await kh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await pi._fromGetAccountInfoResponse(e,w,E)}else S=pi._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new wo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new wo(u,e,s))}}function JE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(jS(e))return"Webos";if(MS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(LS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function VS(r=cn()){return/firefox\//i.test(r)}function MS(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(r=cn()){return/crios\//i.test(r)}function PS(r=cn()){return/iemobile/i.test(r)}function LS(r=cn()){return/android/i.test(r)}function US(r=cn()){return/blackberry/i.test(r)}function jS(r=cn()){return/webos/i.test(r)}function $p(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tD(r=cn()){return $p(r)&&!!window.navigator?.standalone}function nD(){return Hw()&&document.documentMode===10}function zS(r=cn()){return $p(r)||LS(r)||jS(r)||US(r)||/windows phone/i.test(r)||PS(r)}function BS(r,e=[]){let n;switch(r){case"Browser":n=JE(cn());break;case"Worker":n=`${JE(cn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rD(r,e={}){return Ls(r,"GET","/v2/passwordPolicy",Ps(r,e))}const sD=6;class aD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class oD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(wr(this));const n=e?Yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&P2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ba(r){return Yt(r)}class ZE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ww(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(r){of=r}function qS(r){return of.loadJS(r)}function uD(){return of.recaptchaEnterpriseScript}function cD(){return of.gapiScript}function hD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new dD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mD="recaptcha-enterprise",HS="NO_RECAPTCHA";class pD{constructor(e){this.type=mD,this.auth=ba(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{K2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new G2(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;YE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(HS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&YE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uD();g.length!==0&&(g+=m),qS(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function eT(r,e,n,s=!1,o=!1){const u=new pD(r);let f;if(o)f=HS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eT(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function gD(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Cs(u,e??{}))return o;vi(o,"already-initialized")}return n.initialize({options:e})}function yD(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _D(r,e,n){const s=ba(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FS(e),{host:f,port:m}=vD(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Cs(y,s.config.emulator)&&Cs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(LT(`${u}//${f}${g}`),UT("Auth",!0)):ED()}function FS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vD(r){const e=FS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:tT(f)}}}function tT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function TD(r,e){return Ls(r,"POST","/v1/accounts:signUp",e)}async function SD(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",Ps(r,e))}async function bD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Ps(r,e))}async function AD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Ps(r,e))}class pu extends Wp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signInWithPassword",SD);case"emailLink":return bD(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,s,"signUpPassword",TD);case"emailLink":return AD(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ro(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",Ps(r,e))}const wD="http://localhost";class ya extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ya(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}function RD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(r){const e=Yl(Xl(r)).link,n=e?Yl(Xl(e)).deep_link_id:null,s=Yl(Xl(r)).deep_link_id;return(s?Yl(Xl(s)).link:null)||s||n||e||r}class Jp{constructor(e){const n=Yl(Xl(e)),s=n.apiKey??null,o=n.oobCode??null,u=RD(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CD(e);try{return new Jp(n)}catch{return null}}}class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Jp.parseLink(n);return Ee(s,"argument-error"),pu._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class GS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xu extends GS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ys extends xu{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";class _s extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return _s.credential(n,s)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";class vs extends xu{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";class Es extends xu{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";async function xD(r,e){return Cu(r,"POST","/v1/accounts:signUp",Ps(r,e))}class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await pi._fromIdTokenResponse(e,s,o),f=nT(s);return new _a({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nT(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Lh extends Or{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function KS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(r,u,e,s):u})}async function ID(r,e,n=!1){const s=await mu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return _a._forOperation(r,"link",s)}async function DD(r,e,n=!1){const{auth:s}=r;if(ti(s.app))return Promise.reject(wr(s));const o="reauthenticate";try{const u=await mu(r,KS(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Xp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),_a._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vi(s,"user-mismatch"),u}}async function QS(r,e,n=!1){if(ti(r.app))return Promise.reject(wr(r));const s="signIn",o=await KS(r,s,e),u=await _a._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function ND(r,e){return QS(ba(r),e)}async function YS(r){const e=ba(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OD(r,e,n){if(ti(r.app))return Promise.reject(wr(r));const s=ba(r),f=await tp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&YS(r),g}),m=await _a._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function VD(r,e,n){return ti(r.app)?Promise.reject(wr(r)):ND(Yt(r),Ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YS(r),s})}function MD(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function kD(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}function PD(r,e,n,s){return Yt(r).onAuthStateChanged(e,n,s)}function LD(r){return Yt(r).signOut()}const Uh="__sak";class XS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UD=1e3,jD=10;class $S extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$S.type="LOCAL";const zD=$S;class WS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WS.type="SESSION";const JS=WS;function BD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await BD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];function Zp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class qD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Zp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ki(){return window}function HD(r){Ki().location.href=r}function ZS(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function FD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){return navigator?.serviceWorker?.controller||null}function KD(){return ZS()?self:null}const eb="firebaseLocalStorageDb",QD=1,jh="firebaseLocalStorage",tb="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function YD(){const r=indexedDB.deleteDatabase(eb);return new Iu(r).toPromise()}function np(){const r=indexedDB.open(eb,QD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jh,{keyPath:tb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await YD(),e(await np()))})})}async function iT(r,e,n){const s=uf(r,!0).put({[tb]:e,value:n});return new Iu(s).toPromise()}async function XD(r,e){const n=uf(r,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function rT(r,e){const n=uf(r,!0).delete(e);return new Iu(n).toPromise()}const $D=800,WD=3;class nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FD(),!this.activeServiceWorker)return;this.sender=new qD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await iT(e,Uh,"1"),await rT(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>XD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nb.type="LOCAL";const JD=nb;new Ru(3e4,6e4);function ZD(r,e){return e?Sr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(r){return QS(r.auth,new eg(r),r.bypassAuthState)}function tN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),DD(n,new eg(r),r.bypassAuthState)}async function nN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),ID(n,new eg(r),r.bypassAuthState)}class ib{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:vi(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iN=new Ru(2e3,1e4);class Eo extends ib{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}Eo.currentPopupAction=null;const rN="pendingRedirect",_h=new Map;class sN extends ib{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(r,e){const n=uN(e),s=lN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oN(r,e){_h.set(r._key(),e)}function lN(r){return Sr(r._redirectPersistence)}function uN(r){return yh(rN,r.config.apiKey,r.name)}async function cN(r,e,n=!1){if(ti(r.app))return Promise.reject(wr(r));const s=ba(r),o=ZD(s,e),f=await new sN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const hN=600*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function rb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function dN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rb(r);default:return!1}}async function mN(r,e={}){return Ls(r,"GET","/v1/projects",e)}const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mN(r);for(const n of e)try{if(_N(n))return}catch{}vi(r,"unauthorized-domain")}function _N(r){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gN.test(n))return!1;if(pN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const vN=new Ru(3e4,6e4);function aT(){const r=Ki().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EN(r){return new Promise((e,n)=>{function s(){aT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aT(),n(Gi(r,"network-request-failed"))},timeout:vN.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const o=hD("iframefcb");return Ki()[o]=()=>{gapi.load?s():n(Gi(r,"network-request-failed"))},qS(`${cD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw vh=null,e})}let vh=null;function TN(r){return vh=vh||EN(r),vh}const SN=new Ru(5e3,15e3),bN="__/auth/iframe",AN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Yp(e,AN):`https://${r.config.authDomain}/${bN}`,s={apiKey:e.apiKey,appName:r.name,v:Uo},o=RN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function xN(r){const e=await TN(r),n=Ki().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Gi(r,"network-request-failed"),m=Ki().setTimeout(()=>{u(f)},SN.get());function g(){Ki().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,NN=600,ON="_blank",VN="http://localhost";class oT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MN(r,e,n,s=DN,o=NN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...IN,width:s.toString(),height:o.toString(),top:u,left:f},y=cn().toLowerCase();n&&(m=kS(y)?ON:n),VS(y)&&(e=e||VN,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[j,Q])=>`${w}${j}=${Q},`,"");if(tD(y)&&m!=="_self")return kN(e||"",m),new oT(null);const S=window.open(e||"",m,E);Ee(S,r,"popup-blocked");try{S.focus()}catch{}return new oT(S)}function kN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const PN="__/auth/handler",LN="emulator/auth/handler",UN=encodeURIComponent("fac");async function lT(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(e instanceof GS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",$w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof xu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${UN}=${encodeURIComponent(g)}`:"";return`${jN(r)}?${Eu(m).slice(1)}${y}`}function jN({config:r}){return r.emulator?Yp(r,LN):`https://${r.authDomain}/${PN}`}const Am="webStorageSupport";class zN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,n,s,o){Nr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await lT(e,n,s,Zm(),o);return MN(e,u,Zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await lT(e,n,s,Zm(),o);return HD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xN(e),s=new fN(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{const u=o?.[0]?.[Am];u!==void 0&&n(!!u),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||MS()||$p()}}const BN=zN;var uT="@firebase/auth",cT="1.12.0";class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(r){Co(new da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(r)},y=new oD(s,o,u,g);return yD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Co(new da("auth-internal",e=>{const n=ba(e.getProvider("auth").getImmediate());return(s=>new qN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(uT,cT,HN(r)),As(uT,cT,"esm2020")}const GN=300,KN=PT("authIdTokenMaxAge")||GN;let hT=null;const QN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KN)return;const o=n?.token;hT!==o&&(hT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YN(r=qT()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gD(r,{popupRedirectResolver:BN,persistence:[JD,zD,JS]}),s=PT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=QN(u.toString());kD(n,f,()=>f(n.currentUser)),MD(n,m=>f(m))}}const o=MT("auth");return o&&_D(n,`http://${o}`),n}function XN(){return document.getElementsByTagName("head")?.[0]??document}lD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",XN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");const $N={apiKey:"AIzaSyBDWQVihQ8IwPaUvSIFOK4xhpuD8N5xkGo",authDomain:"examen-react-2026.firebaseapp.com",projectId:"examen-react-2026",storageBucket:"examen-react-2026.firebasestorage.app",messagingSenderId:"1034837524422",appId:"1:1034837524422:web:30cebed3f5e241fc77fcc7"},sb=BT($N),Sn=p2(sb),ah=YN(sb),WN="/examen-app/assets/LOGOS-CUHiAHn0.png";function ab({asignatura:r,unidad:e,tema:n,opcion:s,alumnoNombre:o,numControl:u,unidadAcademica:f,calificacion:m,fecha:g,docenteNombre:y}){const E="Ingeniera en Sistemas Computacionales",S=g?new Date(g).toLocaleDateString("es-MX"):"___/___/___",w=s==="diagnostico"?"X":"_",j=s==="1ra"?"X":"_",Q=s==="2da"?"X":"_";return A.jsxs("div",{style:{width:"100%",fontFamily:"Arial, sans-serif",fontSize:"10pt",marginBottom:"20px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",paddingBottom:"5px"},children:[A.jsx("img",{src:WN,alt:"Logo ITSZ",style:{height:"60px",marginRight:"15px",objectFit:"contain"}}),A.jsxs("div",{style:{textAlign:"center",flexGrow:1},children:[A.jsx("h3",{style:{margin:0,textTransform:"uppercase",fontSize:"14pt"},children:"Instituto Tecnolgico Superior de Zongolica"}),f&&A.jsxs("p",{style:{margin:0,fontSize:"10pt"},children:["Unidad Acadmica: ",A.jsx("strong",{children:f})]})]})]}),A.jsx("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid black"},children:A.jsxs("tbody",{children:[A.jsx("tr",{children:A.jsxs("td",{colSpan:"4",style:{border:"1px solid black",padding:"4px",backgroundColor:"#f0f0f0"},children:[A.jsx("strong",{children:"Asignatura:"})," ",r||"_________________________"]})}),A.jsx("tr",{children:A.jsxs("td",{colSpan:"4",style:{border:"1px solid black",padding:"4px",textAlign:"center"},children:[A.jsx("strong",{children:"Opcin:"}),"  Diagnstico ( ",A.jsx("strong",{children:w})," )  1 oportunidad ( ",A.jsx("strong",{children:j})," )  2 oportunidad ( ",A.jsx("strong",{children:Q})," )"]})}),A.jsxs("tr",{children:[A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px",width:"50%"},children:[A.jsx("strong",{children:"Unidad:"})," ",e||"___________"]}),A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px",width:"50%"},children:[A.jsx("strong",{children:"Tema:"})," ",n||"_______________________"]})]}),A.jsxs("tr",{children:[A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px"},children:[A.jsx("strong",{children:"Ingeniera:"})," ",E]}),A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px"},children:[A.jsx("strong",{children:"Docente:"})," ",y||"_______________________"]})]}),A.jsxs("tr",{style:{textAlign:"center",backgroundColor:"#e0e0e0",fontSize:"9pt"},children:[A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"40%"},children:A.jsx("strong",{children:"Nombre del Alumno(a):"})}),A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"20%"},children:A.jsx("strong",{children:"No. De Control"})}),A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"20%"},children:A.jsx("strong",{children:"Fecha de aplicacin:"})}),A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"20%"},children:A.jsx("strong",{children:"Calificacin:"})})]}),A.jsxs("tr",{style:{textAlign:"center",height:"35px"},children:[A.jsx("td",{style:{border:"1px solid black",padding:"5px",textAlign:"left"},children:o||""}),A.jsx("td",{style:{border:"1px solid black",padding:"5px"},children:u||""}),A.jsx("td",{style:{border:"1px solid black",padding:"5px"},children:S}),A.jsx("td",{style:{border:"1px solid black",padding:"5px",fontWeight:"bold",fontSize:"12pt"},children:m!=null?Number(m).toFixed(1):""})]})]})})]})}const JN=["Zongolica","Tequila","Nogales","Acultzinapa","Cuichapa","Tezonapa","Tehuipango"],ZN={claro:{bg:"#ffffff",text:"#333333",card:"#f8f9fa",border:"#ddd",inputBg:"#fff"},oscuro:{bg:"#121212",text:"#e0e0e0",card:"#1e1e1e",border:"#444",inputBg:"#2d2d2d"},calido:{bg:"#f5e6d3",text:"#4a3b2a",card:"#e8dcc5",border:"#d1c7b7",inputBg:"#fff8f0"}};function eO(){const{id:r}=D1(),[e,n]=U.useState(()=>localStorage.getItem("temaApp")||"claro"),s=ZN[e];U.useEffect(()=>localStorage.setItem("temaApp",e),[e]);const[o,u]=U.useState("registro"),[f,m]=U.useState(""),[g,y]=U.useState(""),[E,S]=U.useState(""),[w,j]=U.useState(null),[Q,$]=U.useState([]),[k,ie]=U.useState(0),[ne,se]=U.useState({}),[Ae,xe]=U.useState(0),[Se,x]=U.useState(""),C=/^\d{3}[Ww]\d{4}$/;U.useEffect(()=>{(async()=>{try{const Ie=await Wm(_o(Sn,"examenes",r));Ie.exists()&&j(Ie.data())}catch(Ie){console.error(Ie)}})()},[r]);const I=R=>{y(R.toUpperCase()),x(C.test(R)?"":"Formato invlido (Ej: 123W1041)")},M=async()=>{if(!f||!g||!E||Se)return alert("Revisa datos");u("cargando");try{const R=Xm(Er(Sn,"resultados"),$m("examenId","==",r),$m("numControl","==",g.toUpperCase())),ke=(await vo(R)).size,Y=w.intentosMaximos||1;if(ke>=Y){u("bloqueado"),ie(ke);return}const de=[...w.preguntas||[]].sort(()=>.5-Math.random()),Me=w.limite&&w.limite>0?w.limite:de.length;$(de.slice(0,Me)),u("examen")}catch(R){console.error(R),u("registro")}},N=async()=>{let R=0;Q.forEach(ke=>{ne[ke.texto]===ke.correcta&&R++});const Ie=Q.length>0?R/Q.length*10:0;xe(Ie);try{await Jm(Er(Sn,"resultados"),{examenId:r,examenTitulo:w.titulo,nombre:f,numControl:g,unidad:E,calificacion:Ie,fecha:new Date().toISOString()}),u("finalizado")}catch(ke){console.error(ke)}};if(!w)return A.jsx("div",{style:{padding:"20px"},children:"Cargando..."});if(o==="finalizado")return A.jsxs("div",{style:{minHeight:"100vh",background:s.bg,color:s.text},children:[A.jsxs("div",{className:"no-print",style:{textAlign:"center",padding:"50px"},children:[A.jsx("h1",{children:"Examen Enviado!"}),A.jsx("div",{style:{fontSize:"4rem",color:s.accent},children:Ae.toFixed(1)}),A.jsx("p",{children:"Calificacin Final"}),w.permitirImpresion?A.jsx("button",{onClick:()=>window.print(),style:{padding:"15px 30px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",fontSize:"1.2em",cursor:"pointer",marginTop:"20px"},children:" Descargar/Imprimir PDF"}):A.jsx("p",{style:{fontStyle:"italic",color:"#888"},children:"La impresin de resultados est desactivada."}),A.jsx("br",{}),A.jsx("br",{}),A.jsx(ha,{to:"/",style:{color:s.text},children:"Volver al Inicio"})]}),A.jsxs("div",{className:"hoja-examen",children:[A.jsx(ab,{asignatura:w.titulo,unidad:w.unidad,tema:w.tema,opcion:w.opcion,alumnoNombre:f,numControl:g,unidadAcademica:E,calificacion:Ae,fecha:new Date().toISOString()}),A.jsx("h3",{children:"Detalle de Resultados:"}),A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"10pt",marginTop:"10px"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:"#eee"},children:[A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"#"}),A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"Pregunta"}),A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"Tu Respuesta"}),A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"Correcta"})]})}),A.jsx("tbody",{children:Q.map((R,Ie)=>{const ke=ne[R.texto]===R.correcta;return A.jsxs("tr",{children:[A.jsx("td",{style:{padding:"5px",border:"1px solid black"},children:Ie+1}),A.jsx("td",{style:{padding:"5px",border:"1px solid black"},children:R.texto}),A.jsx("td",{style:{padding:"5px",border:"1px solid black",color:ke?"black":"red",fontWeight:ke?"normal":"bold"},children:ne[R.texto]||"(Sin responder)"}),A.jsx("td",{style:{padding:"5px",border:"1px solid black"},children:R.correcta})]},Ie)})})]}),A.jsx("div",{style:{marginTop:"60px",textAlign:"center",width:"100%"},children:A.jsx("div",{style:{borderTop:"1px solid black",width:"250px",margin:"0 auto",paddingTop:"5px"},children:"Firma del Alumno"})})]})]});if(o==="bloqueado")return A.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"red"},children:[A.jsx("h2",{children:"Acceso Denegado"}),A.jsx("p",{children:"Intentos agotados."}),A.jsx(ha,{to:"/",children:"Volver"})]});const P={width:"100%",padding:"10px",marginBottom:"15px",borderRadius:"4px",border:`1px solid ${s.border}`,background:s.inputBg,color:s.text};return o==="examen"?A.jsxs("div",{className:"no-print",style:{background:s.bg,color:s.text,minHeight:"100vh",padding:"20px"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",maxWidth:"800px",margin:"0 auto"},children:[A.jsx("h2",{children:w.titulo}),A.jsx("span",{children:g})]}),A.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[Q.map((R,Ie)=>A.jsxs("div",{style:{marginBottom:"15px",padding:"15px",background:s.card,border:`1px solid ${s.border}`,borderRadius:"8px"},children:[A.jsx("p",{children:A.jsxs("strong",{children:[Ie+1,". ",R.texto]})}),R.opciones.map((ke,Y)=>A.jsxs("label",{style:{display:"block",padding:"8px",cursor:"pointer",background:ne[R.texto]===ke?e==="oscuro"?"#333":"#e7f1ff":"transparent"},children:[A.jsx("input",{type:"radio",name:R.texto,onChange:()=>se({...ne,[R.texto]:ke}),style:{marginRight:"10px"}})," ",ke]},Y))]},Ie)),A.jsx("button",{onClick:N,style:{width:"100%",padding:"15px",background:"#28a745",color:"white",border:"none",fontSize:"1.1em",borderRadius:"5px",cursor:"pointer"},children:"Finalizar y Enviar"})]})]}):A.jsx("div",{className:"no-print",style:{padding:"40px",background:s.bg,color:s.text,minHeight:"100vh",display:"flex",justifyContent:"center"},children:A.jsxs("div",{style:{width:"100%",maxWidth:"500px"},children:[A.jsx("h1",{style:{textAlign:"center"},children:w.titulo}),A.jsxs("div",{style:{background:s.card,padding:"25px",border:`1px solid ${s.border}`,borderRadius:"10px"},children:[A.jsx("label",{children:"Nombre:"}),A.jsx("input",{value:f,onChange:R=>m(R.target.value),style:P}),A.jsx("label",{children:"No. Control:"}),A.jsx("input",{value:g,maxLength:8,placeholder:"Ej: 123W1041",onChange:R=>I(R.target.value),style:{...P,border:Se?"2px solid red":P.border}}),Se&&A.jsx("small",{style:{color:"red",display:"block",marginTop:"-10px",marginBottom:"10px"},children:Se}),A.jsx("label",{children:"Unidad Acadmica:"}),A.jsxs("select",{value:E,onChange:R=>S(R.target.value),style:P,children:[A.jsx("option",{value:"",children:"-- Selecciona --"}),JN.map(R=>A.jsx("option",{value:R,children:R},R))]}),A.jsx("button",{onClick:M,disabled:!f||!E||!!Se||o==="cargando",style:{width:"100%",padding:"12px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"10px"},children:o==="cargando"?"Verificando...":"Comenzar"})]}),A.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:A.jsx(ha,{to:"/",style:{color:s.text},children:"Cancelar"})})]})})}const tO={claro:{bg:"#ffffff",text:"#333333",card:"#f9f9f9",border:"#dddddd",accent:"#007bff",inputBg:"#fff"},oscuro:{bg:"#1e1e1e",text:"#e0e0e0",card:"#2d2d2d",border:"#444444",accent:"#4dabf7",inputBg:"#333"},calido:{bg:"#f5e6d3",text:"#4a3b2a",card:"#e8dcc5",border:"#d1c7b7",accent:"#a67c52",inputBg:"#fff8f0"}},nO=["Zongolica","Tequila","Nogales","Acultzinapa","Cuichapa","Tezonapa","Tehuipango"];function iO(){const[r,e]=U.useState(!1),[n,s]=U.useState(null),[o,u]=U.useState(""),[f,m]=U.useState(""),[g,y]=U.useState(""),[E,S]=U.useState(!1),[w,j]=U.useState(()=>localStorage.getItem("temaApp")||"claro"),[Q,$]=U.useState("examenes"),k=tO[w],[ie,ne]=U.useState([]),[se,Ae]=U.useState([]),[xe,Se]=U.useState([]),[x,C]=U.useState(null),[I,M]=U.useState(!1),[N,P]=U.useState(""),[R,Ie]=U.useState(""),[ke,Y]=U.useState(""),[ae,de]=U.useState(""),[Me,Ye]=U.useState("1ra"),[V,Z]=U.useState(1),[oe,ue]=U.useState(""),[ve,we]=U.useState(""),[ye,bt]=U.useState(""),[st,Ei]=U.useState(0),[$i,Wi]=U.useState(1),[Ji,wn]=U.useState(!1),[lt,sn]=U.useState({texto:"",op1:"",op2:"",op3:"",op4:"",correcta:"op1"}),[jn,Vr]=U.useState(!1),[gt,Et]=U.useState(null),[dn,Mr]=U.useState(1),[Ti,Xt]=U.useState(5),[At,Si]=U.useState({examenId:"",numControl:"",unidad:"",fechaInicio:"",fechaFin:"",estado:""}),[bi,ri]=U.useState(null);U.useEffect(()=>localStorage.setItem("temaApp",w),[w]),U.useEffect(()=>{const q=PD(ah,me=>{me?(s(me),Zi(),kr(me.email)):(s(null),ne([]),C(null))});return()=>q()},[]);const Zi=async()=>{const q=await vo(Er(Sn,"examenes"));ne(q.docs.map(me=>({id:me.id,...me.data()})))},kr=async q=>{try{const Oe=(await vo(Er(Sn,"docentes"))).docs.map(Bt=>({id:Bt.id,...Bt.data()}));Se(Oe);const dt=Oe.find(Bt=>Bt.email===q);dt&&C(dt)}catch(me){console.error(me)}},Aa=async()=>{M(!0);try{const q=Xm(Er(Sn,"resultados"),D2("fecha","desc")),me=await vo(q);Ae(me.docs.map(Oe=>({id:Oe.id,...Oe.data()})))}catch(q){console.error(q)}finally{M(!1)}},wa=async q=>{q.preventDefault(),y("");try{if(E){const me=Xm(Er(Sn,"docentes"),$m("email","==",o));if((await vo(me)).empty){y(" Este correo no est autorizado. Pide al administrador que te agregue primero.");return}await OD(ah,o,f)}else await VD(ah,o,f)}catch(me){console.error(me),me.code==="auth/email-already-in-use"?y("Este correo ya est registrado. Inicia sesin."):me.code==="auth/weak-password"?y("La contrasea debe tener al menos 6 caracteres."):me.code==="auth/invalid-credential"?y("Correo o contrasea incorrectos."):y("Error: "+me.message)}},Rn=()=>{LD(ah),$("examenes")};U.useEffect(()=>{if(ye){const q=ie.find(me=>me.id===ye);q&&(Ei(q.limite||q.preguntas?.length||0),Wi(q.intentosMaximos||1),wn(q.permitirImpresion||!1),Mr(1),Pr())}},[ye,ie]);const zt=async()=>{if(!N||!R)return alert("Debes poner Nombre del Examen y Asignatura.");const q=x?x.nombre:"Sin Asignar";try{await Jm(Er(Sn,"examenes"),{nombreExamen:N,asignatura:R,titulo:`${N} - ${R}`,unidad:ke,tema:ae,opcion:Me,preguntas:[],limite:0,intentosMaximos:parseInt(V),permitirImpresion:!1,docenteNombre:q,docenteEmail:n.email}),P(""),Ie(""),Y(""),de(""),Zi(),alert("Examen creado exitosamente.")}catch(me){console.error(me)}},mn=async()=>{if(!oe||!ve)return alert("Faltan datos");try{await Jm(Er(Sn,"docentes"),{nombre:oe,email:ve,fechaRegistro:new Date().toISOString()}),alert("Docente agregado"),ue(""),we(""),kr(n.email)}catch{alert("Error")}},yt=async q=>{if(confirm("Eliminar?"))try{await V2(_o(Sn,"docentes",q)),kr(n.email)}catch{alert("Error")}},Pr=()=>{sn({texto:"",op1:"",op2:"",op3:"",op4:"",correcta:"op1"}),Vr(!1),Et(null)},Lr=async q=>{if(q.preventDefault(),!ye)return;const me={texto:lt.texto,opciones:[lt.op1,lt.op2,lt.op3,lt.op4],correcta:lt[lt.correcta]};try{const Oe=_o(Sn,"examenes",ye);if(jn&&gt!==null){const qn=[...(await Wm(Oe)).data().preguntas];qn[gt]=me,await rh(Oe,{preguntas:qn}),alert("Actualizada")}else await rh(Oe,{preguntas:C2(me)}),alert("Agregada");Pr(),Zi()}catch{alert("Error")}},Ra=(q,me)=>{let Oe="op1";q.correcta===q.opciones[1]&&(Oe="op2"),q.correcta===q.opciones[2]&&(Oe="op3"),q.correcta===q.opciones[3]&&(Oe="op4"),sn({texto:q.texto,op1:q.opciones[0],op2:q.opciones[1],op3:q.opciones[2],op4:q.opciones[3],correcta:Oe}),Vr(!0),Et(me),window.scrollTo(0,0)},zn=async q=>{if(!confirm("Eliminar?"))return;const me=_o(Sn,"examenes",ye),dt=(await Wm(me)).data().preguntas.filter((Bt,qn)=>qn!==q);await rh(me,{preguntas:dt}),Zi()},er=async()=>{ye&&(await rh(_o(Sn,"examenes",ye),{limite:parseInt(st),intentosMaximos:parseInt($i),permitirImpresion:Ji}),alert("Guardado"),Zi())},ut=U.useMemo(()=>se.filter(q=>!(At.examenId&&q.examenId!==At.examenId||At.numControl&&!q.numControl.includes(At.numControl.toUpperCase())||At.unidad&&q.unidad!==At.unidad)),[se,At]),Bn=()=>{if(ut.length===0)return alert("Sin datos");let q=`data:text/csv;charset=utf-8,Control,Nombre,Unidad,Examen,Calificacion,Fecha
`;ut.forEach(Oe=>{const dt=Bt=>Bt?`"${Bt.toString().replace(/"/g,'""')}"`:"";q+=[dt(Oe.numControl),dt(Oe.nombre),dt(Oe.unidad),dt(Oe.examenTitulo),Oe.calificacion.toFixed(2),new Date(Oe.fecha).toLocaleDateString()].join(",")+`
`});const me=document.createElement("a");me.href=encodeURI(q),me.download="Reporte.csv",document.body.appendChild(me),me.click(),document.body.removeChild(me)},Cn=q=>{ri(q),setTimeout(()=>{window.print()},500)},xn=()=>{const q=ie.find(Oe=>Oe.id===ye);if(!q||!q.preguntas)return[];const me=dn*Ti;return q.preguntas.slice(me-Ti,me)},Us=()=>ie.find(me=>me.id===ye)?.preguntas?.length||0,Ur=Math.ceil(Us()/Ti),Ge={padding:"10px",borderRadius:"5px",border:`1px solid ${k.border}`,background:k.inputBg,color:k.text};if(!n)return A.jsx("div",{style:{width:"100%",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:k.bg,color:k.text,padding:"20px"},children:A.jsxs("div",{style:{padding:"40px",background:k.card,borderRadius:"15px",border:`1px solid ${k.border}`,maxWidth:"400px",width:"100%",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[A.jsx("h2",{style:{textAlign:"center",marginBottom:"10px"},children:"Acceso ITSZ"}),A.jsx("p",{style:{textAlign:"center",fontSize:"0.9em",color:"#666",marginBottom:"25px"},children:"Panel Docente"}),A.jsxs("div",{style:{display:"flex",marginBottom:"20px",borderBottom:`1px solid ${k.border}`},children:[A.jsx("button",{onClick:()=>{S(!1),y("")},style:{flex:1,padding:"10px",background:E?"transparent":k.inputBg,border:"none",cursor:"pointer",fontWeight:E?"normal":"bold",borderBottom:E?"none":`2px solid ${k.accent}`,color:k.text},children:"Iniciar Sesin"}),A.jsx("button",{onClick:()=>{S(!0),y("")},style:{flex:1,padding:"10px",background:E?k.inputBg:"transparent",border:"none",cursor:"pointer",fontWeight:E?"bold":"normal",borderBottom:E?`2px solid ${k.accent}`:"none",color:k.text},children:"Registrarse"})]}),A.jsxs("form",{onSubmit:wa,children:[A.jsx("label",{style:{fontSize:"0.8em",display:"block",marginBottom:"5px"},children:"Correo Institucional:"}),A.jsx("input",{type:"email",placeholder:"ejemplo@itsz.edu.mx",value:o,onChange:q=>u(q.target.value),style:{...Ge,marginBottom:"15px",width:"100%"},required:!0}),A.jsx("label",{style:{fontSize:"0.8em",display:"block",marginBottom:"5px"},children:E?"Crea una contrasea:":"Contrasea:"}),A.jsx("input",{type:"password",placeholder:"******",value:f,onChange:q=>m(q.target.value),style:{...Ge,marginBottom:"20px",width:"100%"},required:!0}),g&&A.jsx("div",{style:{background:"#ffe6e6",color:"#d63031",padding:"10px",borderRadius:"5px",fontSize:"0.85em",textAlign:"center",marginBottom:"15px",border:"1px solid #fab1a0"},children:g}),A.jsx("button",{type:"submit",style:{width:"100%",padding:"12px",background:k.accent,color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",fontSize:"1rem"},children:E?"Crear Cuenta":"Entrar al Panel"})]}),E&&A.jsx("p",{style:{fontSize:"0.8em",color:"#666",marginTop:"15px",textAlign:"center"},children:"Nota: Solo podrs registrarte si tu correo ya fue autorizado por un administrador."})]})});if(bi&&ye){const q=ie.find(me=>me.id===ye);return A.jsxs("div",{className:"hoja-examen",children:[A.jsx("div",{className:"no-print",style:{position:"fixed",top:10,right:10,background:"white",padding:"10px",border:"1px solid black",zIndex:9999},children:A.jsx("button",{onClick:()=>ri(null),children:" Cerrar"})}),A.jsx(ab,{asignatura:q.asignatura||q.titulo,unidad:q.unidad,tema:q.tema,opcion:q.opcion,docenteNombre:q.docenteNombre}),A.jsx("h3",{style:{textAlign:"center",marginTop:"20px"},children:bi==="respuestas"?"CLAVE DE RESPUESTAS":"CUESTIONARIO"}),q.preguntas&&q.preguntas.map((me,Oe)=>A.jsxs("div",{style:{marginBottom:"10px",padding:"5px",breakInside:"avoid"},children:[A.jsxs("p",{style:{fontWeight:"bold"},children:[Oe+1,". ",me.texto]}),bi==="vacio"&&A.jsx("div",{style:{marginLeft:"20px"},children:me.opciones.map((dt,Bt)=>A.jsxs("div",{children:[" ",dt]},Bt))}),bi==="respuestas"&&A.jsxs("div",{style:{marginLeft:"20px"},children:[" ",me.correcta]})]},Oe)),A.jsx("div",{style:{marginTop:"50px",textAlign:"center"},children:A.jsx("div",{style:{borderTop:"1px solid black",width:"250px",margin:"0 auto"},children:"Firma del Docente"})})]})}return A.jsxs("div",{className:"no-print",style:{width:"100%",minHeight:"100vh",backgroundColor:k.bg,color:k.text,padding:"20px",boxSizing:"border-box"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"10px"},children:[A.jsxs("div",{children:[A.jsx("h1",{style:{margin:0,fontSize:"1.5rem"},children:"Panel Admin ITSZ"}),x&&A.jsxs("span",{style:{fontSize:"0.9em",color:k.accent},children:["Hola, ",x.nombre]})]}),A.jsxs("div",{style:{display:"flex",gap:"8px"},children:[A.jsx("button",{onClick:()=>j("claro"),children:""}),A.jsx("button",{onClick:()=>j("oscuro"),children:""}),A.jsx("button",{onClick:Rn,style:{background:"#dc3545",color:"white",border:"none",borderRadius:"4px",padding:"5px 15px"},children:"Salir"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:`1px solid ${k.border}`,paddingBottom:"10px"},children:[A.jsx("button",{onClick:()=>$("examenes"),style:{padding:"10px 20px",background:Q==="examenes"?k.accent:k.card,color:Q==="examenes"?"white":k.text,border:"none",borderRadius:"5px",cursor:"pointer"},children:" Exmenes"}),A.jsx("button",{onClick:()=>{$("resultados"),Aa()},style:{padding:"10px 20px",background:Q==="resultados"?k.accent:k.card,color:Q==="resultados"?"white":k.text,border:"none",borderRadius:"5px",cursor:"pointer"},children:" Resultados"}),A.jsx("button",{onClick:()=>$("docentes"),style:{padding:"10px 20px",background:Q==="docentes"?k.accent:k.card,color:Q==="docentes"?"white":k.text,border:"none",borderRadius:"5px",cursor:"pointer"},children:" Docentes"})]}),Q==="docentes"&&A.jsxs("div",{className:"fade-in",style:{background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`},children:[A.jsx("h3",{children:"Directorio de Docentes"}),A.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"end",marginBottom:"20px"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{display:"block",fontSize:"0.8em"},children:"Nombre:"}),A.jsx("input",{value:oe,onChange:q=>ue(q.target.value),placeholder:"Grado y Nombre",style:{...Ge,width:"100%"}})]}),A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{display:"block",fontSize:"0.8em"},children:"Correo:"}),A.jsx("input",{value:ve,onChange:q=>we(q.target.value),placeholder:"email@login",style:{...Ge,width:"100%"}})]}),A.jsx("button",{onClick:mn,style:{background:"#28a745",color:"white",border:"none",padding:"12px 20px",borderRadius:"5px",cursor:"pointer"},children:"Guardar"})]}),A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:k.accent,color:"white"},children:[A.jsx("th",{style:{padding:"8px"},children:"Nombre"}),A.jsx("th",{style:{padding:"8px"},children:"Correo"}),A.jsx("th",{style:{padding:"8px"},children:"Accin"})]})}),A.jsx("tbody",{children:xe.map(q=>A.jsxs("tr",{style:{borderBottom:`1px solid ${k.border}`},children:[A.jsx("td",{style:{padding:"8px"},children:q.nombre}),A.jsx("td",{style:{padding:"8px"},children:q.email}),A.jsx("td",{style:{padding:"8px"},children:A.jsx("button",{onClick:()=>yt(q.id),children:""})})]},q.id))})]})]}),Q==="examenes"&&A.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",alignItems:"flex-start"},children:[A.jsxs("div",{style:{flex:"1 1 350px",background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`,minWidth:"300px"},children:[A.jsx("h3",{style:{marginTop:0},children:"1. Crear Examen"}),!x&&A.jsx("p",{style:{color:"red",fontSize:"0.8em"},children:' Configura tu perfil en "Docentes" primero.'}),A.jsx("label",{style:{fontSize:"0.9em",fontWeight:"bold"},children:"Nombre del Examen (Identificador):"}),A.jsx("input",{value:N,onChange:q=>P(q.target.value),placeholder:"Ej: Diagnstico Unidad 1",style:{...Ge,width:"100%",marginBottom:"10px"}}),A.jsx("label",{style:{fontSize:"0.9em",fontWeight:"bold"},children:"Asignatura (Para PDF):"}),A.jsx("input",{value:R,onChange:q=>Ie(q.target.value),placeholder:"Ej: Ingeniera de Software",style:{...Ge,width:"100%",marginBottom:"10px"}}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"10px"},children:[A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Unidad:"}),A.jsx("input",{value:ke,onChange:q=>Y(q.target.value),style:{...Ge,width:"100%"}})]}),A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Tema:"}),A.jsx("input",{value:ae,onChange:q=>de(q.target.value),style:{...Ge,width:"100%"}})]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[A.jsxs("div",{style:{flexGrow:1},children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Opcin:"}),A.jsxs("select",{value:Me,onChange:q=>Ye(q.target.value),style:{...Ge,width:"100%"},children:[A.jsx("option",{value:"diagnostico",children:"Diagnstico"}),A.jsx("option",{value:"1ra",children:"1 Op"}),A.jsx("option",{value:"2da",children:"2 Op"})]})]}),A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Intentos:"}),A.jsx("input",{type:"number",value:V,onChange:q=>Z(q.target.value),style:{...Ge,width:"60px"},min:"1"})]})]}),A.jsx("button",{onClick:zt,style:{width:"100%",background:k.accent,color:"white",border:"none",padding:"12px",borderRadius:"5px",cursor:"pointer"},children:"Crear Examen"}),A.jsx("hr",{style:{margin:"25px 0",borderColor:k.border}}),A.jsx("h3",{style:{marginTop:0},children:"2. Gestionar"}),A.jsxs("select",{value:ye,onChange:q=>bt(q.target.value),style:{...Ge,width:"100%",marginBottom:"15px"},children:[A.jsx("option",{value:"",children:"-- Selecciona Examen --"}),ie.map(q=>A.jsx("option",{value:q.id,children:q.nombreExamen?`${q.nombreExamen} - ${q.asignatura}`:q.titulo},q.id))]}),ye&&A.jsxs("div",{className:"fade-in",children:[A.jsxs("div",{style:{marginBottom:"15px",background:w==="oscuro"?"#333":"#e9ecef",padding:"10px",borderRadius:"5px"},children:[A.jsx("label",{style:{display:"block",fontWeight:"bold",fontSize:"0.9em"},children:"Preguntas Aleatorias:"}),A.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[A.jsx("input",{type:"number",value:st,onChange:q=>Ei(q.target.value),style:{...Ge,width:"80px",borderColor:k.accent}}),A.jsx("span",{style:{fontSize:"0.8em",opacity:.8},children:"(0 = Todas)"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"15px",alignItems:"center"},children:[A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Intentos:"}),A.jsx("input",{type:"number",value:$i,onChange:q=>Wi(q.target.value),style:{...Ge,width:"70px"}})]}),A.jsxs("label",{style:{fontSize:"0.9em",cursor:"pointer"},children:[A.jsx("input",{type:"checkbox",checked:Ji,onChange:q=>wn(q.target.checked)})," Permitir PDF"]})]}),A.jsx("button",{onClick:er,style:{width:"100%",marginBottom:"10px",background:"#28a745",color:"white",border:"none",padding:"10px",borderRadius:"5px",cursor:"pointer"},children:" Guardar Config"}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[A.jsx("button",{onClick:()=>Cn("vacio"),style:{flex:1,padding:"8px",cursor:"pointer"},children:" Vaco"}),A.jsx("button",{onClick:()=>Cn("respuestas"),style:{flex:1,padding:"8px",cursor:"pointer"},children:" Clave"})]})]})]}),A.jsxs("div",{style:{flex:"2 1 500px",display:"flex",flexDirection:"column",gap:"20px",minWidth:"300px"},children:[A.jsxs("div",{style:{background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`},children:[A.jsx("h3",{style:{marginTop:0},children:jn?" Editar Pregunta":" Agregar Pregunta Manual"}),ye?A.jsxs("form",{onSubmit:Lr,children:[A.jsx("textarea",{placeholder:"Enunciado de la pregunta...",value:lt.texto,onChange:q=>sn({...lt,texto:q.target.value}),style:{...Ge,width:"100%",marginBottom:"10px",resize:"vertical",minHeight:"70px"},required:!0}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[A.jsx("input",{placeholder:"Opcin 1",value:lt.op1,onChange:q=>sn({...lt,op1:q.target.value}),style:Ge,required:!0}),A.jsx("input",{placeholder:"Opcin 2",value:lt.op2,onChange:q=>sn({...lt,op2:q.target.value}),style:Ge,required:!0}),A.jsx("input",{placeholder:"Opcin 3",value:lt.op3,onChange:q=>sn({...lt,op3:q.target.value}),style:Ge,required:!0}),A.jsx("input",{placeholder:"Opcin 4",value:lt.op4,onChange:q=>sn({...lt,op4:q.target.value}),style:Ge,required:!0})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"15px",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[A.jsxs("label",{children:["Respuesta Correcta: ",A.jsxs("select",{value:lt.correcta,onChange:q=>sn({...lt,correcta:q.target.value}),style:{...Ge,marginLeft:"5px",width:"120px"},children:[A.jsx("option",{value:"op1",children:"Opcin 1"}),A.jsx("option",{value:"op2",children:"Opcin 2"}),A.jsx("option",{value:"op3",children:"Opcin 3"}),A.jsx("option",{value:"op4",children:"Opcin 4"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jn&&A.jsx("button",{type:"button",onClick:Pr,style:{padding:"10px 15px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Cancelar"}),A.jsx("button",{type:"submit",style:{padding:"10px 25px",background:jn?"#ffc107":k.accent,color:jn?"black":"white",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:jn?"Actualizar":"Agregar"})]})]})]}):A.jsx("p",{style:{color:"#666"},children:" Selecciona un examen primero."})]}),ye&&A.jsxs("div",{style:{background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:`1px solid ${k.border}`,paddingBottom:"10px"},children:[A.jsxs("h4",{style:{margin:0},children:["Banco de Preguntas (",Us(),")"]}),A.jsxs("select",{value:Ti,onChange:q=>{Xt(parseInt(q.target.value)),Mr(1)},style:{padding:"5px",fontSize:"0.9em"},children:[A.jsx("option",{value:"5",children:"Ver 5"}),A.jsx("option",{value:"10",children:"Ver 10"}),A.jsx("option",{value:"20",children:"Ver 20"})]})]}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:xn().map((q,me)=>{const Oe=(dn-1)*Ti+me;return A.jsxs("div",{style:{background:k.inputBg,border:`1px solid ${k.border}`,borderRadius:"5px",padding:"10px",position:"relative"},children:[A.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",display:"flex",gap:"5px"},children:[A.jsx("button",{onClick:()=>Ra(q,Oe),title:"Editar",style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2em"},children:""}),A.jsx("button",{onClick:()=>zn(Oe),title:"Eliminar",style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2em"},children:""})]}),A.jsxs("p",{style:{fontWeight:"bold",margin:"0 0 10px 0",paddingRight:"70px"},children:["#",Oe+1,". ",q.texto]}),A.jsx("div",{style:{fontSize:"0.9em",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"5px"},children:q.opciones.map((dt,Bt)=>A.jsxs("div",{style:{padding:"5px 10px",borderRadius:"3px",background:dt===q.correcta?w==="oscuro"?"#1e4620":"#d4edda":"transparent",border:dt===q.correcta?"1px solid #c3e6cb":`1px solid ${k.border}`,color:dt===q.correcta?w==="oscuro"?"#fff":"#155724":k.text},children:[dt===q.correcta?" ":" "," ",dt]},Bt))})]},me)})}),Us()>0&&A.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[A.jsx("button",{onClick:()=>Mr(q=>Math.max(1,q-1)),disabled:dn===1,style:{cursor:"pointer",padding:"5px 10px"},children:" Anterior"}),A.jsxs("span",{style:{alignSelf:"center"},children:[dn," / ",Ur]}),A.jsx("button",{onClick:()=>Mr(q=>Math.min(Ur,q+1)),disabled:dn===Ur,style:{cursor:"pointer",padding:"5px 10px"},children:"Siguiente "})]})]})]})]}),Q==="resultados"&&A.jsxs("div",{className:"fade-in",children:[A.jsxs("div",{style:{background:k.card,padding:"15px",borderRadius:"8px",border:`1px solid ${k.border}`,marginBottom:"15px",display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"flex-end"},children:[A.jsxs("div",{style:{flex:"1 1 150px"},children:[A.jsx("label",{style:{fontSize:"0.8em"},children:"Por Examen:"}),A.jsxs("select",{value:At.examenId,onChange:q=>Si({...At,examenId:q.target.value}),style:{...Ge,width:"100%"},children:[A.jsx("option",{value:"",children:"Todos"}),ie.map(q=>A.jsx("option",{value:q.id,children:q.nombreExamen?q.nombreExamen:q.titulo},q.id))]})]}),A.jsxs("div",{style:{flex:"1 1 120px"},children:[A.jsx("label",{style:{fontSize:"0.8em"},children:"Control:"}),A.jsx("input",{type:"text",placeholder:"...",value:At.numControl,onChange:q=>Si({...At,numControl:q.target.value}),style:{...Ge,width:"100%"}})]}),A.jsxs("div",{style:{flex:"1 1 120px"},children:[A.jsx("label",{style:{fontSize:"0.8em"},children:"Unidad:"}),A.jsxs("select",{value:At.unidad,onChange:q=>Si({...At,unidad:q.target.value}),style:{...Ge,width:"100%"},children:[A.jsx("option",{value:"",children:"Todas"}),nO.map(q=>A.jsx("option",{value:q,children:q},q))]})]}),A.jsx("button",{onClick:()=>Si({examenId:"",numControl:"",unidad:"",fechaInicio:"",fechaFin:"",estado:""}),style:{padding:"10px 15px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",height:"42px"},children:"Limpiar"}),A.jsx("button",{onClick:Bn,style:{padding:"10px 15px",background:"#17a2b8",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",height:"42px",fontWeight:"bold",marginLeft:"auto"},children:" Reporte CSV"})]}),A.jsx("div",{style:{overflowX:"auto",borderRadius:"8px",border:`1px solid ${k.border}`},children:A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:k.card,color:k.text},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:k.accent,color:"white"},children:[A.jsx("th",{style:{padding:"12px"},children:"Control"}),A.jsx("th",{style:{padding:"12px"},children:"Nombre"}),A.jsx("th",{style:{padding:"12px"},children:"Examen"}),A.jsx("th",{style:{padding:"12px"},children:"Nota"})]})}),A.jsx("tbody",{children:ut.length>0?ut.map(q=>A.jsxs("tr",{style:{borderBottom:`1px solid ${k.border}`},children:[A.jsx("td",{style:{padding:"8px",textAlign:"center"},children:q.numControl}),A.jsx("td",{style:{padding:"8px"},children:q.nombre}),A.jsx("td",{style:{padding:"8px"},children:q.examenTitulo}),A.jsx("td",{style:{padding:"8px",textAlign:"center",fontWeight:"bold",color:q.calificacion>=7?"#28a745":"#dc3545"},children:q.calificacion.toFixed(1)})]},q.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:"4",style:{padding:"20px",textAlign:"center"},children:"Sin resultados."})})})]})})]})]})}const rO={claro:{bg:"#ffffff",text:"#333333",card:"#f0f0f0",border:"#cccccc"},oscuro:{bg:"#121212",text:"#e0e0e0",card:"#1e1e1e",border:"#333333"},calido:{bg:"#f5e6d3",text:"#4a3b2a",card:"#e8dcc5",border:"#d1c7b7"}};function sO(){const[r,e]=U.useState([]),[n,s]=U.useState(()=>localStorage.getItem("temaApp")||"claro"),o=rO[n];return U.useEffect(()=>localStorage.setItem("temaApp",n),[n]),U.useEffect(()=>{(async()=>{const f=await vo(Er(Sn,"examenes"));e(f.docs.map(m=>({id:m.id,...m.data()})))})()},[]),A.jsxs("div",{style:{width:"100%",minHeight:"100vh",backgroundColor:o.bg,color:o.text,padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[A.jsxs("div",{style:{width:"100%",maxWidth:"1000px",display:"flex",justifyContent:"flex-end",gap:"10px",marginBottom:"20px"},children:[A.jsx("button",{onClick:()=>s("claro"),style:{cursor:"pointer",fontSize:"1.2em"},children:""}),A.jsx("button",{onClick:()=>s("oscuro"),style:{cursor:"pointer",fontSize:"1.2em"},children:""}),A.jsx("button",{onClick:()=>s("calido"),style:{cursor:"pointer",fontSize:"1.2em"},children:""})]}),A.jsxs("div",{style:{width:"100%",maxWidth:"1000px",textAlign:"center"},children:[A.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",marginBottom:"30px"},children:"Selecciona un Examen"}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",width:"100%"},children:r.map(u=>A.jsxs(ha,{to:`/examen/${u.id}`,style:{padding:"30px",background:o.card,textDecoration:"none",color:o.text,borderRadius:"12px",border:`1px solid ${o.border}`,boxShadow:"0 4px 6px rgba(0,0,0,0.1)",transition:"transform 0.2s",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"150px"},onMouseEnter:f=>f.currentTarget.style.transform="scale(1.02)",onMouseLeave:f=>f.currentTarget.style.transform="scale(1)",children:[A.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem"},children:[" ",u.titulo]}),A.jsx("p",{style:{margin:0,opacity:.8},children:"Click para comenzar"})]},u.id))}),r.length===0&&A.jsx("p",{children:"Cargando exmenes disponibles..."}),A.jsx("div",{style:{marginTop:"60px"},children:A.jsx(ha,{to:"/admin",style:{color:o.text,textDecoration:"underline"},children:"Soy Profesor (Ir al Panel)"})})]})]})}function aO(){return A.jsxs(pw,{basename:"/examen-app",children:[" ",A.jsxs(G1,{children:[A.jsx(oh,{path:"/",element:A.jsx(sO,{})}),A.jsx(oh,{path:"/examen/:id",element:A.jsx(eO,{})}),A.jsx(oh,{path:"/admin",element:A.jsx(iO,{})})]})]})}KA.createRoot(document.getElementById("root")).render(A.jsx(U.StrictMode,{children:A.jsx(aO,{})}));
