(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},Ql={};var Tv;function UA(){if(Tv)return Ql;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var Sv;function jA(){return Sv||(Sv=1,rm.exports=UA()),rm.exports}var A=jA(),sm={exports:{}},Re={};var bv;function zA(){if(bv)return Re;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function U(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Y={};function ie(V,J,oe){this.props=V,this.context=J,this.refs=Y,this.updater=oe||k}ie.prototype.isReactComponent={},ie.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},ie.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=ie.prototype;function se(V,J,oe){this.props=V,this.context=J,this.refs=Y,this.updater=oe||k}var we=se.prototype=new ne;we.constructor=se,$(we,ie.prototype),we.isPureReactComponent=!0;var be=Array.isArray;function Ee(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function x(V,J,oe){var ue=oe.ref;return{$$typeof:r,type:V,key:J,ref:ue!==void 0?ue:null,props:oe}}function M(V,J){return x(V.type,J,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return J[oe]})}var R=/\/+/g;function Ie(V,J){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):J.toString(36)}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,J,oe,ue,he){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case r:case e:ke=!0;break;case E:return ke=V._init,Q(ke(V._payload),J,oe,ue,he)}}if(ke)return he=he(V),ke=ue===""?"."+Ie(V,0):ue,be(he)?(oe="",ke!=null&&(oe=ke.replace(R,"$&/")+"/"),Q(he,J,oe,"",function(bi){return bi})):he!=null&&(N(he)&&(he=M(he,oe+(he.key==null||V&&V.key===he.key?"":(""+he.key).replace(R,"$&/")+"/")+ke)),J.push(he)),1;ke=0;var St=ue===""?".":ue+":";if(be(V))for(var at=0;at<V.length;at++)ue=V[at],xe=St+Ie(ue,at),ke+=Q(ue,J,oe,xe,he);else if(at=U(V),typeof at=="function")for(V=at.call(V),at=0;!(ue=V.next()).done;)ue=ue.value,xe=St+Ie(ue,at++),ke+=Q(ue,J,oe,xe,he);else if(xe==="object"){if(typeof V.then=="function")return Q(Me(V),J,oe,ue,he);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ae(V,J,oe){if(V==null)return V;var ue=[],he=0;return Q(V,ue,"","",function(xe){return J.call(oe,xe,he++)}),ue}function pe(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},$e={map:ae,forEach:function(V,J,oe){ae(V,function(){J.apply(this,arguments)},oe)},count:function(V){var J=0;return ae(V,function(){J++}),J},toArray:function(V){return ae(V,function(J){return J})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=S,Re.Children=$e,Re.Component=ie,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,J,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=$({},V.props),he=V.key;if(J!=null)for(xe in J.key!==void 0&&(he=""+J.key),J)!C.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(ue[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)ue.children=oe;else if(1<xe){for(var ke=Array(xe),St=0;St<xe;St++)ke[St]=arguments[St+2];ue.children=ke}return x(V.type,he,ue)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,J,oe){var ue,he={},xe=null;if(J!=null)for(ue in J.key!==void 0&&(xe=""+J.key),J)C.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=J[ue]);var ke=arguments.length-2;if(ke===1)he.children=oe;else if(1<ke){for(var St=Array(ke),at=0;at<ke;at++)St[at]=arguments[at+2];he.children=St}if(V&&V.defaultProps)for(ue in ke=V.defaultProps,ke)he[ue]===void 0&&(he[ue]=ke[ue]);return x(V,xe,he)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=N,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Re.memo=function(V,J){return{$$typeof:y,type:V,compare:J===void 0?null:J}},Re.startTransition=function(V){var J=I.T,oe={};I.T=oe;try{var ue=V(),he=I.S;he!==null&&he(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ee,Ve)}catch(xe){Ve(xe)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),I.T=J}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(V){return I.H.use(V)},Re.useActionState=function(V,J,oe){return I.H.useActionState(V,J,oe)},Re.useCallback=function(V,J){return I.H.useCallback(V,J)},Re.useContext=function(V){return I.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,J){return I.H.useDeferredValue(V,J)},Re.useEffect=function(V,J){return I.H.useEffect(V,J)},Re.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(V,J,oe){return I.H.useImperativeHandle(V,J,oe)},Re.useInsertionEffect=function(V,J){return I.H.useInsertionEffect(V,J)},Re.useLayoutEffect=function(V,J){return I.H.useLayoutEffect(V,J)},Re.useMemo=function(V,J){return I.H.useMemo(V,J)},Re.useOptimistic=function(V,J){return I.H.useOptimistic(V,J)},Re.useReducer=function(V,J,oe){return I.H.useReducer(V,J,oe)},Re.useRef=function(V){return I.H.useRef(V)},Re.useState=function(V){return I.H.useState(V)},Re.useSyncExternalStore=function(V,J,oe){return I.H.useSyncExternalStore(V,J,oe)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.3",Re}var Av;function ip(){return Av||(Av=1,sm.exports=zA()),sm.exports}var j=ip(),am={exports:{}},Yl={},om={exports:{}},lm={};var wv;function BA(){return wv||(wv=1,(function(r){function e(Q,ae){var pe=Q.length;Q.push(ae);e:for(;0<pe;){var Ve=pe-1>>>1,$e=Q[Ve];if(0<o($e,ae))Q[Ve]=ae,Q[pe]=$e,pe=Ve;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],pe=Q.pop();if(pe!==ae){Q[0]=pe;e:for(var Ve=0,$e=Q.length,V=$e>>>1;Ve<V;){var J=2*(Ve+1)-1,oe=Q[J],ue=J+1,he=Q[ue];if(0>o(oe,pe))ue<$e&&0>o(he,oe)?(Q[Ve]=he,Q[ue]=pe,Ve=ue):(Q[Ve]=oe,Q[J]=pe,Ve=J);else if(ue<$e&&0>o(he,pe))Q[Ve]=he,Q[ue]=pe,Ve=ue;else break e}}return ae}function o(Q,ae){var pe=Q.sortIndex-ae.sortIndex;return pe!==0?pe:Q.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,U=!1,k=!1,$=!1,Y=!1,ie=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function we(Q){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Q)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function be(Q){if($=!1,we(Q),!k)if(n(g)!==null)k=!0,Ee||(Ee=!0,P());else{var ae=n(y);ae!==null&&Me(be,ae.startTime-Q)}}var Ee=!1,I=-1,C=5,x=-1;function M(){return Y?!0:!(r.unstable_now()-x<C)}function N(){if(Y=!1,Ee){var Q=r.unstable_now();x=Q;var ae=!0;try{e:{k=!1,$&&($=!1,ne(I),I=-1),U=!0;var pe=w;try{t:{for(we(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&M());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,w=S.priorityLevel;var $e=Ve(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof $e=="function"){S.callback=$e,we(Q),ae=!0;break t}S===n(g)&&s(g),we(Q)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var V=n(y);V!==null&&Me(be,V.startTime-Q),ae=!1}}break e}finally{S=null,w=pe,U=!1}ae=void 0}}finally{ae?P():Ee=!1}}}var P;if(typeof se=="function")P=function(){se(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ie=R.port2;R.port1.onmessage=N,P=function(){Ie.postMessage(null)}}else P=function(){ie(N,0)};function Me(Q,ae){I=ie(function(){Q(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var pe=w;w=ae;try{return Q()}finally{w=pe}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=w;w=Q;try{return ae()}finally{w=pe}},r.unstable_scheduleCallback=function(Q,ae,pe){var Ve=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ve+pe:Ve):pe=Ve,Q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=pe+$e,Q={id:E++,callback:ae,priorityLevel:Q,startTime:pe,expirationTime:$e,sortIndex:-1},pe>Ve?(Q.sortIndex=pe,e(y,Q),n(g)===null&&Q===n(y)&&($?(ne(I),I=-1):$=!0,Me(be,pe-Ve))):(Q.sortIndex=$e,e(g,Q),k||U||(k=!0,Ee||(Ee=!0,P()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var ae=w;return function(){var pe=w;w=ae;try{return Q.apply(this,arguments)}finally{w=pe}}}})(lm)),lm}var Rv;function qA(){return Rv||(Rv=1,om.exports=BA()),om.exports}var um={exports:{}},cn={};var Cv;function HA(){if(Cv)return cn;Cv=1;var r=ip();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},cn.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},cn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},cn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},cn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},cn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},cn.requestFormReset=function(g){s.d.r(g)},cn.unstable_batchedUpdates=function(g,y){return g(y)},cn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var xv;function FA(){if(xv)return um.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=HA(),um.exports}var Iv;function GA(){if(Iv)return Yl;Iv=1;var r=qA(),e=ip(),n=FA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ie:return"Profiler";case Y:return"StrictMode";case be:return"Suspense";case Ee:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case we:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ie(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ie(t(i))}catch{}}return null}var Me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ve=[],$e=-1;function V(t){return{current:t}}function J(t){0>$e||(t.current=Ve[$e],Ve[$e]=null,$e--)}function oe(t,i){$e++,Ve[$e]=t.current,t.current=i}var ue=V(null),he=V(null),xe=V(null),ke=V(null);function St(t,i){switch(oe(xe,i),oe(he,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?F_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=F_(i),t=G_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),oe(ue,t)}function at(){J(ue),J(he),J(xe)}function bi(t){t.memoizedState!==null&&oe(ke,t);var i=ue.current,a=G_(i,t.type);i!==a&&(oe(he,t),oe(ue,a))}function Wi(t){he.current===t&&(J(ue),J(he)),ke.current===t&&(J(ke),Hl._currentValue=pe)}var Ji,lt;function qt(t){if(Ji===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ji=i&&i[1]||"",lt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+t+lt}var Fn=!1;function Ai(t,i){if(!t||Fn)return"";Fn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),H=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Fn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qt(a):""}function Or(t,i){switch(t.tag){case 26:case 27:case 5:return qt(t.type);case 16:return qt("Lazy");case 13:return t.child!==i&&i!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return Ai(t.type,!1);case 11:return Ai(t.type.render,!1);case 1:return Ai(t.type,!0);case 31:return qt("Activity");default:return""}}function Vr(t){try{var i="",a=null;do i+=Or(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ut=Object.prototype.hasOwnProperty,pt=r.unstable_scheduleCallback,En=r.unstable_cancelCallback,Yo=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Nt=r.unstable_now,Gn=r.unstable_getCurrentPriorityLevel,Mr=r.unstable_ImmediatePriority,Kn=r.unstable_UserBlockingPriority,Qn=r.unstable_NormalPriority,$o=r.unstable_LowPriority,wa=r.unstable_IdlePriority,Ra=r.log,Ca=r.unstable_setDisableYieldValue,Dn=null,Ht=null;function on(t){if(typeof Ra=="function"&&Ca(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Dn,t)}catch{}}var _t=Math.clz32?Math.clz32:Ia,xa=Math.log,kr=Math.LN2;function Ia(t){return t>>>=0,t===0?32:31-(xa(t)/kr|0)|0}var pn=256,Zi=262144,bt=4194304;function Yn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Yn(l):(_&=T,_!==0?h=Yn(_):a||(a=T&~t,a!==0&&(h=Yn(a))))):(T=l&~d,T!==0?h=Yn(T):_!==0?h=Yn(_):a||(a=l&~t,a!==0&&(h=Yn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function On(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ps(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function Ke(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function z(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function de(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-_t(a),ee=1<<X;T[X]=0,D[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&ve(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ve(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ue(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ct(t,i){var a=i&-i;return a=(a&42)!==0?1:ln(a),(a&(t.suspendedLanes|i))!==0?0:a}function ln(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function un(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function Ft(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var gn=Math.random().toString(36).slice(2),vt="__reactFiber$"+gn,Rt="__reactProps$"+gn,Vn="__reactContainer$"+gn,er="__reactEvents$"+gn,Ls="__reactListeners$"+gn,Us="__reactHandles$"+gn,Mu="__reactResources$"+gn,Ri="__reactMarker$"+gn;function Da(t){delete t[vt],delete t[Rt],delete t[er],delete t[Ls],delete t[Us]}function Ci(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Vn]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[vt])return a;t=J_(t)}return i}t=a,a=t.parentNode}return null}function $n(t){if(t=t[vt]||t[Vn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function xi(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(t){t[Ri]=!0}var Xo=new Set,Wo={};function Ii(t,i){Di(t,i),Di(t+"Capture",i)}function Di(t,i){for(Wo[t]=i,t=0;t<i.length;t++)Xo.add(i[t])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},el={};function ku(t){return ut.call(el,t)?!0:ut.call(Zo,t)?!1:Jo.test(t)?el[t]=!0:(Zo[t]=!0,!1)}function Na(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function kn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ze(t){if(!t._valueTracker){var i=Lr(t)?"checked":"value";t._valueTracker=tl(t,i,""+t[i])}}function js(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Lr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function Tn(t){return t.replace(zs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?nl(t,_,Yt(i)):a!=null?nl(t,_,Yt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Yt(T):t.removeAttribute("name")}function Pu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ze(t);return}a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ze(t)}function nl(t,i,a){i==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ur(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Yt(a):""}function jr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Yt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function Sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function rl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&il(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&il(t,d,i[d])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(t){return zr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var sl=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Br=null,Oi=null;function Bs(t){var i=$n(t);if(i&&(t=i.stateNode)){var a=t[Rt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Rt]||null;if(!h)throw Error(s(90));Oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&js(l)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ur(t,!!a.multiple,i,!1)}}}var ka=!1;function qr(t,i,a){if(ka)return t(i,a);ka=!0;try{var l=t(i);return l}finally{if(ka=!1,(Br!==null||Oi!==null)&&(Oc(),Br&&(i=Br,t=Oi,Oi=Br=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function hi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Wn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{qs=!1}var Vi=null,al=null,Hs=null;function ol(){if(Hs)return Hs;var t,i=al,a=i.length,l,h="value"in Vi?Vi.value:Vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Hs=h.slice(t,1<l?1-l:void 0)}function Fs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function fi(){return!1}function Jt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?tr:fi,this.isPropagationStopped=fi,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),i}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Jt(nr),Hr=S({},nr,{view:0,detail:0}),ll=Jt(Hr),Fr,Pa,ki,La=S({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Fr=t.screenX-ki.screenX,Pa=t.screenY-ki.screenY):Pa=Fr=0,ki=t),Fr)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),ul=Jt(La),Gs=S({},La,{dataTransfer:0}),zu=Jt(Gs),Bu=S({},Hr,{relatedTarget:0}),Ks=Jt(Bu),cl=S({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Jt(cl),Ua=S({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=Jt(Ua),Fu=S({},nr,{data:0}),Pi=Jt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qu[t])?!!i[t]:!1}function Gr(){return Yu}var yn=S({},Hr,{key:function(t){if(t.key){var i=Gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=Jt(yn),Xu=S({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Jt(Xu),c=S({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),p=Jt(c),v=S({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Jt(v),B=S({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Jt(B),re=S({},nr,{newState:0,oldState:0}),De=Jt(re),Ct=[9,13,27,32],Xe=Wn&&"CompositionEvent"in window,gt=null;Wn&&"documentMode"in document&&(gt=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!gt,Li=Wn&&(!Xe||gt&&8<gt&&11>=gt),di=" ",mi=!1;function Qs(t,i){switch(t){case"keyup":return Ct.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function lb(t,i){switch(t){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(mi=!0,di);case"textInput":return t=i.data,t===di&&mi?null:t;default:return null}}function ub(t,i){if(za)return t==="compositionend"||!Xe&&Qs(t,i)?(t=ol(),Hs=al=Vi=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Li&&i.locale!=="ko"?null:i.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!cb[t.type]:i==="textarea"}function ng(t,i,a,l){Br?Oi?Oi.push(l):Oi=[l]:Br=l,i=jc(i,"onChange"),0<i.length&&(a=new Mi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var hl=null,fl=null;function hb(t){U_(t,0)}function Wu(t){var i=Mn(t);if(js(i))return t}function ig(t,i){if(t==="change")return i}var rg=!1;if(Wn){var hf;if(Wn){var ff="oninput"in document;if(!ff){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),ff=typeof sg.oninput=="function"}hf=ff}else hf=!1;rg=hf&&(!document.documentMode||9<document.documentMode)}function ag(){hl&&(hl.detachEvent("onpropertychange",og),fl=hl=null)}function og(t){if(t.propertyName==="value"&&Wu(fl)){var i=[];ng(i,fl,t,Xn(t)),qr(hb,i)}}function fb(t,i,a){t==="focusin"?(ag(),hl=i,fl=a,hl.attachEvent("onpropertychange",og)):t==="focusout"&&ag()}function db(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(fl)}function mb(t,i){if(t==="click")return Wu(i)}function pb(t,i){if(t==="input"||t==="change")return Wu(i)}function gb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Pn=typeof Object.is=="function"?Object.is:gb;function dl(t,i){if(Pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ut.call(i,h)||!Pn(t[h],i[h]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,i){var a=lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lg(a)}}function cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ni(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ni(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yb=Wn&&"documentMode"in document&&11>=document.documentMode,Ba=null,mf=null,ml=null,pf=!1;function fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ba==null||Ba!==Ni(l)||(l=Ba,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=jc(mf,"onSelect"),0<l.length&&(i=new Mi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ba)))}function Ys(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var qa={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},gf={},dg={};Wn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function $s(t){if(gf[t])return gf[t];if(!qa[t])return t;var i=qa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return gf[t]=i[a];return t}var mg=$s("animationend"),pg=$s("animationiteration"),gg=$s("animationstart"),_b=$s("transitionrun"),vb=$s("transitionstart"),Eb=$s("transitioncancel"),yg=$s("transitionend"),_g=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function pi(t,i){_g.set(t,i),Ii(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Ha=0,_f=0;function Zu(){for(var t=Ha,i=_f=Ha=0;i<t;){var a=Zn[i];Zn[i++]=null;var l=Zn[i];Zn[i++]=null;var h=Zn[i];Zn[i++]=null;var d=Zn[i];if(Zn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function ec(t,i,a,l){Zn[Ha++]=t,Zn[Ha++]=i,Zn[Ha++]=a,Zn[Ha++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return ec(t,i,a,l),tc(t)}function Xs(t,i){return ec(t,null,null,i),tc(t)}function vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-_t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(t){if(50<Pl)throw Pl=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fa={};function Tb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,i,a,l){return new Tb(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rr(t,i){var a=t.alternate;return a===null?(a=Ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=RA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Ln(31,a,i,h),t.elementType=x,t.lanes=d,t;case $:return Ws(a.children,h,d,i);case Y:_=8,h|=24;break;case ie:return t=Ln(12,a,i,h|2),t.elementType=ie,t.lanes=d,t;case be:return t=Ln(13,a,i,h),t.elementType=be,t.lanes=d,t;case Ee:return t=Ln(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case ne:_=9;break e;case we:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Ln(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ws(t,i,a,l){return t=Ln(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=Ln(6,t,null,i),t.lanes=a,t}function Tg(t){var i=Ln(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=Ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Sg=new WeakMap;function ei(t,i){if(typeof t=="object"&&t!==null){var a=Sg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vr(i)},Sg.set(t,i),i)}return{value:t,source:i,stack:Vr(i)}}var Ga=[],Ka=0,ic=null,pl=0,ti=[],ni=0,Kr=null,Ui=1,ji="";function sr(t,i){Ga[Ka++]=pl,Ga[Ka++]=ic,ic=t,pl=i}function bg(t,i,a){ti[ni++]=Ui,ti[ni++]=ji,ti[ni++]=Kr,Kr=t;var l=Ui;t=ji;var h=32-_t(l)-1;l&=~(1<<h),a+=1;var d=32-_t(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ui=1<<32-_t(i)+h|a<<h|l,ji=d+t}else Ui=1<<d|a<<h|l,ji=t}function bf(t){t.return!==null&&(sr(t,1),bg(t,1,0))}function Af(t){for(;t===ic;)ic=Ga[--Ka],Ga[Ka]=null,pl=Ga[--Ka],Ga[Ka]=null;for(;t===Kr;)Kr=ti[--ni],ti[ni]=null,ji=ti[--ni],ti[ni]=null,Ui=ti[--ni],ti[ni]=null}function Ag(t,i){ti[ni++]=Ui,ti[ni++]=ji,ti[ni++]=Kr,Ui=i.id,ji=i.overflow,Kr=t}var Zt=null,ft=null,Fe=!1,Qr=null,ii=!1,wf=Error(s(519));function Yr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(ei(i,t)),wf}function wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Rt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Le(Ul[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Pu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),jr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||q_(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=ci),i=!0):i=!1,i||Yr(t,!0)}function Rg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:Zt=Zt.return}}function Qa(t){if(t!==Zt)return!1;if(!Fe)return Rg(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&ft&&Yr(t),Rg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ft=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ft=W_(t)}else i===27?(i=ft,ls(t.type)?(t=Yd,Yd=null,ft=t):ft=i):ft=Zt?si(t.stateNode.nextSibling):null;return!0}function Js(){ft=Zt=null,Fe=!1}function Rf(){var t=Qr;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Qr=null),t}function gl(t){Qr===null?Qr=[t]:Qr.push(t)}var Cf=V(null),Zs=null,ar=null;function $r(t,i,a){oe(Cf,i._currentValue),i._currentValue=a}function or(t){t._currentValue=Cf.current,J(Cf)}function xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),xf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ya(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Pn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}h=h.return}t!==null&&If(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Zs=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Cg(Zs,t)}function sc(t,i){return Zs===null&&ea(t),Cg(t,i)}function Cg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(s(308));ar=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ar=ar.next=i;return a}var Sb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},bb=r.unstable_scheduleCallback,Ab=r.unstable_NormalPriority,Mt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new Sb,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&bb(Ab,function(){t.controller.abort()})}var _l=null,Nf=0,$a=0,Xa=null;function wb(t,i){if(_l===null){var a=_l=[];Nf=0,$a=Md(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(xg,xg),i}function xg(){if(--Nf===0&&_l!==null){Xa!==null&&(Xa.status="fulfilled");var t=_l;_l=null,$a=0,Xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Rb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ig=Q.S;Q.S=function(t,i){f_=Nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&wb(t,i),Ig!==null&&Ig(t,i)};var ta=V(null);function Of(){var t=ta.current;return t!==null?t:ot.pooledCache}function ac(t,i){i===null?oe(ta,ta.current):oe(ta,i.pool)}function Dg(){var t=Of();return t===null?null:{parent:Mt._currentValue,pool:t}}var Wa=Error(s(460)),Vf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Og(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ci,ci),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mg(t),t;default:if(typeof i.status=="string")i.then(ci,ci);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mg(t),t}throw ia=i,Wa}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Wa):a}}var ia=null;function Vg(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function Mg(t){if(t===Wa||t===oc)throw Error(s(483))}var Ja=null,vl=0;function uc(t){var i=vl;return vl+=1,Ja===null&&(Ja=[]),Og(Ja,t,i)}function El(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kg(t){function i(L,O){if(t){var q=L.deletions;q===null?(L.deletions=[O],L.flags|=16):q.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=rr(L,O),L.index=0,L.sibling=null,L}function d(L,O,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<O?(L.flags|=67108866,O):q):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,q,W){return O===null||O.tag!==6?(O=Tf(q,L.mode,W),O.return=L,O):(O=h(O,q),O.return=L,O)}function D(L,O,q,W){var ge=q.type;return ge===$?X(L,O,q.props.children,W,q.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&na(ge)===O.type)?(O=h(O,q.props),El(O,q),O.return=L,O):(O=nc(q.type,q.key,q.props,null,L.mode,W),El(O,q),O.return=L,O)}function H(L,O,q,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Sf(q,L.mode,W),O.return=L,O):(O=h(O,q.children||[]),O.return=L,O)}function X(L,O,q,W,ge){return O===null||O.tag!==7?(O=Ws(q,L.mode,W,ge),O.return=L,O):(O=h(O,q),O.return=L,O)}function ee(L,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Tf(""+O,L.mode,q),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return q=nc(O.type,O.key,O.props,null,L.mode,q),El(q,O),q.return=L,q;case k:return O=Sf(O,L.mode,q),O.return=L,O;case C:return O=na(O),ee(L,O,q)}if(Me(O)||P(O))return O=Ws(O,L.mode,q,null),O.return=L,O;if(typeof O.then=="function")return ee(L,uc(O),q);if(O.$$typeof===se)return ee(L,sc(L,O),q);cc(L,O)}return null}function F(L,O,q,W){var ge=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:T(L,O,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return q.key===ge?D(L,O,q,W):null;case k:return q.key===ge?H(L,O,q,W):null;case C:return q=na(q),F(L,O,q,W)}if(Me(q)||P(q))return ge!==null?null:X(L,O,q,W,null);if(typeof q.then=="function")return F(L,O,uc(q),W);if(q.$$typeof===se)return F(L,O,sc(L,q),W);cc(L,q)}return null}function K(L,O,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(q)||null,T(O,L,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return L=L.get(W.key===null?q:W.key)||null,D(O,L,W,ge);case k:return L=L.get(W.key===null?q:W.key)||null,H(O,L,W,ge);case C:return W=na(W),K(L,O,q,W,ge)}if(Me(W)||P(W))return L=L.get(q)||null,X(O,L,W,ge,null);if(typeof W.then=="function")return K(L,O,q,uc(W),ge);if(W.$$typeof===se)return K(L,O,q,sc(O,W),ge);cc(O,W)}return null}function fe(L,O,q,W){for(var ge=null,Qe=null,me=O,Oe=O=0,ze=null;me!==null&&Oe<q.length;Oe++){me.index>Oe?(ze=me,me=null):ze=me.sibling;var Ye=F(L,me,q[Oe],W);if(Ye===null){me===null&&(me=ze);break}t&&me&&Ye.alternate===null&&i(L,me),O=d(Ye,O,Oe),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye,me=ze}if(Oe===q.length)return a(L,me),Fe&&sr(L,Oe),ge;if(me===null){for(;Oe<q.length;Oe++)me=ee(L,q[Oe],W),me!==null&&(O=d(me,O,Oe),Qe===null?ge=me:Qe.sibling=me,Qe=me);return Fe&&sr(L,Oe),ge}for(me=l(me);Oe<q.length;Oe++)ze=K(me,L,Oe,q[Oe],W),ze!==null&&(t&&ze.alternate!==null&&me.delete(ze.key===null?Oe:ze.key),O=d(ze,O,Oe),Qe===null?ge=ze:Qe.sibling=ze,Qe=ze);return t&&me.forEach(function(ds){return i(L,ds)}),Fe&&sr(L,Oe),ge}function _e(L,O,q,W){if(q==null)throw Error(s(151));for(var ge=null,Qe=null,me=O,Oe=O=0,ze=null,Ye=q.next();me!==null&&!Ye.done;Oe++,Ye=q.next()){me.index>Oe?(ze=me,me=null):ze=me.sibling;var ds=F(L,me,Ye.value,W);if(ds===null){me===null&&(me=ze);break}t&&me&&ds.alternate===null&&i(L,me),O=d(ds,O,Oe),Qe===null?ge=ds:Qe.sibling=ds,Qe=ds,me=ze}if(Ye.done)return a(L,me),Fe&&sr(L,Oe),ge;if(me===null){for(;!Ye.done;Oe++,Ye=q.next())Ye=ee(L,Ye.value,W),Ye!==null&&(O=d(Ye,O,Oe),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye);return Fe&&sr(L,Oe),ge}for(me=l(me);!Ye.done;Oe++,Ye=q.next())Ye=K(me,L,Oe,Ye.value,W),Ye!==null&&(t&&Ye.alternate!==null&&me.delete(Ye.key===null?Oe:Ye.key),O=d(Ye,O,Oe),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye);return t&&me.forEach(function(LA){return i(L,LA)}),Fe&&sr(L,Oe),ge}function st(L,O,q,W){if(typeof q=="object"&&q!==null&&q.type===$&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case U:e:{for(var ge=q.key;O!==null;){if(O.key===ge){if(ge=q.type,ge===$){if(O.tag===7){a(L,O.sibling),W=h(O,q.props.children),W.return=L,L=W;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&na(ge)===O.type){a(L,O.sibling),W=h(O,q.props),El(W,q),W.return=L,L=W;break e}a(L,O);break}else i(L,O);O=O.sibling}q.type===$?(W=Ws(q.props.children,L.mode,W,q.key),W.return=L,L=W):(W=nc(q.type,q.key,q.props,null,L.mode,W),El(W,q),W.return=L,L=W)}return _(L);case k:e:{for(ge=q.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(L,O.sibling),W=h(O,q.children||[]),W.return=L,L=W;break e}else{a(L,O);break}else i(L,O);O=O.sibling}W=Sf(q,L.mode,W),W.return=L,L=W}return _(L);case C:return q=na(q),st(L,O,q,W)}if(Me(q))return fe(L,O,q,W);if(P(q)){if(ge=P(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),_e(L,O,q,W)}if(typeof q.then=="function")return st(L,O,uc(q),W);if(q.$$typeof===se)return st(L,O,sc(L,q),W);cc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(a(L,O.sibling),W=h(O,q),W.return=L,L=W):(a(L,O),W=Tf(q,L.mode,W),W.return=L,L=W),_(L)):a(L,O)}return function(L,O,q,W){try{vl=0;var ge=st(L,O,q,W);return Ja=null,ge}catch(me){if(me===Wa||me===oc)throw me;var Qe=Ln(29,me,null,L.mode);return Qe.lanes=W,Qe.return=L,Qe}}}var ra=kg(!0),Pg=kg(!1),Xr=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(t),vg(t,null,a),i}return ec(t,l,i,a),tc(t)}function Tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ue(t,a)}}function Pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function Sl(){if(Lf){var t=Xa;if(t!==null)throw t}}function bl(t,i,a,l){Lf=!1;var h=t.updateQueue;Xr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,H=D.next;D.next=null,_===null?d=H:_.next=H,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;_=0,X=H=D=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(je&F)===F:(l&F)===F){F!==0&&F===$a&&(Lf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;F=i;var st=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(st,ee,F);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(st,ee,F):fe,F==null)break e;ee=S({},ee,F);break e;case 2:Xr=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=K,D=ee):X=X.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),is|=_,t.lanes=_,t.memoizedState=ee}}function Lg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ug(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lg(a[t],i)}var Za=V(null),hc=V(0);function jg(t,i){t=gr,oe(hc,t),oe(Za,i),gr=t|i.baseLanes}function Uf(){oe(hc,gr),oe(Za,Za.current)}function jf(){gr=hc.current,J(Za),J(hc)}var Un=V(null),ri=null;function Zr(t){var i=t.alternate;oe(xt,xt.current&1),oe(Un,t),ri===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(ri=t)}function zf(t){oe(xt,xt.current),oe(Un,t),ri===null&&(ri=t)}function zg(t){t.tag===22?(oe(xt,xt.current),oe(Un,t),ri===null&&(ri=t)):es()}function es(){oe(xt,xt.current),oe(Un,Un.current)}function jn(t){J(Un),ri===t&&(ri=null),J(xt)}var xt=V(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var lr=0,Ne=null,it=null,kt=null,dc=!1,eo=!1,sa=!1,mc=0,Al=0,to=null,Cb=0;function At(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Pn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return lr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?by:id,sa=!1,d=a(l,h),sa=!1,eo&&(d=qg(i,a,l,h)),Bg(t),d}function Bg(t){Q.H=Cl;var i=it!==null&&it.next!==null;if(lr=0,kt=it=Ne=null,dc=!1,Al=0,to=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&rc(t)&&(Pt=!0))}function qg(t,i,a,l){Ne=t;var h=0;do{if(eo&&(to=null),Al=0,eo=!1,25<=h)throw Error(s(301));if(h+=1,kt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ay,d=i(a,l)}while(eo);return d}function xb(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Hf(){var t=mc!==0;return mc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}lr=0,kt=it=Ne=null,eo=!1,Al=mc=0,to=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=t:kt=kt.next=t,kt}function It(){if(it===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=kt===null?Ne.memoizedState:kt.next;if(i!==null)kt=i,it=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?Ne.memoizedState=kt=t:kt=kt.next=t}return kt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=Al;return Al+=1,to===null&&(to=[]),t=Og(to,t,i),i=Ne,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?by:id),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===se)return en(t)}throw Error(s(438,String(t)))}function Kf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function ur(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=It();return Qf(i,it,t)}function Qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(je&ee)===ee:(lr&ee)===ee){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===$a&&(X=!0);else if((lr&F)===F){H=H.next,F===$a&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=ee,_=d):D=D.next=ee,Ne.lanes|=F,is|=F;ee=H.action,sa&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=F,_=d):D=D.next=F,Ne.lanes|=ee,is|=ee;H=H.next}while(H!==null&&H!==i);if(D===null?_=d:D.next=T,!Pn(d,t.memoizedState)&&(Pt=!0,X&&(a=Xa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=It(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Pn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(t,i,a){var l=Ne,h=It(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Pn((it||h).memoizedState,a);if(_&&(h.memoizedState=a,Pt=!0),h=h.queue,Wf(Kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},Gg.bind(null,l,h,a,i),null),ot===null)throw Error(s(349));d||(lr&127)!==0||Fg(l,i,a)}return a}function Fg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=pc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gg(t,i,a,l){i.value=a,i.getSnapshot=l,Qg(i)&&Yg(t)}function Kg(t,i,a){return a(function(){Qg(i)&&Yg(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Pn(t,a)}catch{return!0}}function Yg(t){var i=Xs(t,2);i!==null&&Cn(i,t,2)}function $f(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),sa){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},i}function $g(t,i,a,l){return t.baseState=a,Qf(t,it,typeof l=="function"?l:ur)}function Ib(t,i,a,l,h){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Xg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Xg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),D=Q.S;D!==null&&D(_,T),Wg(t,i,T)}catch(H){Xf(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Wg(t,i,d)}catch(H){Xf(t,i,H)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,i,l)},function(l){return Xf(t,i,l)}):Jg(t,i,a)}function Jg(t,i,a){i.status="fulfilled",i.value=a,Zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Xg(t,a)))}function Xf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zg(i),i=i.next;while(i!==l)}t.action=null}function Zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ey(t,i){return i}function ty(t,i){if(Fe){var a=ot.formState;if(a!==null){e:{var l=Ne;if(Fe){if(ft){t:{for(var h=ft,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=si(h.nextSibling),l=h.data==="F!";break e}}Yr(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:i},a.queue=l,a=Ey.bind(null,Ne,l),l.dispatch=a,l=$f(!1),d=nd.bind(null,Ne,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Ib.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ny(t){var i=It();return iy(i,it,t)}function iy(t,i,a){if(i=Qf(t,i,ey)[0],t=yc(ur)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(_){throw _===Wa?oc:_}else l=i;i=It();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,no(9,{destroy:void 0},Db.bind(null,h,a),null)),[l,d,t]}function Db(t,i){t.action=i}function ry(t){var i=It(),a=it;if(a!==null)return iy(i,a,t);It(),i=i.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function no(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=pc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function sy(){return It().memoizedState}function _c(t,i,a,l){var h=_n();Ne.flags|=t,h.memoizedState=no(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(t,i,a,l){var h=It();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&Bf(l,it.memoizedState.deps)?h.memoizedState=no(i,d,a,l):(Ne.flags|=t,h.memoizedState=no(1|i,d,a,l))}function ay(t,i){_c(8390656,8,t,i)}function Wf(t,i){vc(2048,8,t,i)}function Nb(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=pc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function oy(t){var i=It().memoizedState;return Nb({ref:i,nextImpl:t}),function(){if((We&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ly(t,i){return vc(4,2,t,i)}function uy(t,i){return vc(4,4,t,i)}function cy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hy(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,cy.bind(null,i,t),a)}function Jf(){}function fy(t,i){var a=It();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function dy(t,i){var a=It();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),sa){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(lr&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=m_(),Ne.lanes|=t,is|=t,a)}function my(t,i,a,l){return Pn(a,i)?a:Za.current!==null?(t=Zf(t,a,l),Pn(t,i)||(Pt=!0),t):(lr&42)===0||(lr&1073741824)!==0&&(je&261930)===0?(Pt=!0,t.memoizedState=a):(t=m_(),Ne.lanes|=t,is|=t,i)}function py(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,nd(t,!1,i,a);try{var D=h(),H=Q.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=Rb(D,l);Rl(t,i,X,qn(t))}else Rl(t,i,l,qn(t))}catch(ee){Rl(t,i,{then:function(){},status:"rejected",reason:ee},qn())}finally{ae.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function Ob(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=gy(t).queue;py(t,h,i,pe,a===null?Ob:function(){return yy(t),a(l)})}function gy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function yy(t){var i=gy(t);i.next===null&&(i=t.alternate.memoizedState),Rl(t,i.next.queue,{},qn())}function td(){return en(Hl)}function _y(){return It().memoizedState}function vy(){return It().memoizedState}function Vb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=qn();t=Wr(a);var l=Jr(i,t,a);l!==null&&(Cn(l,i,a),Tl(l,i,a)),i={cache:Df()},t.payload=i;return}i=i.return}}function Mb(t,i,a){var l=qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?Ty(i,a):(a=vf(t,i,a,l),a!==null&&(Cn(a,t,l),Sy(a,i,l)))}function Ey(t,i,a){var l=qn();Rl(t,i,a,l)}function Rl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))Ty(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Pn(T,_))return ec(t,i,h,0),ot===null&&Zu(),!1}catch{}if(a=vf(t,i,h,l),a!==null)return Cn(a,t,l),Sy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&Cn(i,t,2)}function Ec(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Ty(t,i){eo=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Sy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ue(t,a)}}var Cl={readContext:en,use:gc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Cl.useEffectEvent=At;var by={readContext:en,use:gc,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:en,useEffect:ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,cy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var l=t();if(sa){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=_n();if(a!==void 0){var h=a(i);if(sa){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Mb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=Ey.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=_n();return Zf(a,t,i)},useTransition:function(){var t=$f(!1);return t=py.bind(null,Ne,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=_n();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ot===null)throw Error(s(349));(je&127)!==0||Fg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ay(Kg.bind(null,l,d,t),[t]),l.flags|=2048,no(9,{destroy:void 0},Gg.bind(null,l,d,a,i),null),a},useId:function(){var t=_n(),i=ot.identifierPrefix;if(Fe){var a=ji,l=Ui;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Cb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ty,useActionState:ty,useOptimistic:function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return _n().memoizedState=Vb.bind(null,Ne)},useEffectEvent:function(t){var i=_n(),a={impl:t};return i.memoizedState=a,function(){if((We&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:en,use:gc,useCallback:fy,useContext:en,useEffect:Wf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:yc,useRef:sy,useState:function(){return yc(ur)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=It();return my(a,it.memoizedState,t,i)},useTransition:function(){var t=yc(ur)[0],i=It().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:td,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=It();return $g(a,it,t,i)},useMemoCache:Kf,useCacheRefresh:vy};id.useEffectEvent=oy;var Ay={readContext:en,use:gc,useCallback:fy,useContext:en,useEffect:Wf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:Yf,useRef:sy,useState:function(){return Yf(ur)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=It();return it===null?Zf(a,t,i):my(a,it.memoizedState,t,i)},useTransition:function(){var t=Yf(ur)[0],i=It().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:td,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var a=It();return it!==null?$g(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:vy};Ay.useEffectEvent=oy;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=qn(),h=Wr(l);h.payload=i,a!=null&&(h.callback=a),i=Jr(t,h,l),i!==null&&(Cn(i,t,l),Tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=qn(),h=Wr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Jr(t,h,l),i!==null&&(Cn(i,t,l),Tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=qn(),l=Wr(a);l.tag=2,i!=null&&(l.callback=i),i=Jr(t,l,a),i!==null&&(Cn(i,t,a),Tl(i,t,a))}};function wy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!dl(a,l)||!dl(h,d):!0}function Ry(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Cy(t){Ju(t)}function xy(t){console.error(t)}function Iy(t){Ju(t)}function Tc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,i)},a}function Ny(t){return t=Wr(t),t.tag=3,t}function Oy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Dy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Dy(i,a,l),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ya(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return ri===null?Vc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Vc(),!1}if(Fe)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),gl(ei(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),gl(ei(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ei(l,a),h=ad(t.stateNode,l,h),Pf(t,h),wt!==4&&(wt=2)),!1;var d=Error(s(520),{cause:l});if(d=ei(d,a),kl===null?kl=[d]:kl.push(d),wt!==4&&(wt=2),i===null)return!0;l=ei(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Pf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(rs===null||!rs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),Oy(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),Pt=!1;function tn(t,i,a,l){i.child=t===null?Pg(i,null,a,l):ra(i,t.child,a,l)}function Vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ea(i),l=qf(t,i,a,_,d,h),T=Hf(),t!==null&&!Pt?(Ff(t,i,h),cr(t,i,h)):(Fe&&T&&bf(i),i.flags|=1,tn(t,i,l,h),i.child)}function My(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ky(t,i,d,l,h)):(t=nc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(_,l)&&t.ref===i.ref)return cr(t,i,h)}return i.flags|=1,t=rr(d,l),t.ref=i.ref,t.return=i,i.child=t}function ky(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(dl(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,cr(t,i,h)}return ld(t,i,a,l,h)}function Py(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ly(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?jg(i,d):Uf(),zg(i);else return l=i.lanes=536870912,Ly(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),jg(i,d),es(),i.memoizedState=null):(t!==null&&ac(i,null),Uf(),es());return tn(t,i,h,a),i.child}function xl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ly(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:Mt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(i,null),Uf(),zg(i),t!==null&&Ya(t,i,l,!0),i.childLanes=h,null}function Sc(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Uy(t,i,a){return ra(i,t.child,null,a),t=Sc(i,i.pendingProps),t.flags|=2,jn(i),i.memoizedState=null,t}function Pb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Sc(i,l),i.lanes=536870912,xl(null,t);if(zf(i),(t=ft)?(t=X_(t,ii),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Kr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Tg(t),a.return=i,i.child=a,Zt=i,ft=null)):t=null,t===null)throw Yr(i);return i.lanes=536870912,null}return Sc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=Uy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Pt||Ya(t,i,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(l=ot,l!==null&&(_=ct(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Xs(t,_),Cn(l,t,_),od;Vc(),i=Uy(t,i,a)}else t=d.treeContext,ft=si(_.nextSibling),Zt=i,Fe=!0,Qr=null,ii=!1,t!==null&&Ag(i,t),i=Sc(i,l),i.flags|=4096;return i}return t=rr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return ea(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!Pt?(Ff(t,i,h),cr(t,i,h)):(Fe&&l&&bf(i),i.flags|=1,tn(t,i,a,h),i.child)}function jy(t,i,a,l,h,d){return ea(i),i.updateQueue=null,a=qg(i,l,a,h),Bg(t),l=Hf(),t!==null&&!Pt?(Ff(t,i,d),cr(t,i,d)):(Fe&&l&&bf(i),i.flags|=1,tn(t,i,a,d),i.child)}function zy(t,i,a,l,h){if(ea(i),i.stateNode===null){var d=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Mf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):Fa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),bl(i,l,d,h),Sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=aa(a,T);d.props=D;var H=d.context,X=a.contextType;_=Fa,typeof X=="object"&&X!==null&&(_=en(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Ry(i,d,l,_),Xr=!1;var F=i.memoizedState;d.state=F,bl(i,l,d,h),Sl(),H=i.memoizedState,T||F!==H||Xr?(typeof ee=="function"&&(rd(i,a,ee,l),H=i.memoizedState),(D=Xr||wy(i,a,D,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,X=aa(a,_),d.props=X,ee=i.pendingProps,F=d.context,H=a.contextType,D=Fa,typeof H=="object"&&H!==null&&(D=en(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==D)&&Ry(i,d,l,D),Xr=!1,F=i.memoizedState,d.state=F,bl(i,l,d,h),Sl();var K=i.memoizedState;_!==ee||F!==K||Xr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof T=="function"&&(rd(i,a,T,l),K=i.memoizedState),(X=Xr||wy(i,a,X,l,F,K,D)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ra(i,t.child,null,h),i.child=ra(i,null,a,h)):tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=cr(t,i,h),t}function By(t,i,a,l){return Js(),i.flags|=256,tn(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Dg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Bn),t}function qy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Zr(i):es(),(t=ft)?(t=X_(t,ii),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Kr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Tg(t),a.return=i,i.child=a,Zt=i,ft=null)):t=null,t===null)throw Yr(i);return Qd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(es(),h=i.mode,T=Ac({mode:"hidden",children:T},h),l=Ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,xl(null,l)):(Zr(i),fd(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Zr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(es(),i.child=t.child,i.flags|=128,i=null):(es(),T=l.fallback,h=i.mode,l=Ac({mode:"visible",children:l.children},h),T=Ws(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ra(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=xl(null,l));else if(Zr(i),Qd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,gl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(Pt||Ya(t,i,a,!1),_=(a&t.childLanes)!==0,Pt||_){if(_=ot,_!==null&&(l=ct(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Xs(t,l),Cn(_,t,l),od;Kd(T)||Vc(),i=dd(t,i,a)}else Kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ft=si(T.nextSibling),Zt=i,Fe=!0,Qr=null,ii=!1,t!==null&&Ag(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(es(),T=l.fallback,h=i.mode,D=t.child,H=D.sibling,l=rr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?T=rr(H,T):(T=Ws(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,xl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=cd(a):(h=T.cachePool,h!==null?(D=Mt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Dg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hd(t,_,a),i.memoizedState=ud,xl(t.child,l)):(Zr(i),a=t.child,t=a.sibling,a=rr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=Ln(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return ra(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),xf(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Fy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=xt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(xt,_),tn(t,i,l,a),l=Fe?pl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,i);else if(t.tag===19)Hy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function cr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),is|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ya(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=rr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=rr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function Lb(t,i,a){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),$r(i,Mt,t.memoizedState.cache),Js();break;case 27:case 5:bi(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:$r(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qy(t,i,a):(Zr(i),t=cr(t,i,a),t!==null?t.sibling:null);Zr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ya(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Fy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(xt,xt.current),l)break;return null;case 22:return i.lanes=0,Py(t,i,a,i.pendingProps);case 24:$r(i,Mt,t.memoizedState.cache)}return cr(t,i,a)}function Gy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return Pt=!1,Lb(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,Fe&&(i.flags&1048576)!==0&&bg(i,pl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=aa(t,l),i.tag=1,i=zy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===we){i.tag=11,i=Vy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=My(null,i,t,l,a);break e}}throw i=Ie(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=aa(l,i.pendingProps),zy(t,i,l,h,a);case 3:e:{if(St(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),bl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,$r(i,Mt,l),l!==d.cache&&If(i,[Mt],a,!0),Sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=By(t,i,l,a);break e}else if(l!==h){h=ei(Error(s(424)),i),gl(h),i=By(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=si(t.firstChild),Zt=i,Fe=!0,Qr=null,ii=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Js(),l===h){i=cr(t,i,a);break e}tn(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=zc(xe.current).createElement(a),l[vt]=i,l[Rt]=t,nn(l,a,t),Ot(l),i.stateNode=l):i.memoizedState=nv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bi(i),t===null&&Fe&&(l=i.stateNode=Z_(i.type,i.pendingProps,xe.current),Zt=i,ii=!0,h=ft,ls(i.type)?(Yd=h,ft=si(l.firstChild)):ft=h),tn(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=dA(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,Zt=i,ft=si(l.firstChild),ii=!1,h=!0):h=!1),h||Yr(i)),bi(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:_!==null&&Hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,xb,null,null,a),Hl._currentValue=h),bc(t,i),tn(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ft)&&(a=mA(a,i.pendingProps,ii),a!==null?(i.stateNode=a,Zt=i,ft=null,t=!0):t=!1),t||Yr(i)),null;case 13:return qy(t,i,a);case 4:return St(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ra(i,null,l,a):tn(t,i,l,a),i.child;case 11:return Vy(t,i,i.type,i.pendingProps,a);case 7:return tn(t,i,i.pendingProps,a),i.child;case 8:return tn(t,i,i.pendingProps.children,a),i.child;case 12:return tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,$r(i,i.type,l.value),tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ea(i),h=en(h),l=l(h),i.flags|=1,tn(t,i,l,a),i.child;case 14:return My(t,i,i.type,i.pendingProps,a);case 15:return ky(t,i,i.type,i.pendingProps,a);case 19:return Fy(t,i,a);case 31:return Pb(t,i,a);case 22:return Py(t,i,a,i.pendingProps);case 24:return ea(i),l=en(Mt),t===null?(h=Of(),h===null&&(h=ot,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Mf(i),$r(i,Mt,h)):((t.lanes&a)!==0&&(kf(t,i),bl(i,null,null,a),Sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),$r(i,Mt,l)):(l=d.cache,$r(i,Mt,l),l!==h.cache&&If(i,[Mt],a,!0))),tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hr(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(__())t.flags|=8192;else throw ia=lc,Vf}else t.flags&=-16777217}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(i))if(__())t.flags|=8192;else throw ia=lc,Vf}function wc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Pr():536870912,t.lanes|=i,ao|=i)}function Il(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ub(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),or(Mt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(i)?hr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),dt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(hr(i),d!==null?(dt(i),Ky(i,d)):(dt(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(hr(i),dt(i),Ky(i,d)):(dt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&hr(i),dt(i),gd(i,h,t,l,a)),null;case 27:if(Wi(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return dt(i),null}t=ue.current,Qa(i)?wg(i):(t=Z_(h,l,a),i.stateNode=t,hr(i))}return dt(i),null;case 5:if(Wi(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return dt(i),null}if(d=ue.current,Qa(i))wg(i);else{var _=zc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Rt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(nn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hr(i)}}return dt(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&hr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Qa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||Yr(i,!0)}else t=zc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return dt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(jn(i),i):(jn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(jn(i),i):(jn(i),null)}return jn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),dt(i),null);case 4:return at(),t===null&&Ud(i.stateNode.containerInfo),dt(i),null;case 10:return or(i.type),dt(i),null;case 19:if(J(xt),l=i.memoizedState,l===null)return dt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Il(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,Il(l,!1),t=d.updateQueue,i.updateQueue=t,wc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Eg(a,t),a=a.sibling;return oe(xt,xt.current&1|2),Fe&&sr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Nt()>Dc&&(i.flags|=128,h=!0,Il(l,!1),i.lanes=4194304)}else{if(!h)if(t=fc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,wc(i,t),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return dt(i),null}else 2*Nt()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,Il(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Nt(),t.sibling=null,a=xt.current,oe(xt,h?a&1|2:a&1),Fe&&sr(i,l.treeForkCount),t):(dt(i),null);case 22:case 23:return jn(i),jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),or(Mt),dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jb(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return or(Mt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Wi(i),null;case 31:if(i.memoizedState!==null){if(jn(i),i.alternate===null)throw Error(s(340));Js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(jn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(xt),null;case 4:return at(),null;case 10:return or(i.type),null;case 22:case 23:return jn(i),jf(),t!==null&&J(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return or(Mt),null;case 25:return null;default:return null}}function Qy(t,i){switch(Af(i),i.tag){case 3:or(Mt),at();break;case 26:case 27:case 5:Wi(i);break;case 4:at();break;case 31:i.memoizedState!==null&&jn(i);break;case 13:jn(i);break;case 19:J(xt);break;case 10:or(i.type);break;case 22:case 23:jn(i),jf(),t!==null&&J(ta);break;case 24:or(Mt)}}function Dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){tt(i,i.return,T)}}function ts(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,H=T;try{H()}catch(X){tt(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){tt(i,i.return,X)}}function Yy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ug(i,a)}catch(l){tt(t,t.return,l)}}}function $y(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function Nl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function zi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function Xy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;oA(l,t.type,a,i),l[Rt]=i}catch(h){tt(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ls(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ci));else if(l!==4&&(l===27&&ls(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function Rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ls(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,i,a),t=t.sibling;t!==null;)Rc(t,i,a),t=t.sibling}function Jy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nn(i,l,a),i[vt]=t,i[Rt]=a}catch(d){tt(t,t.return,d)}}var fr=!1,Lt=!1,Ed=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,$t=null;function zb(t,i){if(t=t.containerInfo,Bd=Qc,t=hg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(T=_),F===d&&++X===l&&(D=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Qc=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=aa(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){tt(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function e_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&Dl(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&Yy(a),l&512&&Nl(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ug(t,i)}catch(_){tt(a,a.return,_)}}break;case 27:i===null&&l&4&&Jy(a);case 26:case 5:mr(t,a),i===null&&l&4&&Xy(a),l&512&&Nl(a,a.return);break;case 12:mr(t,a);break;case 31:mr(t,a),l&4&&i_(t,a);break;case 13:mr(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$b.bind(null,a),pA(t,a))));break;case 22:if(l=a.memoizedState!==null||fr,!l){i=i!==null&&i.memoizedState!==null||Lt,h=fr;var d=Lt;fr=l,(Lt=i)&&!d?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),fr=h,Lt=d}break;case 30:break;default:mr(t,a)}}function t_(t){var i=t.alternate;i!==null&&(t.alternate=null,t_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Da(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,bn=!1;function dr(t,i,a){for(a=a.child;a!==null;)n_(t,i,a),a=a.sibling}function n_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 26:Lt||zi(a,i),dr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||zi(a,i);var l=yt,h=bn;ls(a.type)&&(yt=a.stateNode,bn=!1),dr(t,i,a),zl(a.stateNode),yt=l,bn=h;break;case 5:Lt||zi(a,i);case 6:if(l=yt,h=bn,yt=null,dr(t,i,a),yt=l,bn=h,yt!==null)if(bn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{yt.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:yt!==null&&(bn?(t=yt,Y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),po(t)):Y_(yt,a.stateNode));break;case 4:l=yt,h=bn,yt=a.stateNode.containerInfo,bn=!0,dr(t,i,a),yt=l,bn=h;break;case 0:case 11:case 14:case 15:ts(2,a,i),Lt||ts(4,a,i),dr(t,i,a);break;case 1:Lt||(zi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,i,l)),dr(t,i,a);break;case 21:dr(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,dr(t,i,a),Lt=l;break;default:dr(t,i,a)}}function i_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(a){tt(i,i.return,a)}}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(a){tt(i,i.return,a)}}function Bb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zy),i;default:throw Error(s(435,t.tag))}}function Cc(t,i){var a=Bb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Xb.bind(null,t,l);l.then(h,h)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ls(T.type)){yt=T.stateNode,bn=!1;break e}break;case 5:yt=T.stateNode,bn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(yt===null)throw Error(s(160));n_(d,_,h),yt=null,bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s_(i,t),i=i.sibling}var gi=null;function s_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),wn(t),l&4&&(ts(3,t,t.return),Dl(3,t),ts(5,t,t.return));break;case 1:An(i,t),wn(t),l&512&&(Lt||a===null||zi(a,a.return)),l&64&&fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=gi;if(An(i,t),wn(t),l&512&&(Lt||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ri]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,a),d[vt]=t,Ot(d),l=d;break e;case"link":var _=sv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=sv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Ot(d),l=d}t.stateNode=l}else av(h,t.type,t.stateNode);else t.stateNode=rv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(h,t.type,t.stateNode):rv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),wn(t),l&512&&(Lt||a===null||zi(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),wn(t),l&512&&(Lt||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(fe){tt(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(An(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){tt(t,t.return,fe)}}break;case 3:if(Hc=null,h=gi,gi=Bc(i.containerInfo),An(i,t),gi=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(fe){tt(t,t.return,fe)}Ed&&(Ed=!1,a_(t));break;case 4:l=gi,gi=Bc(t.stateNode.containerInfo),An(i,t),wn(t),gi=l;break;case 12:An(i,t),wn(t);break;case 31:An(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 13:An(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=Nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=fr,X=Lt;if(fr=H||h,Lt=X||D,An(i,t),Lt=X,fr=H,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||fr||Lt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){tt(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){tt(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var K=D.stateNode;h?$_(K,!0):$_(D.stateNode,!1)}catch(fe){tt(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(t,a))));break;case 19:An(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 30:break;case 21:break;default:An(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);Rc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var T=_d(t);Rc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,H=_d(t);vd(t,H,D);break;default:throw Error(s(161))}}catch(X){tt(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function a_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function mr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ts(4,i,i.return),oa(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$y(i,i.return,a),oa(i);break;case 27:zl(i.stateNode);case 26:case 5:zi(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:pr(h,d,a),Dl(4,d);break;case 1:if(pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){tt(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Lg(D[h],T)}catch(H){tt(l,l.return,H)}}a&&_&64&&Yy(d),Nl(d,d.return);break;case 27:Jy(d);case 26:case 5:pr(h,d,a),a&&l===null&&_&4&&Xy(d),Nl(d,d.return);break;case 12:pr(h,d,a);break;case 31:pr(h,d,a),a&&_&4&&i_(h,d);break;case 13:pr(h,d,a),a&&_&4&&r_(h,d);break;case 22:d.memoizedState===null&&pr(h,d,a),Nl(d,d.return);break;case 30:break;default:pr(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t))}function yi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o_(t,i,a,l),i=i.sibling}function o_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:yi(t,i,a,l),h&2048&&Dl(9,i);break;case 1:yi(t,i,a,l);break;case 3:yi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){yi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){tt(i,i.return,D)}}else yi(t,i,a,l);break;case 31:yi(t,i,a,l);break;case 13:yi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?yi(t,i,a,l):Ol(t,i):d._visibility&2?yi(t,i,a,l):(d._visibility|=2,io(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:yi(t,i,a,l),h&2048&&Sd(i.alternate,i);break;default:yi(t,i,a,l)}}function io(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:io(d,_,T,D,h),Dl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?io(d,_,T,D,h):Ol(d,_):(X._visibility|=2,io(d,_,T,D,h)),h&&H&2048&&Td(_.alternate,_);break;case 24:io(d,_,T,D,h),h&&H&2048&&Sd(_.alternate,_);break;default:io(d,_,T,D,h)}i=i.sibling}}function Ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&Td(l.alternate,l);break;case 24:Ol(a,l),h&2048&&Sd(l.alternate,l);break;default:Ol(a,l)}i=i.sibling}}var Vl=8192;function ro(t,i,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)l_(t,i,a),t=t.sibling}function l_(t,i,a){switch(t.tag){case 26:ro(t,i,a),t.flags&Vl&&t.memoizedState!==null&&CA(a,gi,t.memoizedState,t.memoizedProps);break;case 5:ro(t,i,a);break;case 3:case 4:var l=gi;gi=Bc(t.stateNode.containerInfo),ro(t,i,a),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,ro(t,i,a),Vl=l):ro(t,i,a));break;default:ro(t,i,a)}}function u_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,h_(l,t)}u_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&ts(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Ml(t);break;default:Ml(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,h_(l,t)}u_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ts(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function h_(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:ts(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,d=l.return;if(t_(l),l===a){$t=null;break e}if(h!==null){h.return=d,$t=h;break e}$t=d}}}var qb={getCacheForType:function(t){var i=en(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return en(Mt).controller.signal}},Hb=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Pe=null,je=0,et=0,zn=null,ns=!1,so=!1,bd=!1,gr=0,wt=0,is=0,la=0,Ad=0,Bn=0,ao=0,kl=null,Rn=null,wd=!1,Ic=0,f_=0,Dc=1/0,Nc=null,rs=null,Gt=0,ss=null,oo=null,yr=0,Rd=0,Cd=null,d_=null,Pl=0,xd=null;function qn(){return(We&2)!==0&&je!==0?je&-je:Q.T!==null?Md():wi()}function m_(){if(Bn===0)if((je&536870912)===0||Fe){var t=Zi;Zi<<=1,(Zi&3932160)===0&&(Zi=262144),Bn=t}else Bn=536870912;return t=Un.current,t!==null&&(t.flags|=32),Bn}function Cn(t,i,a){(t===ot&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(lo(t,0),as(t,je,Bn,!1)),z(t,a),((We&2)===0||t!==ot)&&(t===ot&&((We&2)===0&&(la|=a),wt===4&&as(t,je,Bn,!1)),Bi(t))}function p_(t,i,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||On(t,i),h=l?Kb(t,i):Dd(t,i,!0),d=l;do{if(h===0){so&&!l&&as(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Fb(a)){h=Dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=kl;var D=T.current.memoizedState.isDehydrated;if(D&&(lo(T,_).flags|=256),_=Dd(T,_,!1),_!==2){if(bd&&!D){T.errorRecoveryDisabledLanes|=d,la|=d,h=4;break e}d=Rn,Rn=h,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){lo(t,0),as(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(l,i,Bn,!ns);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ic+300-Nt(),10<h)){if(as(l,i,Bn,!ns),Nn(l,0,!0)!==0)break e;yr=i,l.timeoutHandle=K_(g_.bind(null,l,a,Rn,Nc,wd,i,Bn,la,ao,ns,d,"Throttled",-0,0),h);break e}g_(l,a,Rn,Nc,wd,i,Bn,la,ao,ns,d,null,-0,0)}}break}while(!0);Bi(t)}function g_(t,i,a,l,h,d,_,T,D,H,X,ee,F,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},l_(i,d,ee);var fe=(d&62914560)===d?Ic-Nt():(d&4194048)===d?f_-Nt():0;if(fe=xA(ee,fe),fe!==null){yr=d,t.cancelPendingCommit=fe(A_.bind(null,t,i,d,a,l,h,_,T,D,X,ee,null,F,K)),as(t,d,_,!H);return}}A_(t,i,d,a,l,h,_,T,D)}function Fb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(t,i,a,l){i&=~Ad,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-_t(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ve(t,a,i)}function Oc(){return(We&6)===0?(Ll(0),!1):!0}function Id(){if(Pe!==null){if(et===0)var t=Pe.return;else t=Pe,ar=Zs=null,Gf(t),Ja=null,vl=0,t=Pe;for(;t!==null;)Qy(t.alternate,t),t=t.return;Pe=null}}function lo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yr=0,Id(),ot=t,Pe=a=rr(t.current,null),je=i,et=0,zn=null,ns=!1,so=On(t,i),bd=!1,ao=Bn=Ad=la=is=wt=0,Rn=kl=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-_t(l),d=1<<h;i|=t[h],l&=~d}return gr=i,Zu(),a}function y_(t,i){Ne=null,Q.H=Cl,i===Wa||i===oc?(i=Vg(),et=3):i===Vf?(i=Vg(),et=4):et=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zn=i,Pe===null&&(wt=1,Tc(t,ei(i,t.current)))}function __(){var t=Un.current;return t===null?!0:(je&4194048)===je?ri===null:(je&62914560)===je||(je&536870912)!==0?t===ri:!1}function v_(){var t=Q.H;return Q.H=Cl,t===null?Cl:t}function E_(){var t=Q.A;return Q.A=qb,t}function Vc(){wt=4,ns||(je&4194048)!==je&&Un.current!==null||(so=!0),(is&134217727)===0&&(la&134217727)===0||ot===null||as(ot,je,Bn,!1)}function Dd(t,i,a){var l=We;We|=2;var h=v_(),d=E_();(ot!==t||je!==i)&&(Nc=null,lo(t,i)),i=!1;var _=wt;e:do try{if(et!==0&&Pe!==null){var T=Pe,D=zn;switch(et){case 8:Id(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var H=et;if(et=0,zn=null,uo(t,T,D,H),a&&so){_=0;break e}break;default:H=et,et=0,zn=null,uo(t,T,D,H)}}Gb(),_=wt;break}catch(X){y_(t,X)}while(!0);return i&&t.shellSuspendCounter++,ar=Zs=null,We=l,Q.H=h,Q.A=d,Pe===null&&(ot=null,je=0,Zu()),_}function Gb(){for(;Pe!==null;)T_(Pe)}function Kb(t,i){var a=We;We|=2;var l=v_(),h=E_();ot!==t||je!==i?(Nc=null,Dc=Nt()+500,lo(t,i)):so=On(t,i);e:do try{if(et!==0&&Pe!==null){i=Pe;var d=zn;t:switch(et){case 1:et=0,zn=null,uo(t,i,d,1);break;case 2:case 9:if(Ng(d)){et=0,zn=null,S_(i);break}i=function(){et!==2&&et!==9||ot!==t||(et=7),Bi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Ng(d)?(et=0,zn=null,S_(i)):(et=0,zn=null,uo(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var T=Pe;if(_?ov(_):T.stateNode.complete){et=0,zn=null;var D=T.sibling;if(D!==null)Pe=D;else{var H=T.return;H!==null?(Pe=H,Mc(H)):Pe=null}break t}}et=0,zn=null,uo(t,i,d,5);break;case 6:et=0,zn=null,uo(t,i,d,6);break;case 8:Id(),wt=6;break e;default:throw Error(s(462))}}Qb();break}catch(X){y_(t,X)}while(!0);return ar=Zs=null,Q.H=l,Q.A=h,We=a,Pe!==null?0:(ot=null,je=0,Zu(),wt)}function Qb(){for(;Pe!==null&&!Yo();)T_(Pe)}function T_(t){var i=Gy(t.alternate,t,gr);t.memoizedProps=t.pendingProps,i===null?Mc(t):Pe=i}function S_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=jy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=jy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Gf(i);default:Qy(a,i),i=Pe=Eg(i,gr),i=Gy(a,i,gr)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Pe=i}function uo(t,i,a,l){ar=Zs=null,Gf(i),Ja=null,vl=0;var h=i.return;try{if(kb(t,h,i,a,je)){wt=1,Tc(t,ei(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;wt=1,Tc(t,ei(a,t.current)),Pe=null;return}i.flags&32768?(Fe||l===1?t=!0:so||(je&536870912)!==0?t=!1:(ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){b_(i,ns);return}t=i.return;var a=Ub(i.alternate,i,gr);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);wt===0&&(wt=5)}function b_(t,i){do{var a=jb(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);wt=6,Pe=null}function A_(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do kc();while(Gt!==0);if((We&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,de(t,a,d,_,T,D),t===ot&&(Pe=ot=null,je=0),oo=i,ss=t,yr=a,Rd=d,Cd=h,d_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Wb(Qn,function(){return I_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ae.p,ae.p=2,_=We,We|=4;try{zb(t,i,a)}finally{We=_,ae.p=h,Q.T=l}}Gt=1,w_(),R_(),C_()}}function w_(){if(Gt===1){Gt=0;var t=ss,i=oo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=We;We|=4;try{s_(i,t);var d=qd,_=hg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&cg(T.ownerDocument.documentElement,T)){if(D!==null&&df(T)){var H=D.start,X=D.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),fe=T.textContent.length,_e=Math.min(D.start,fe),st=D.end===void 0?_e:Math.min(D.end,fe);!K.extend&&_e>st&&(_=st,st=_e,_e=_);var L=ug(T,_e),O=ug(T,st);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),_e>st?(K.addRange(q),K.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),K.addRange(q))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var W=ee[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Qc=!!Bd,qd=Bd=null}finally{We=h,ae.p=l,Q.T=a}}t.current=i,Gt=2}}function R_(){if(Gt===2){Gt=0;var t=ss,i=oo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=We;We|=4;try{e_(t,i.alternate,i)}finally{We=h,ae.p=l,Q.T=a}}Gt=3}}function C_(){if(Gt===4||Gt===3){Gt=0,Qt();var t=ss,i=oo,a=yr,l=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,oo=ss=null,x_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rs=null),un(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Dn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,ae.p=h}}(yr&3)!==0&&kc(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===xd?Pl++:(Pl=0,xd=t):Pl=0,Ll(0)}}function x_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yl(i)))}function kc(){return w_(),R_(),C_(),I_()}function I_(){if(Gt!==5)return!1;var t=ss,i=Rd;Rd=0;var a=un(yr),l=Q.T,h=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=Cd,Cd=null;var d=ss,_=yr;if(Gt=0,oo=ss=null,yr=0,(We&6)!==0)throw Error(s(331));var T=We;if(We|=4,c_(d.current),o_(d,d.current,_,a),We=T,Ll(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Dn,d)}catch{}return!0}finally{ae.p=h,Q.T=l,x_(t,i)}}function D_(t,i,a){i=ei(a,i),i=ad(t.stateNode,i,2),t=Jr(t,i,2),t!==null&&(z(t,2),Bi(t))}function tt(t,i,a){if(t.tag===3)D_(t,t,a);else for(;i!==null;){if(i.tag===3){D_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){t=ei(a,t),a=Ny(2),l=Jr(i,a,2),l!==null&&(Oy(a,l,i,t),z(l,2),Bi(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Hb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=Yb.bind(null,t,i,a),i.then(t,t))}function Yb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(je&a)===a&&(wt===4||wt===3&&(je&62914560)===je&&300>Nt()-Ic?(We&2)===0&&lo(t,0):Ad|=a,ao===je&&(ao=0)),Bi(t)}function N_(t,i){i===0&&(i=Pr()),t=Xs(t,i),t!==null&&(z(t,i),Bi(t))}function $b(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),N_(t,a)}function Xb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),N_(t,a)}function Wb(t,i){return pt(t,i)}var Pc=null,co=null,Od=!1,Lc=!1,Vd=!1,os=0;function Bi(t){t!==co&&t.next===null&&(co===null?Pc=co=t:co=co.next=t),Lc=!0,Od||(Od=!0,Zb())}function Ll(t,i){if(!Vd&&Lc){Vd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=je,d=Nn(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||On(l,d)||(a=!0,k_(l,d));l=l.next}while(a);Vd=!1}}function Jb(){O_()}function O_(){Lc=Od=!1;var t=0;os!==0&&uA()&&(t=os);for(var i=Nt(),a=null,l=Pc;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(co=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Gt!==0&&Gt!==5||Ll(t),os!==0&&(os=0)}function V_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-_t(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Ps(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=ot,a=je,a=Nn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&En(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&En(l),un(a)){case 2:case 8:a=Kn;break;case 32:a=Qn;break;case 268435456:a=wa;break;default:a=Qn}return l=M_.bind(null,t),a=pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&En(l),t.callbackPriority=2,t.callbackNode=null,2}function M_(t,i){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=je;return l=Nn(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(p_(t,l,i),V_(t,Nt()),t.callbackNode!=null&&t.callbackNode===a?M_.bind(null,t):null)}function k_(t,i){if(kc())return null;p_(t,i,!0)}function Zb(){hA(function(){(We&6)!==0?pt(Mr,Jb):O_()})}function Md(){if(os===0){var t=$a;t===0&&(t=pn,pn<<=1,(pn&261888)===0&&(pn=256)),os=t}return os}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ma(""+t)}function L_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function eA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Rt]||null).action),_=l.submitter;_&&(i=(i=_[Rt]||null)?P_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Mi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var D=_?L_(h,_):new FormData(h);ed(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?L_(h,_):new FormData(h),ed(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Pd=yf[kd],tA=Pd.toLowerCase(),nA=Pd[0].toUpperCase()+Pd.slice(1);pi(tA,"on"+nA)}pi(mg,"onAnimationEnd"),pi(pg,"onAnimationIteration"),pi(gg,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(_b,"onTransitionRun"),pi(vb,"onTransitionStart"),pi(Eb,"onTransitionCancel"),pi(yg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function U_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){Ju(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,H=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){Ju(X)}h.currentTarget=null,d=D}}}}function Le(t,i){var a=i[er];a===void 0&&(a=i[er]=new Set);var l=t+"__bubble";a.has(l)||(j_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),j_(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Uc]){t[Uc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(iA.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Ld("selectionchange",!1,i))}}function j_(t,i,a,l){switch(mv(i)){case 2:var h=NA;break;case 8:h=OA;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ci(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}qr(function(){var H=d,X=Xn(a),ee=[];e:{var F=_g.get(t);if(F!==void 0){var K=Mi,fe=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":K=$u;break;case"focusin":fe="focus",K=Ks;break;case"focusout":fe="blur",K=Ks;break;case"beforeblur":case"afterblur":K=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case mg:case pg:case gg:K=qu;break;case yg:K=b;break;case"scroll":case"scrollend":K=ll;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ir;break;case"toggle":case"beforetoggle":K=De}var _e=(i&4)!==0,st=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var O=H,q;O!==null;){var W=O;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||L===null||(W=hi(O,L),W!=null&&_e.push(jl(O,W,q))),st)break;O=O.return}0<_e.length&&(F=new K(F,fe,null,a,X),ee.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==sl&&(fe=a.relatedTarget||a.fromElement)&&(Ci(fe)||fe[Vn]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=H,fe=fe?Ci(fe):null,fe!==null&&(st=u(fe),_e=fe.tag,fe!==st||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(K=null,fe=H),K!==fe)){if(_e=ul,W="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ir,W="onPointerLeave",L="onPointerEnter",O="pointer"),st=K==null?F:Mn(K),q=fe==null?F:Mn(fe),F=new _e(W,O+"leave",K,a,X),F.target=st,F.relatedTarget=q,W=null,Ci(X)===H&&(_e=new _e(L,O+"enter",fe,a,X),_e.target=q,_e.relatedTarget=st,W=_e),st=W,K&&fe)t:{for(_e=rA,L=K,O=fe,q=0,W=L;W;W=_e(W))q++;W=0;for(var ge=O;ge;ge=_e(ge))W++;for(;0<q-W;)L=_e(L),q--;for(;0<W-q;)O=_e(O),W--;for(;q--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;K!==null&&z_(ee,F,K,_e,!1),fe!==null&&st!==null&&z_(ee,st,fe,_e,!0)}}e:{if(F=H?Mn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Qe=ig;else if(tg(F))if(rg)Qe=pb;else{Qe=db;var me=fb}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Va(H.elementType)&&(Qe=ig):Qe=mb;if(Qe&&(Qe=Qe(t,H))){ng(ee,Qe,a,X);break e}me&&me(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&nl(F,"number",F.value)}switch(me=H?Mn(H):window,t){case"focusin":(tg(me)||me.contentEditable==="true")&&(Ba=me,mf=H,ml=null);break;case"focusout":ml=mf=Ba=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,fg(ee,a,X);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":fg(ee,a,X)}var Oe;if(Xe)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else za?Qs(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Li&&a.locale!=="ko"&&(za||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&za&&(Oe=ol()):(Vi=X,al="value"in Vi?Vi.value:Vi.textContent,za=!0)),me=jc(H,ze),0<me.length&&(ze=new Pi(ze,t,null,a,X),ee.push({event:ze,listeners:me}),Oe?ze.data=Oe:(Oe=ja(a),Oe!==null&&(ze.data=Oe)))),(Oe=Jn?lb(t,a):ub(t,a))&&(ze=jc(H,"onBeforeInput"),0<ze.length&&(me=new Pi("onBeforeInput","beforeinput",null,a,X),ee.push({event:me,listeners:ze}),me.data=Oe)),eA(ee,t,H,a,X)}U_(ee,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hi(t,a),h!=null&&l.unshift(jl(t,h,d)),h=hi(t,i),h!=null&&l.push(jl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function rA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,h?(H=hi(a,d),H!=null&&_.unshift(jl(a,H,D))):h||(H=hi(a,d),H!=null&&_.push(jl(a,H,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var sA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(sA,`
`).replace(aA,"")}function q_(t,i){return i=B_(i),B_(t)===i}function rt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":rl(t,l,d);break;case"data":if(i!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&rt(t,i,"name",h.name,h,null),rt(t,i,"formEncType",h.formEncType,h,null),rt(t,i,"formMethod",h.formMethod,h,null),rt(t,i,"formTarget",h.formTarget,h,null)):(rt(t,i,"encType",h.encType,h,null),rt(t,i,"method",h.method,h,null),rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,Na(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":rl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Rt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Na(t,a,l)}}}function nn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,d,_,a,null)}}h&&rt(t,i,"srcSet",a.srcSet,a,null),l&&rt(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=d=_=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:rt(t,i,l,X,a,null)}}Pu(t,d,T,D,H,_,h,!1);return;case"select":Le("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:rt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ur(t,!!l,i,!1):a!=null&&Ur(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(t,i,_,T,a,null)}jr(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,i,D,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Le(Ul[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,H,l,a,null)}return;default:if(Va(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(t,i,T,l,a,null))}function oA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,H=null,X=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(K)||rt(t,i,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&rt(t,i,F,K,l,ee)}}Oa(t,_,T,D,H,X,d,h);return;case"select":K=_=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||rt(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&rt(t,i,h,d,l,D)}i=T,a=_,l=K,F!=null?Ur(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ur(t,!!a,i,!0):Ur(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&rt(t,i,_,h,l,d)}Lu(t,F,K);return;case"option":for(var fe in a)F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:rt(t,i,fe,null,l,F));for(D in l)F=l[D],K=a[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null)&&(D==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":rt(t,i,D,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&rt(t,i,_e,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:rt(t,i,H,F,l,K)}return;default:if(Va(i)){for(var st in a)F=a[st],a.hasOwnProperty(st)&&F!==void 0&&!l.hasOwnProperty(st)&&zd(t,i,st,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||zd(t,i,X,F,l,K);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&rt(t,i,L,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||rt(t,i,ee,F,l,K)}function H_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&H_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>T)break;var X=D.transferSize,ee=D.initiatorType;X&&H_(ee)&&(D=D.responseEnd,_+=X*(D<T?1:(T-H)/(D-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function F_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function uA(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(fA)}:K_;function fA(t){setTimeout(function(){throw t})}function ls(t){return t==="head"}function Y_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),po(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);po(i)}function $_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function mA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=si(t.nextSibling),t===null))return null;return t}function X_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=si(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function si(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return si(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function J_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Z_(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Da(t)}var ai=new Map,ev=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=ae.d;ae.d={f:gA,r:yA,D:_A,C:vA,L:EA,m:TA,X:bA,S:SA,M:AA};function gA(){var t=_r.f(),i=Oc();return t||i}function yA(t){var i=$n(t);i!==null&&i.tag===5&&i.type==="form"?yy(i):_r.r(t)}var ho=typeof document>"u"?null:document;function tv(t,i,a){var l=ho;if(l&&typeof i=="string"&&i){var h=Tn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nn(i,"link",t),Ot(i),l.head.appendChild(i)))}}function _A(t){_r.D(t),tv("dns-prefetch",t,null)}function vA(t,i){_r.C(t,i),tv("preconnect",t,i)}function EA(t,i,a){_r.L(t,i,a);var l=ho;if(l&&t&&i){var h='link[rel="preload"][as="'+Tn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tn(a.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var d=h;switch(i){case"style":d=fo(t);break;case"script":d=mo(t)}ai.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ai.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Bl(d))||i==="script"&&l.querySelector(ql(d))||(i=l.createElement("link"),nn(i,"link",t),Ot(i),l.head.appendChild(i)))}}function TA(t,i){_r.m(t,i);var a=ho;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!ai.has(d)&&(t=S({rel:"modulepreload",href:t},i),ai.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(d)))return}l=a.createElement("link"),nn(l,"link",t),Ot(l),a.head.appendChild(l)}}}function SA(t,i,a){_r.S(t,i,a);var l=ho;if(l&&t){var h=xi(l).hoistableStyles,d=fo(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Bl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ai.get(d))&&$d(t,a);var D=_=l.createElement("link");Ot(D),nn(D,"link",t),D._p=new Promise(function(H,X){D.onload=H,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function bA(t,i){_r.X(t,i);var a=ho;if(a&&t){var l=xi(a).hoistableScripts,h=mo(t),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(t=S({src:t,async:!0},i),(i=ai.get(h))&&Xd(t,i),d=a.createElement("script"),Ot(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function AA(t,i){_r.M(t,i);var a=ho;if(a&&t){var l=xi(a).hoistableScripts,h=mo(t),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=ai.get(h))&&Xd(t,i),d=a.createElement("script"),Ot(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nv(t,i,a,l){var h=(h=xe.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=xi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var d=xi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Bl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ai.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ai.set(t,a),d||wA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=xi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+Tn(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function wA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",a),Ot(i),t.head.appendChild(i))}function mo(t){return'[src="'+Tn(t)+'"]'}function ql(t){return"script[async]"+t}function rv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return i.instance=l,Ot(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),nn(l,"style",h),qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=fo(a.href);var d=t.querySelector(Bl(h));if(d)return i.state.loading|=4,i.instance=d,Ot(d),d;l=iv(a),(h=ai.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),Ot(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),nn(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=mo(a.src),(h=t.querySelector(ql(d)))?(i.instance=h,Ot(h),h):(l=a,(h=ai.get(d))&&(l=S({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),nn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function sv(t,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ri]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function av(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function RA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function CA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=fo(l.href),d=i.querySelector(Bl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ot(d);return}d=i.ownerDocument||i,l=iv(l),(h=ai.get(h))&&$d(l,h),d=d.createElement("link"),Ot(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),nn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function xA(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*lA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(IA,t),Gc=null,Fc.call(t))}function IA(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:se,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function DA(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function lv(t,i,a,l,h,d,_,T,D,H,X,ee){return t=new DA(t,i,a,_,D,H,X,ee,T),i=1,d===!0&&(i|=24),d=Ln(3,null,null,i),t.current=d,d.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Mf(d),t}function uv(t){return t?(t=Fa,t):Fa}function cv(t,i,a,l,h,d){h=uv(h),l.context===null?l.context=h:l.pendingContext=h,l=Wr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Jr(t,l,i),a!==null&&(Cn(a,t,i),Tl(a,t,i))}function hv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){hv(t,i),(t=t.alternate)&&hv(t,i)}function fv(t){if(t.tag===13||t.tag===31){var i=Xs(t,67108864);i!==null&&Cn(i,t,67108864),Jd(t,67108864)}}function dv(t){if(t.tag===13||t.tag===31){var i=qn();i=ln(i);var a=Xs(t,i);a!==null&&Cn(a,t,i),Jd(t,i)}}var Qc=!0;function NA(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,Zd(t,i,a,l)}finally{ae.p=d,Q.T=h}}function OA(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,Zd(t,i,a,l)}finally{ae.p=d,Q.T=h}}function Zd(t,i,a,l){if(Qc){var h=em(l);if(h===null)jd(t,i,l,Yc,a),pv(t,l);else if(MA(h,t,i,a,l))l.stopPropagation();else if(pv(t,l),i&4&&-1<VA.indexOf(t)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Yn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-_t(_);T.entanglements[1]|=D,_&=~D}Bi(d),(We&6)===0&&(Dc=Nt()+500,Ll(0))}}break;case 31:case 13:T=Xs(d,2),T!==null&&Cn(T,d,2),Oc(),Jd(d,2)}if(d=em(l),d===null&&jd(t,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function em(t){return t=Xn(t),tm(t)}var Yc=null;function tm(t){if(Yc=null,t=Ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Yc=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case Mr:return 2;case Kn:return 8;case Qn:case $o:return 32;case wa:return 268435456;default:return 32}default:return 32}}var nm=!1,us=null,cs=null,hs=null,Fl=new Map,Gl=new Map,fs=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,i){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function Kl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function MA(t,i,a,l,h){switch(i){case"focusin":return us=Kl(us,t,i,a,l,h),!0;case"dragenter":return cs=Kl(cs,t,i,a,l,h),!0;case"mouseover":return hs=Kl(hs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Fl.set(d,Kl(Fl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Gl.set(d,Kl(Gl.get(d)||null,t,i,a,l,h)),!0}return!1}function gv(t){var i=Ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Ft(t.priority,function(){dv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Ft(t.priority,function(){dv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);sl=l,a.target.dispatchEvent(l),sl=null}else return i=$n(a),i!==null&&fv(i),t.blockedOn=a,!1;i.shift()}return!0}function yv(t,i,a){$c(t)&&a.delete(i)}function kA(){nm=!1,us!==null&&$c(us)&&(us=null),cs!==null&&$c(cs)&&(cs=null),hs!==null&&$c(hs)&&(hs=null),Fl.forEach(yv),Gl.forEach(yv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var Wc=null;function _v(t){Wc!==t&&(Wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=$n(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function po(t){function i(D){return Xc(D,t)}us!==null&&Xc(us,t),cs!==null&&Xc(cs,t),hs!==null&&Xc(hs,t),Fl.forEach(i),Gl.forEach(i);for(var a=0;a<fs.length;a++){var l=fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fs.length&&(a=fs[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Rt]||null;if(typeof d=="function")_||_v(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Rt]||null)T=_.formAction;else if(tm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),_v(a)}}}function vv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Jc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=qn();cv(a,l,t,i,null,null)},Jc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;cv(t.current,2,null,t,null,null),Oc(),i[Vn]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<fs.length&&i!==0&&i<fs[a].priority;a++);fs.splice(a,0,t),a===0&&gv(t)}};var Ev=e.version;if(Ev!=="19.2.3")throw Error(s(527,Ev,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var PA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Dn=Zc.inject(PA),Ht=Zc}catch{}}return Yl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Cy,d=xy,_=Iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=lv(t,1,!1,null,null,a,l,null,h,d,_,vv),t[Vn]=i.current,Ud(t),new im(i)},Yl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Cy,_=xy,T=Iy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=lv(t,1,!0,i,a??null,l,h,D,d,_,T,vv),i.context=uv(null),a=i.current,l=qn(),l=ln(l),h=Wr(l),h.callback=null,Jr(a,h,l),a=l,i.current.lanes=a,z(i,a),Bi(i),t[Vn]=i.current,Ud(t),new Jc(i)},Yl.version="19.2.3",Yl}var Dv;function KA(){if(Dv)return am.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=GA(),am.exports}var QA=KA();var Nv="popstate";function YA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return wm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:cu(o)}return XA(e,n,null,r)}function Et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $A(){return Math.random().toString(36).substring(2,10)}function Ov(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:n,key:e&&e.key||s||$A()}}function cu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function XA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let Y=E(),ie=Y==null?null:Y-y;y=Y,g&&g({action:m,location:$.location,delta:ie})}function w(Y,ie){m="PUSH";let ne=wm($.location,Y,ie);y=E()+1;let se=Ov(ne,y),we=$.createHref(ne);try{f.pushState(se,"",we)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(we)}u&&g&&g({action:m,location:$.location,delta:1})}function U(Y,ie){m="REPLACE";let ne=wm($.location,Y,ie);y=E();let se=Ov(ne,y),we=$.createHref(ne);f.replaceState(se,"",we),u&&g&&g({action:m,location:$.location,delta:0})}function k(Y){return WA(Y)}let $={get action(){return m},get location(){return r(o,f)},listen(Y){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,S),g=Y,()=>{o.removeEventListener(Nv,S),g=null}},createHref(Y){return e(o,Y)},createURL:k,encodeLocation(Y){let ie=k(Y);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:U,go(Y){return f.go(Y)}};return $}function WA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dT(r,e,n="/"){return JA(r,e,n,!1)}function JA(r,e,n,s){let o=typeof e=="string"?Po(e):e,u=wr(o.pathname||"/",n);if(u==null)return null;let f=mT(r);ZA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=c1(u);m=l1(f[g],y,s)}return m}function mT(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;Et(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Sr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(Et(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),mT(f.children,e,w,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:a1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of pT(f.path))u(f,m,!0,g)}),e}function pT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function ZA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:o1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var e1=/^:[\w-]+$/,t1=3,n1=2,i1=1,r1=10,s1=-2,Vv=r=>r==="*";function a1(r,e){let n=r.split("/"),s=n.length;return n.some(Vv)&&(s+=s1),e&&(s+=n1),n.filter(o=>!Vv(o)).reduce((o,u)=>o+(e1.test(u)?t1:u===""?i1:r1),s)}function o1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function l1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Sr([u,S.pathname]),pathnameBase:m1(Sr([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Sr([u,S.pathnameBase]))}return f}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=u1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let k=m[w]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const U=m[w];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function u1(r,e=!1,n=!0){Yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function c1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function f1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Po(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Mv(n.substring(1),"/"):u=Mv(n,e)):u=e,{pathname:u,search:p1(s),hash:g1(o)}}function Mv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gT(r){let e=d1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yT(r,e,n,s=!1){let o;typeof r=="string"?o=Po(r):(o={...r},Et(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let g=f1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Sr=r=>r.join("/").replace(/\/\/+/g,"/"),m1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,g1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,y1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function v1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vT(r,e){let n=r;if(typeof n!="string"||!h1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(_T)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=wr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Yi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var E1=["GET",...ET];new Set(E1);var Lo=j.createContext(null);Lo.displayName="DataRouter";var Bh=j.createContext(null);Bh.displayName="DataRouterState";var T1=j.createContext(!1),TT=j.createContext({isTransitioning:!1});TT.displayName="ViewTransition";var S1=j.createContext(new Map);S1.displayName="Fetchers";var b1=j.createContext(null);b1.displayName="Await";var ui=j.createContext(null);ui.displayName="Navigation";var Eu=j.createContext(null);Eu.displayName="Location";var Xi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var rp=j.createContext(null);rp.displayName="RouteError";var ST="REACT_ROUTER_ERROR",A1="REDIRECT",w1="ROUTE_ERROR_RESPONSE";function R1(r){if(r.startsWith(`${ST}:${A1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function C1(r){if(r.startsWith(`${ST}:${w1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new y1(e.status,e.statusText,e.data)}catch{}}function x1(r,{relative:e}={}){Et(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ui),{hash:o,pathname:u,search:f}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Tu(){return j.useContext(Eu)!=null}function Ea(){return Et(Tu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Eu).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(r){j.useContext(ui).static||j.useLayoutEffect(r)}function I1(){let{isDataRoute:r}=j.useContext(Xi);return r?H1():D1()}function D1(){Et(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Lo),{basename:e,navigator:n}=j.useContext(ui),{matches:s}=j.useContext(Xi),{pathname:o}=Ea(),u=JSON.stringify(gT(s)),f=j.useRef(!1);return AT(()=>{f.current=!0}),j.useCallback((g,y={})=>{if(Yi(f.current,bT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=yT(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Sr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}j.createContext(null);function N1(){let{matches:r}=j.useContext(Xi),e=r[r.length-1];return e?e.params:{}}function Su(r,{relative:e}={}){let{matches:n}=j.useContext(Xi),{pathname:s}=Ea(),o=JSON.stringify(gT(n));return j.useMemo(()=>yT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function O1(r,e){return wT(r,e)}function wT(r,e,n,s,o){Et(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(ui),{matches:f}=j.useContext(Xi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";CT(y,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=Ea(),U;if(e){let ne=typeof e=="string"?Po(e):e;Et(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),U=ne}else U=w;let k=U.pathname||"/",$=k;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(ne.length).join("/")}let Y=dT(r,{pathname:$});Yi(S||Y!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Yi(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=L1(Y&&Y.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:Sr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:Sr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&ie?j.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},ie):ie}function V1(){let r=q1(),e=_1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var M1=j.createElement(V1,null),RT=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=C1(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(Xi.Provider,{value:this.props.routeContext},j.createElement(rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(k1,{error:r},e):e}};RT.contextType=T1;var hm=new WeakMap;function k1({children:r,error:e}){let{basename:n}=j.useContext(ui);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=R1(e.digest);if(s){let o=hm.get(e);if(o)throw o;let u=vT(s.location,n);if(_T&&!hm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw hm.set(e,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function P1({routeContext:r,match:e,children:n}){let s=j.useContext(Lo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Xi.Provider,{value:r},n)}function L1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);Et(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:U}=n,k=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!U||U[S.route.id]===void 0);if(S.route.lazy||k){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:v1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let U,k=!1,$=null,Y=null;n&&(U=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||M1,m&&(g<0&&w===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Y=null):g===w&&(k=!0,Y=S.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,w+1)),ne=()=>{let se;return U?se=$:k?se=Y:S.route.Component?se=j.createElement(S.route.Component,null):S.route.element?se=S.route.element:se=E,j.createElement(P1,{match:S,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:se})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?j.createElement(RT,{location:n.location,revalidation:n.revalidation,component:$,error:U,children:ne(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):ne()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(r){let e=j.useContext(Lo);return Et(e,sp(r)),e}function j1(r){let e=j.useContext(Bh);return Et(e,sp(r)),e}function z1(r){let e=j.useContext(Xi);return Et(e,sp(r)),e}function ap(r){let e=z1(r),n=e.matches[e.matches.length-1];return Et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function B1(){return ap("useRouteId")}function q1(){let r=j.useContext(rp),e=j1("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function H1(){let{router:r}=U1("useNavigate"),e=ap("useNavigate"),n=j.useRef(!1);return AT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Yi(n.current,bT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var kv={};function CT(r,e,n){!e&&!kv[r]&&(kv[r]=!0,Yi(!1,n))}j.memo(F1);function F1({routes:r,future:e,state:n,onError:s}){return wT(r,void 0,n,s,e)}function lh(r){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Et(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Po(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:U="default"}=n,k=j.useMemo(()=>{let $=wr(y,m);return $==null?null:{location:{pathname:$,search:E,hash:S,state:w,key:U},navigationType:s}},[m,y,E,S,w,U,s]);return Yi(k!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(ui.Provider,{value:g},j.createElement(Eu.Provider,{children:e,value:k}))}function K1({children:r,location:e}){return O1(Rm(r),e)}function Rm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Rm(s.props.children,u));return}Et(s.type===lh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var uh="get",ch="application/x-www-form-urlencoded";function qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Q1(r){return qh(r)&&r.tagName.toLowerCase()==="button"}function Y1(r){return qh(r)&&r.tagName.toLowerCase()==="form"}function $1(r){return qh(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function W1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}var eh=null;function J1(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(r){return r!=null&&!Z1.has(r)?(Yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):r}function ew(r,e){let n,s,o,u,f;if(Y1(r)){let m=r.getAttribute("action");s=m?wr(m,e):null,n=r.getAttribute("method")||uh,o=fm(r.getAttribute("enctype"))||ch,u=new FormData(r)}else if(Q1(r)||$1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?wr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||uh,o=fm(r.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||ch,u=new FormData(m,r),!J1()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,s=null,o=ch,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&wr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function nw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await nw(u,n);return f.links?f.links():[]}return[]}));return lw(s.flat(1).filter(iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sw(r,e,{includeHydrateFallback:n}={}){return aw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aw(r){return[...new Set(r)]}function ow(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function lw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function xT(){let r=j.useContext(Lo);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uw(){let r=j.useContext(Bh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=j.createContext(void 0);lp.displayName="FrameworkContext";function IT(){let r=j.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function cw(r,e){let n=j.useContext(lp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ie=>{ie.forEach(ne=>{f(ne.isIntersecting)})},Y=new IntersectionObserver($,{threshold:.5});return w.current&&Y.observe(w.current),()=>{Y.disconnect()}}},[r]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let U=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(m,U),onBlur:$l(g,k),onMouseEnter:$l(y,U),onMouseLeave:$l(E,k),onTouchStart:$l(S,U)}]:[!1,w,{}]}function $l(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function hw({page:r,...e}){let{router:n}=xT(),s=j.useMemo(()=>dT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(dw,{page:r,matches:s,...e}):null}function fw(r){let{manifest:e,routeModules:n}=IT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return rw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function dw({page:r,matches:e,...n}){let s=Ea(),{future:o,manifest:u,routeModules:f}=IT(),{basename:m}=xT(),{loaderData:g,matches:y}=uw(),E=j.useMemo(()=>Pv(r,e,y,u,s,"data"),[r,e,y,u,s]),S=j.useMemo(()=>Pv(r,e,y,u,s,"assets"),[r,e,y,u,s]),w=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,Y=!1;if(e.forEach(ne=>{let se=u.routes[ne.route.id];!se||!se.hasLoader||(!E.some(we=>we.route.id===ne.route.id)&&ne.route.id in g&&f[ne.route.id]?.shouldRevalidate||se.hasClientLoader?Y=!0:$.add(ne.route.id))}),$.size===0)return[];let ie=tw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Y&&$.size>0&&ie.searchParams.set("_routes",e.filter(ne=>$.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),U=j.useMemo(()=>sw(S,u),[S,u]),k=fw(S);return j.createElement(j.Fragment,null,w.map($=>j.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),U.map($=>j.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),k.map(({key:$,link:Y})=>j.createElement("link",{key:$,nonce:n.nonce,...Y,crossOrigin:Y.crossOrigin??n.crossOrigin})))}function mw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pw&&(window.__reactRouterVersion="7.13.0")}catch{}function gw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=YA({window:s,v5Compat:!0}));let u=o.current,[f,m]=j.useState({action:u.action,location:u.location}),g=j.useCallback(y=>{n===!1?m(y):j.startTransition(()=>m(y))},[n]);return j.useLayoutEffect(()=>u.listen(g),[u,g]),j.createElement(G1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...U},k){let{basename:$,unstable_useTransitions:Y}=j.useContext(ui),ie=typeof y=="string"&&DT.test(y),ne=vT(y,$);y=ne.to;let se=x1(y,{relative:o}),[we,be,Ee]=cw(s,U),I=Ew(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:Y});function C(M){e&&e(M),M.defaultPrevented||I(M)}let x=j.createElement("a",{...U,...Ee,href:ne.absoluteURL||se,onClick:ne.isExternal||u?e:C,ref:mw(k,be),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return we&&!ie?j.createElement(j.Fragment,null,x,j.createElement(hw,{page:se})):x});fa.displayName="Link";var yw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=Su(f,{relative:y.relative}),w=Ea(),U=j.useContext(Bh),{navigator:k,basename:$}=j.useContext(ui),Y=U!=null&&ww(S)&&m===!0,ie=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,ne=w.pathname,se=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,ie=ie.toLowerCase()),se&&$&&(se=wr(se,$)||se);const we=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let be=ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(we)==="/",Ee=se!=null&&(se===ie||!o&&se.startsWith(ie)&&se.charAt(ie.length)==="/"),I={isActive:be,isPending:Ee,isTransitioning:Y},C=be?e:void 0,x;typeof s=="function"?x=s(I):x=[s,be?"active":null,Ee?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return j.createElement(fa,{...y,"aria-current":C,className:x,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(I):g)});yw.displayName="NavLink";var _w=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=uh,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...U},k)=>{let{unstable_useTransitions:$}=j.useContext(ui),Y=bw(),ie=Aw(m,{relative:y}),ne=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&DT.test(m),we=be=>{if(g&&g(be),be.defaultPrevented)return;be.preventDefault();let Ee=be.nativeEvent.submitter,I=Ee?.getAttribute("formmethod")||f,C=()=>Y(Ee||be.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});$&&n!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:k,method:ne,action:ie,onSubmit:s?g:we,...U,"data-discover":!se&&r==="render"?"true":void 0})});_w.displayName="Form";function vw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(r){let e=j.useContext(Lo);return Et(e,vw(r)),e}function Ew(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=I1(),E=Ea(),S=Su(r,{relative:u});return j.useCallback(w=>{if(W1(w,e)){w.preventDefault();let U=n!==void 0?n:cu(E)===cu(S),k=()=>y(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>k()):k()}},[E,y,S,n,s,e,r,o,u,f,m,g])}var Tw=0,Sw=()=>`__${String(++Tw)}__`;function bw(){let{router:r}=NT("useSubmit"),{basename:e}=j.useContext(ui),n=B1(),s=r.fetch,o=r.navigate;return j.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=ew(u,e);if(f.navigate===!1){let w=f.fetcherKey||Sw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Aw(r,{relative:e}={}){let{basename:n}=j.useContext(ui),s=j.useContext(Xi);Et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},f=Ea();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Sr([n,u.pathname])),cu(u)}function ww(r,{relative:e}={}){let n=j.useContext(TT);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=NT("useViewTransitionState"),o=Su(r,{relative:e});if(!n.isTransitioning)return!1;let u=wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Th(o.pathname,f)!=null||Th(o.pathname,u)!=null}const Rw=()=>{};var Lv={};const OT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,U=y&63;g||(U=64,f||(w=64)),s.push(n[E],n[S],n[w],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(OT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Cw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new xw;const w=u<<2|m>>4;if(s.push(w),y!==64){const U=m<<4&240|y>>2;if(s.push(U),S!==64){const k=y<<6&192|S;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iw=function(r){const e=OT(r);return VT.encodeByteArray(e,!0)},Sh=function(r){return Iw(r).replace(/\./g,"")},MT=function(r){try{return VT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nw=()=>Dw().__FIREBASE_DEFAULTS__,Ow=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Vw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&MT(r[1]);return e&&JSON.parse(e)},Hh=()=>{try{return Rw()||Nw()||Ow()||Vw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kT=r=>Hh()?.emulatorHosts?.[r],Mw=r=>{const e=kT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PT=()=>Hh()?.config,LT=r=>Hh()?.[`_${r}`];class kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UT(r){return(await fetch(r,{credentials:"include"})).ok}function Pw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const ru={};function Lw(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function Uw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Uv=!1;function jT(r,e){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||ru[r]===e||ru[r]||Uv)return;ru[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Lw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,U){w.setAttribute("width","24"),w.setAttribute("id",U),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Uv=!0,f()},w}function E(w,U){w.setAttribute("id",U),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Uw(s),U=n("text"),k=document.getElementById(U)||document.createElement("span"),$=n("learnmore"),Y=document.getElementById($)||document.createElement("a"),ie=n("preprendIcon"),ne=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;m(se),E(Y,$);const we=y();g(ne,ie),se.append(ne,k,Y,we),document.body.appendChild(se)}u?(k.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function zw(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fw(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Gw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Yw="FirebaseError";class Nr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Yw,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$w(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Nr(o,m,s)}}function $w(r,e){return r.replace(Xw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Xw=/\{\$([^}]+)}/g;function Ww(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(jv(u)&&jv(f)){if(!ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}function Au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Jw(r,e){const n=new Zw(r,e);return n.subscribe.bind(n)}class Zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}function Wt(r){return r&&r._delegate?r._delegate:r}class ma{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(r){return r===ua?void 0:r}function iR(r){return r.instantiationMode==="EAGER"}class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const sR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},aR=Be.INFO,oR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},lR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=oR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const uR=(r,e)=>e.some(n=>r instanceof n);let zv,Bv;function cR(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,Cm=new WeakMap,BT=new WeakMap,mm=new WeakMap,cp=new WeakMap;function fR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zT.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function dR(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,e)}let xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||BT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mR(r){xm=r(xm)}function pR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pm(this),e,...n);return BT.set(s,e.sort?e.sort():[e]),Es(s)}:hR().includes(r)?function(...e){return r.apply(pm(this),e),Es(zT.get(this))}:function(...e){return Es(r.apply(pm(this),e))}}function gR(r){return typeof r=="function"?pR(r):(r instanceof IDBTransaction&&dR(r),uR(r,cR())?new Proxy(r,xm):r)}function Es(r){if(r instanceof IDBRequest)return fR(r);if(mm.has(r))return mm.get(r);const e=gR(r);return e!==r&&(mm.set(r,e),cp.set(e,r)),e}const pm=r=>cp.get(r);function yR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Es(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Es(f.result),g.oldVersion,g.newVersion,Es(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const _R=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],gm=new Map;function qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_R.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return gm.set(e,u),u}mR(r=>({...r,get:(e,n,s)=>qv(e,n)||r.get(e,n,s),has:(e,n)=>!!qv(e,n)||r.has(e,n)}));class ER{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TR(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",Hv="0.14.7";const Rr=new up("@firebase/app"),SR="@firebase/app-compat",bR="@firebase/analytics-compat",AR="@firebase/analytics",wR="@firebase/app-check-compat",RR="@firebase/app-check",CR="@firebase/auth",xR="@firebase/auth-compat",IR="@firebase/database",DR="@firebase/data-connect",NR="@firebase/database-compat",OR="@firebase/functions",VR="@firebase/functions-compat",MR="@firebase/installations",kR="@firebase/installations-compat",PR="@firebase/messaging",LR="@firebase/messaging-compat",UR="@firebase/performance",jR="@firebase/performance-compat",zR="@firebase/remote-config",BR="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",FR="@firebase/firestore",GR="@firebase/ai",KR="@firebase/firestore-compat",QR="firebase",YR="12.8.0";const Dm="[DEFAULT]",$R={[Im]:"fire-core",[SR]:"fire-core-compat",[AR]:"fire-analytics",[bR]:"fire-analytics-compat",[RR]:"fire-app-check",[wR]:"fire-app-check-compat",[CR]:"fire-auth",[xR]:"fire-auth-compat",[IR]:"fire-rtdb",[DR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[OR]:"fire-fn",[VR]:"fire-fn-compat",[MR]:"fire-iid",[kR]:"fire-iid-compat",[PR]:"fire-fcm",[LR]:"fire-fcm-compat",[UR]:"fire-perf",[jR]:"fire-perf-compat",[zR]:"fire-rc",[BR]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[FR]:"fire-fst",[KR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};const bh=new Map,XR=new Map,Nm=new Map;function Fv(r,e){try{r.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function xo(r){const e=r.name;if(Nm.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of bh.values())Fv(n,r);for(const n of XR.values())Fv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function oi(r){return r==null?!1:r.settings!==void 0}const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new bu("app","Firebase",WR);class JR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}const jo=YR;function qT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(n||(n=PT()),!n)throw Ts.create("no-options");const u=bh.get(o);if(u){if(ws(n,u.options)&&ws(s,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const f=new rR(o);for(const g of Nm.values())f.addComponent(g);const m=new JR(n,s,f);return bh.set(o,m),m}function HT(r=Dm){const e=bh.get(r);if(!e&&r===Dm&&PT())return qT();if(!e)throw Ts.create("no-app",{appName:r});return e}function Ss(r,e,n){let s=$R[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(f.join(" "));return}xo(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const ZR="firebase-heartbeat-database",eC=1,hu="firebase-heartbeat-store";let ym=null;function FT(){return ym||(ym=yR(ZR,eC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),ym}async function tC(r){try{const n=(await FT()).transaction(hu),s=await n.objectStore(hu).get(GT(r));return await n.done,s}catch(e){if(e instanceof Nr)Rr.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(n.message)}}}async function Gv(r,e){try{const s=(await FT()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,GT(r)),await s.done}catch(n){if(n instanceof Nr)Rr.warn(n.message);else{const s=Ts.create("idb-set",{originalErrorMessage:n?.message});Rr.warn(s.message)}}}function GT(r){return`${r.name}!${r.options.appId}`}const nC=1024,iC=30;class rC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>iC){const o=oC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kv(),{heartbeatsToSend:n,unsentEntries:s}=sC(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function sC(r,e=nC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function oC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function lC(r){xo(new ma("platform-logger",e=>new ER(e),"PRIVATE")),xo(new ma("heartbeat",e=>new rC(e),"PRIVATE")),Ss(Im,Hv,r),Ss(Im,Hv,"esm2020"),Ss("fire-js","")}lC("");var uC="firebase",cC="12.8.0";Ss(uC,cC,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bs,KT;(function(){var r;function e(I,C){function x(){}x.prototype=C.prototype,I.F=C.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(M,N,P){for(var R=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)R[Ie-2]=arguments[Ie];return C.prototype[N].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,x){x||(x=0);const M=Array(16);if(typeof C=="string")for(var N=0;N<16;++N)M[N]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(N=0;N<16;++N)M[N]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=I.g[0],x=I.g[1],N=I.g[2];let P=I.g[3],R;R=C+(P^x&(N^P))+M[0]+3614090360&4294967295,C=x+(R<<7&4294967295|R>>>25),R=P+(N^C&(x^N))+M[1]+3905402710&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(x^P&(C^x))+M[2]+606105819&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(C^N&(P^C))+M[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=C+(P^x&(N^P))+M[4]+4118548399&4294967295,C=x+(R<<7&4294967295|R>>>25),R=P+(N^C&(x^N))+M[5]+1200080426&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(x^P&(C^x))+M[6]+2821735955&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(C^N&(P^C))+M[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=C+(P^x&(N^P))+M[8]+1770035416&4294967295,C=x+(R<<7&4294967295|R>>>25),R=P+(N^C&(x^N))+M[9]+2336552879&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(x^P&(C^x))+M[10]+4294925233&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(C^N&(P^C))+M[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=C+(P^x&(N^P))+M[12]+1804603682&4294967295,C=x+(R<<7&4294967295|R>>>25),R=P+(N^C&(x^N))+M[13]+4254626195&4294967295,P=C+(R<<12&4294967295|R>>>20),R=N+(x^P&(C^x))+M[14]+2792965006&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(C^N&(P^C))+M[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=C+(N^P&(x^N))+M[1]+4129170786&4294967295,C=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(C^x))+M[6]+3225465664&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^x&(P^C))+M[11]+643717713&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^C&(N^P))+M[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=C+(N^P&(x^N))+M[5]+3593408605&4294967295,C=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(C^x))+M[10]+38016083&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^x&(P^C))+M[15]+3634488961&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^C&(N^P))+M[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=C+(N^P&(x^N))+M[9]+568446438&4294967295,C=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(C^x))+M[14]+3275163606&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^x&(P^C))+M[3]+4107603335&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^C&(N^P))+M[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=C+(N^P&(x^N))+M[13]+2850285829&4294967295,C=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(C^x))+M[2]+4243563512&4294967295,P=C+(R<<9&4294967295|R>>>23),R=N+(C^x&(P^C))+M[7]+1735328473&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^C&(N^P))+M[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=C+(x^N^P)+M[5]+4294588738&4294967295,C=x+(R<<4&4294967295|R>>>28),R=P+(C^x^N)+M[8]+2272392833&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^x)+M[11]+1839030562&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^C)+M[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=C+(x^N^P)+M[1]+2763975236&4294967295,C=x+(R<<4&4294967295|R>>>28),R=P+(C^x^N)+M[4]+1272893353&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^x)+M[7]+4139469664&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^C)+M[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=C+(x^N^P)+M[13]+681279174&4294967295,C=x+(R<<4&4294967295|R>>>28),R=P+(C^x^N)+M[0]+3936430074&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^x)+M[3]+3572445317&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^C)+M[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=C+(x^N^P)+M[9]+3654602809&4294967295,C=x+(R<<4&4294967295|R>>>28),R=P+(C^x^N)+M[12]+3873151461&4294967295,P=C+(R<<11&4294967295|R>>>21),R=N+(P^C^x)+M[15]+530742520&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^C)+M[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=C+(N^(x|~P))+M[0]+4096336452&4294967295,C=x+(R<<6&4294967295|R>>>26),R=P+(x^(C|~N))+M[7]+1126891415&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~x))+M[14]+2878612391&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~C))+M[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=C+(N^(x|~P))+M[12]+1700485571&4294967295,C=x+(R<<6&4294967295|R>>>26),R=P+(x^(C|~N))+M[3]+2399980690&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~x))+M[10]+4293915773&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~C))+M[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=C+(N^(x|~P))+M[8]+1873313359&4294967295,C=x+(R<<6&4294967295|R>>>26),R=P+(x^(C|~N))+M[15]+4264355552&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~x))+M[6]+2734768916&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~C))+M[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=C+(N^(x|~P))+M[4]+4149444226&4294967295,C=x+(R<<6&4294967295|R>>>26),R=P+(x^(C|~N))+M[11]+3174756917&4294967295,P=C+(R<<10&4294967295|R>>>22),R=N+(C^(P|~x))+M[2]+718787259&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~C))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const x=C-this.blockSize,M=this.C;let N=this.h,P=0;for(;P<C;){if(N==0)for(;P<=x;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<C;)if(M[N++]=I.charCodeAt(P++),N==this.blockSize){o(this,M),N=0;break}}else for(;P<C;)if(M[N++]=I[P++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)I[C++]=this.g[x]>>>M&255;return I};function u(I,C){var x=m;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=C(I)}function f(I,C){this.h=C;const x=[];let M=!0;for(let N=I.length-1;N>=0;N--){const P=I[N]|0;M&&P==C||(x[N]=P,M=!1)}this.g=x}var m={};function g(I){return-128<=I&&I<128?u(I,function(C){return new f([C|0],C<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Y(y(-I));const C=[];let x=1;for(let M=0;I>=x;M++)C[M]=I/x|0,x*=4294967296;return new f(C,0)}function E(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return Y(E(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(C,8));let M=S;for(let P=0;P<I.length;P+=8){var N=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+N),C);N<8?(N=y(Math.pow(C,N)),M=M.j(N).add(y(R))):(M=M.j(x),M=M.add(y(R)))}return M}var S=g(0),w=g(1),U=g(16777216);r=f.prototype,r.m=function(){if($(this))return-Y(this).m();let I=0,C=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);I+=(M>=0?M:4294967296+M)*C,C*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if($(this))return"-"+Y(this).toString(I);const C=y(Math.pow(I,6));var x=this;let M="";for(;;){const N=we(x,C).g;x=ie(x,N.j(C));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,k(x))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function $(I){return I.h==-1}r.l=function(I){return I=ie(this,I),$(I)?-1:k(I)?0:1};function Y(I){const C=I.g.length,x=[];for(let M=0;M<C;M++)x[M]=~I.g[M];return new f(x,~I.h).add(w)}r.abs=function(){return $(this)?Y(this):this},r.add=function(I){const C=Math.max(this.g.length,I.g.length),x=[];let M=0;for(let N=0;N<=C;N++){let P=M+(this.i(N)&65535)+(I.i(N)&65535),R=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,P&=65535,R&=65535,x[N]=R<<16|P}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ie(I,C){return I.add(Y(C))}r.j=function(I){if(k(this)||k(I))return S;if($(this))return $(I)?Y(this).j(Y(I)):Y(Y(this).j(I));if($(I))return Y(this.j(Y(I)));if(this.l(U)<0&&I.l(U)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,x=[];for(var M=0;M<2*C;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const P=this.i(M)>>>16,R=this.i(M)&65535,Ie=I.i(N)>>>16,Me=I.i(N)&65535;x[2*M+2*N]+=R*Me,ne(x,2*M+2*N),x[2*M+2*N+1]+=P*Me,ne(x,2*M+2*N+1),x[2*M+2*N+1]+=R*Ie,ne(x,2*M+2*N+1),x[2*M+2*N+2]+=P*Ie,ne(x,2*M+2*N+2)}for(I=0;I<C;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=C;I<2*C;I++)x[I]=0;return new f(x,0)};function ne(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function se(I,C){this.g=I,this.h=C}function we(I,C){if(k(C))throw Error("division by zero");if(k(I))return new se(S,S);if($(I))return C=we(Y(I),C),new se(Y(C.g),Y(C.h));if($(C))return C=we(I,Y(C)),new se(Y(C.g),C.h);if(I.g.length>30){if($(I)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var x=w,M=C;M.l(I)<=0;)x=be(x),M=be(M);var N=Ee(x,1),P=Ee(M,1);for(M=Ee(M,2),x=Ee(x,2);!k(M);){var R=P.add(M);R.l(I)<=0&&(N=N.add(x),P=R),M=Ee(M,1),x=Ee(x,1)}return C=ie(I,N.j(C)),new se(N,C)}for(N=S;I.l(C)>=0;){for(x=Math.max(1,Math.floor(I.m()/C.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=y(x),R=P.j(C);$(R)||R.l(I)>0;)x-=M,P=y(x),R=P.j(C);k(P)&&(P=w),N=N.add(P),I=ie(I,R)}return new se(N,I)}r.B=function(I){return we(this,I).h},r.and=function(I){const C=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<C;M++)x[M]=this.i(M)&I.i(M);return new f(x,this.h&I.h)},r.or=function(I){const C=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<C;M++)x[M]=this.i(M)|I.i(M);return new f(x,this.h|I.h)},r.xor=function(I){const C=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<C;M++)x[M]=this.i(M)^I.i(M);return new f(x,this.h^I.h)};function be(I){const C=I.g.length+1,x=[];for(let M=0;M<C;M++)x[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(x,I.h)}function Ee(I,C){const x=C>>5;C%=32;const M=I.g.length-x,N=[];for(let P=0;P<M;P++)N[P]=C>0?I.i(P+x)>>>C|I.i(P+x+1)<<32-C:I.i(P+x);return new f(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,KT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,bs=f}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QT,eu,YT,hh,Om,$T,XT,WT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in v))break e;v=v[B]}c=c[c.length-1],b=v[c],p=p(b),p!=b&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&v.push([b,p[b]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,B,G){for(var re=Array(arguments.length-2),De=2;De<arguments.length;De++)re[De-2]=arguments[De];return p.prototype[B].apply(b,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const p=c.length;if(p>0){const v=Array(p);for(let b=0;b<p;b++)v[b]=c[b];return v}return[]}function k(c,p){for(let b=1;b<arguments.length;b++){const B=arguments[b];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const G=B.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=B[re]}else c.push(B)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,v){const b=se.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var se=new $(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Ee=!1,I=new ne,C=()=>{const c=Promise.resolve(void 0);be=()=>{c.then(x)}};function x(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){Y(v)}var p=se;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ee=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Ie(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Ie,N),Ie.prototype.init=function(c,p){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(c,p,v,b,B){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=B,this.key=++Q,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c,p,v){for(const b in c)p.call(v,c[b],b,c)}function $e(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function V(c){const p={};for(const v in c)p[v]=c[v];return p}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,p){let v,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(v in b)c[v]=b[v];for(let G=0;G<J.length;G++)v=J[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,v,b,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=xe(c,p,b,B);return re>-1?(p=c[re],v||(p.fa=!1)):(p=new ae(p,this.src,G,!!b,B),p.fa=v,c.push(p)),p};function he(c,p){const v=p.type;if(v in c.g){var b=c.g[v],B=Array.prototype.indexOf.call(b,p,void 0),G;(G=B>=0)&&Array.prototype.splice.call(b,B,1),G&&(pe(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,p,v,b){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==p&&G.capture==!!v&&G.ha==b)return B}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),St={};function at(c,p,v,b,B){if(Array.isArray(p)){for(let G=0;G<p.length;G++)at(c,p[G],v,b,B);return null}return v=Vr(v),c&&c[Me]?c.J(p,v,m(b)?!!b.capture:!1,B):bi(c,p,v,!1,b,B)}function bi(c,p,v,b,B,G){if(!p)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let De=Ai(c);if(De||(c[ke]=De=new ue(c)),v=De.add(p,v,b,re,G),v.proxy)return v;if(b=Wi(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)P||(B=re),B===void 0&&(B=!1),c.addEventListener(p.toString(),b,B);else if(c.attachEvent)c.attachEvent(qt(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wi(){function c(v){return p.call(c.src,c.listener,v)}const p=Fn;return c}function Ji(c,p,v,b,B){if(Array.isArray(p))for(var G=0;G<p.length;G++)Ji(c,p[G],v,b,B);else b=m(b)?!!b.capture:!!b,v=Vr(v),c&&c[Me]?(c=c.i,G=String(p).toString(),G in c.g&&(p=c.g[G],v=xe(p,v,b,B),v>-1&&(pe(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ai(c))&&(p=c.g[p.toString()],c=-1,p&&(c=xe(p,v,b,B)),(v=c>-1?p[c]:null)&&lt(v))}function lt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Me])he(p.i,c);else{var v=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(v,b,c.capture):p.detachEvent?p.detachEvent(qt(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=Ai(p))?(he(v,c),v.h==0&&(v.src=null,p[ke]=null)):pe(c)}}}function qt(c){return c in St?St[c]:St[c]="on"+c}function Fn(c,p){if(c.da)c=!0;else{p=new Ie(p,this);const v=c.listener,b=c.ha||c.src;c.fa&&lt(c),c=v.call(b,p)}return c}function Ai(c){return c=c[ke],c instanceof ue?c:null}var Or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vr(c){return typeof c=="function"?c:(c[Or]||(c[Or]=function(p){return c.handleEvent(p)}),c[Or])}function ut(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}S(ut,M),ut.prototype[Me]=!0,ut.prototype.removeEventListener=function(c,p,v,b){Ji(this,c,p,v,b)};function pt(c,p){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var B=p;p=new N(b,c),oe(p,B)}B=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=p.g=v[re],B=En(G,b,!0,p)&&B;if(G=p.g=c,B=En(G,b,!0,p)&&B,B=En(G,b,!1,p)&&B,v)for(re=0;re<v.length;re++)G=p.g=v[re],B=En(G,b,!1,p)&&B}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let b=0;b<v.length;b++)pe(v[b]);delete c.g[p],c.h--}}this.G=null},ut.prototype.J=function(c,p,v,b){return this.i.add(String(c),p,!1,v,b)},ut.prototype.K=function(c,p,v,b){return this.i.add(String(c),p,!0,v,b)};function En(c,p,v,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let B=!0;for(let G=0;G<p.length;++G){const re=p[G];if(re&&!re.da&&re.capture==v){const De=re.listener,Ct=re.ha||re.src;re.fa&&he(c.i,re),B=De.call(Ct,b)!==!1&&B}}return B&&!b.defaultPrevented}function Yo(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Qt(c){c.g=Yo(()=>{c.g=null,c.i&&(c.i=!1,Qt(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Nt extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(c){M.call(this),this.h=c,this.g={}}S(Gn,M);var Mr=[];function Kn(c){Ve(c.g,function(p,v){this.g.hasOwnProperty(v)&&lt(p)},c),c.g={}}Gn.prototype.N=function(){Gn.Z.N.call(this),Kn(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=f.JSON.stringify,$o=f.JSON.parse,wa=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ra(){}function Ca(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){N.call(this,"d")}S(Ht,N);function on(){N.call(this,"c")}S(on,N);var _t={},xa=null;function kr(){return xa=xa||new ut}_t.Ia="serverreachability";function Ia(c){N.call(this,_t.Ia,c)}S(Ia,N);function pn(c){const p=kr();pt(p,new Ia(p))}_t.STAT_EVENT="statevent";function Zi(c,p){N.call(this,_t.STAT_EVENT,c),this.stat=p}S(Zi,N);function bt(c){const p=kr();pt(p,new Zi(p,c))}_t.Ja="timingevent";function Yn(c,p){N.call(this,_t.Ja,c),this.size=p}S(Yn,N);function Nn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Ps(c,p,v,b,B,G){c.info(function(){if(c.g)if(G){var re="",De=G.split("&");for(let Xe=0;Xe<De.length;Xe++){var Ct=De[Xe].split("=");if(Ct.length>1){const gt=Ct[0];Ct=Ct[1];const Jn=gt.split("_");re=Jn.length>=2&&Jn[1]=="type"?re+(gt+"="+Ct+"&"):re+(gt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+p+`
`+v+`
`+re})}function Pr(c,p,v,b,B,G,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+p+`
`+v+`
`+G+" "+re})}function Ke(c,p,v,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+de(c,v)+(b?" "+b:"")})}function z(c,p){c.info(function(){return"TIMEOUT: "+p})}On.prototype.info=function(){};function de(c,p){if(!c.g)return p;if(!p)return null;try{const G=JSON.parse(p);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var B=b[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Qn(G)}catch{return p}}var ve={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ue={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ct;function ln(){}S(ln,Ra),ln.prototype.g=function(){return new XMLHttpRequest},ct=new ln;function un(c){return encodeURIComponent(String(c))}function wi(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Ft(c,p,v,b){this.j=c,this.i=p,this.l=v,this.S=b||1,this.V=new Gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gn}function gn(){this.i=null,this.g="",this.h=!1}var vt={},Rt={};function Vn(c,p,v){c.M=1,c.A=js(Vt(p)),c.u=v,c.R=!0,er(c,null)}function er(c,p){c.F=Date.now(),Ri(c),c.B=Vt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Va(v.i,"t",b),c.C=0,v=c.j.L,c.h=new gn,c.g=Qu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Nt(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,b=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Mr[0]=B.toString()),B=Mr);for(let G=0;G<B.length;G++){const re=at(v,B[G],b||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),pn(),Ps(c.i,c.v,c.B,c.l,c.S,c.u)}Ft.prototype.ba=function(c){c=c.target;const p=this.O;p&&fi(c)==3?p.j():this.Y(c)},Ft.prototype.Y=function(c){try{if(c==this.g)e:{const De=fi(this.g),Ct=this.g.ya(),Xe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||De!=4||Ct==7||(Ct==8||Xe<=0?pn(3):pn(2)),Ci(this);var p=this.g.ca();this.X=p;var v=Ls(this);if(this.o=p==200,Pr(this.i,this.v,this.B,this.l,this.S,De,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,B=this.g;if((b=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var G=b;break t}}G=null}if(c=G)Ke(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,c);else{this.o=!1,this.m=3,bt(12),Mn(this),$n(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=Mu(this,v),gt==Rt){De==4&&(this.m=4,bt(14),c=!1),Ke(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==vt){this.m=4,bt(15),Ke(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ke(this.i,this.l,gt,null),xi(this,gt);if(Us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)Ke(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),$n(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),cl(re),re.P=!0,bt(11))}}else Ke(this.i,this.l,v,null),xi(this,v);De==4&&Mn(this),this.o&&!this.K&&(De==4?Hu(this.j,this):(this.o=!1,Ri(this)))}else nr(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),Mn(this),$n(this)}}}catch{}};function Ls(c){if(!Us(c))return c.g.la();const p=Jt(c.g);if(p==="")return"";let v="";const b=p.length,B=fi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Mn(c),$n(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(p[G],{stream:!(B&&G==b-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Us(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,p){var v=c.C,b=p.indexOf(`
`,v);return b==-1?Rt:(v=Number(p.substring(v,b)),isNaN(v)?vt:(b+=1,b+v>p.length?Rt:(p=p.slice(b,b+v),c.C=b+v,p)))}Ft.prototype.cancel=function(){this.K=!0,Mn(this)};function Ri(c){c.T=Date.now()+c.H,Da(c,c.H)}function Da(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Nn(y(c.aa,c),p)}function Ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Ft.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(z(this.i,this.B),this.M!=2&&(pn(),bt(17)),Mn(this),this.m=2,$n(this)):Da(this,this.T-c)};function $n(c){c.j.I==0||c.K||Hu(c.j,c)}function Mn(c){Ci(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Kn(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function xi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||Di(v.h,c))){if(!c.L&&Di(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ua(v),Fr(v);else break e;Ks(v),bt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Nn(y(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((c.L||v.g==c)&&Ua(v),!R(p))for(B=v.Ba.g.parse(p),p=0;p<B.length;p++){let Xe=B[p];const gt=Xe[0];if(!(gt<=v.K))if(v.K=gt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Jn=Xe[3];Jn!=null&&(v.ka=Jn,v.j.info("VER="+v.ka));const Li=Xe[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const di=Xe[5];di!=null&&typeof di=="number"&&di>0&&(b=1.5*di,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const mi=c.g;if(mi){const Qs=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var G=b.h;G.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Jo(G,G.h),G.h=null))}if(b.G){const ja=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(b.wa=ja,Ze(b.J,b.G,ja))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=c;if(b.na=Ku(b,b.L?b.ba:null,b.W),re.L){Zo(b.h,re);var De=re,Ct=b.O;Ct&&(De.H=Ct),De.D&&(Ci(De),Ri(De)),b.g=re}else Bu(b);v.i.length>0&&ki(v)}else Xe[0]!="stop"&&Xe[0]!="close"||Pi(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Pi(v,7):ll(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}pn(4)}catch{}}var Ot=class{constructor(c,p){this.g=c,this.map=p}};function Xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ii(c){return c.h?1:c.g?c.g.size:0}function Di(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Jo(c,p){c.g?c.g.add(p):c.h=p}function Zo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Xo.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return U(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let B,G=null;b>=0?(B=c[v].substring(0,b),G=c[v].substring(b+1)):B=c[v],p(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function kn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof kn?(this.l=c.l,Yt(this,c.j),this.o=c.o,this.g=c.g,Lr(this,c.u),this.h=c.h,tl(this,ju(c.i)),this.m=c.m):c&&(p=String(c).match(ku))?(this.l=!1,Yt(this,p[1]||"",!0),this.o=Ni(p[2]||""),this.g=Ni(p[3]||"",!0),Lr(this,p[4]),this.h=Ni(p[5]||"",!0),tl(this,p[6]||"",!0),this.m=Ni(p[7]||"")):(this.l=!1,this.i=new jr(null,this.l))}kn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(zs(p,Oa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(zs(p,Oa,!0),"@"),c.push(un(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(zs(v,v.charAt(0)=="/"?nl:Pu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",zs(v,Lu)),c.join("")},kn.prototype.resolve=function(c){const p=Vt(this);let v=!!c.j;v?Yt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var b=c.h;if(v)Lr(p,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var B=p.h.lastIndexOf("/");B!=-1&&(b=p.h.slice(0,B+1)+b)}if(B=b,B==".."||B==".")b="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){b=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let re=0;re<B.length;){const De=B[re++];De=="."?b&&re==B.length&&G.push(""):De==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==B.length&&G.push("")):(G.push(De),b=!0)}b=G.join("/")}else b=B}return v?p.h=b:v=c.i.toString()!=="",v?tl(p,ju(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Vt(c){return new kn(c)}function Yt(c,p,v){c.j=v?Ni(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Lr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function tl(c,p,v){p instanceof jr?(c.i=p,Ma(c.i,c.l)):(v||(p=zs(p,Ur)),c.i=new jr(p,c.l))}function Ze(c,p,v){c.i.set(p,v)}function js(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ni(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Tn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Pu=/[#\?:]/g,nl=/[#\?]/g,Ur=/[#\?@]/g,Lu=/#/g;function jr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=jr.prototype,r.add=function(c,p){Sn(this),this.i=null,c=zr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Uu(c,p){Sn(c),p=zr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function il(c,p){return Sn(c),p=zr(c,p),c.g.has(p)}r.forEach=function(c,p){Sn(this),this.g.forEach(function(v,b){v.forEach(function(B){c.call(p,B,b,this)},this)},this)};function rl(c,p){Sn(c);let v=[];if(typeof p=="string")il(c,p)&&(v=v.concat(c.g.get(zr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return Sn(this),this.i=null,c=zr(this,c),il(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=rl(this,c),c.length>0?String(c[0]):p):p};function Va(c,p,v){Uu(c,p),v.length>0&&(c.i=null,c.g.set(zr(c,p),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var v=p[b];const B=un(v);v=rl(this,v);for(let G=0;G<v.length;G++){let re=B;v[G]!==""&&(re+="="+un(v[G])),c.push(re)}}return this.i=c.join("&")};function ju(c){const p=new jr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function zr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ma(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,b){const B=b.toLowerCase();b!=B&&(Uu(this,b),Va(this,B,v))},c)),c.j=p}function ci(c,p){const v=new On;if(f.Image){const b=new Image;b.onload=E(Xn,v,"TestLoadImage: loaded",!0,p,b),b.onerror=E(Xn,v,"TestLoadImage: error",!1,p,b),b.onabort=E(Xn,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=E(Xn,v,"TestLoadImage: timeout",!1,p,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function sl(c,p){const v=new On,b=new AbortController,B=setTimeout(()=>{b.abort(),Xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(B),G.ok?Xn(v,"TestPingServer: ok",!0,p):Xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Xn(v,"TestPingServer: error",!1,p)})}function Xn(c,p,v,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(v)}catch{}}function Br(){this.g=new wa}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Oi,Ra),Oi.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(c,p){ut.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Bs,ut),r=Bs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,hi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?qr(this):hi(this),this.readyState==3&&ka(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,qr(this))},r.Na=function(c){this.g&&(this.response=c,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,hi(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wn(c){let p="";return Ve(c,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function qs(c,p,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Wn(v),typeof c=="string"?v!=null&&un(v):Ze(c,p,v))}function nt(c){ut.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(nt,ut);var Vi=/^https?$/i,al=["POST","PUT"];r=nt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ct.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){Hs(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)v.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(al,p,void 0)>=0)||b||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Hs(this,G)}};function Hs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,ol(c),tr(c)}function ol(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),tr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},r.Xa=function(){Fs(this)};function Fs(c){if(c.h&&typeof u<"u"){if(c.v&&fi(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),fi(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var b;if(b=G===0){let re=String(c.D).match(ku)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!Vi.test(re?re.toLowerCase():"")}v=b}if(v)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var B=fi(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",ol(c)}}finally{tr(c)}}}}function tr(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||pt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function fi(c){return c.g?c.g.readyState:0}r.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),$o(p)}};function Jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(c){const p={};c=(c.g&&fi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=wi(c[b]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=p[B]||[];p[B]=G,G.push(v)}$e(p,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Hr(c){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,c),this.Za=Mi("retryDelaySeedMs",1e4,c),this.Ta=Mi("forwardChannelMaxRetries",2,c),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(c&&c.concurrentRequestLimit),this.Ba=new Br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Hr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,b){bt(0),this.W=c,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ku(this,null,this.W),ki(this)};function ll(c){if(Pa(c),c.I==3){var p=c.V++,v=Vt(c.J);if(Ze(v,"SID",c.M),Ze(v,"RID",p),Ze(v,"TYPE","terminate"),Gs(c,v),p=new Ft(c,c.j,p),p.M=2,p.A=js(Vt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Qu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ri(p)}Gu(c)}function Fr(c){c.g&&(cl(c),c.g.cancel(),c.g=null)}function Pa(c){Fr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ki(c){if(!Wo(c.h)&&!c.m){c.m=!0;var p=c.Ea;be||C(),Ee||(be(),Ee=!0),I.add(p,c),c.D=0}}function La(c,p){return Ii(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Nn(y(c.Ea,c,p),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Ft(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=zu(this,B,p),v=Vt(this.J),Ze(v,"RID",c),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),Gs(this,v),G&&(this.R?p="headers="+un(Wn(G))+"&"+p:this.u&&qs(v,this.u,G)),Jo(this.h,B),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",p),Ze(v,"SID","null"),B.U=!0,Vn(B,v,null)):Vn(B,v,p),this.I=2}}else this.I==3&&(c?ul(this,c):this.i.length==0||Wo(this.h)||ul(this))};function ul(c,p){var v;p?v=p.l:v=c.V++;const b=Vt(c.J);Ze(b,"SID",c.M),Ze(b,"RID",v),Ze(b,"AID",c.K),Gs(c,b),c.u&&c.o&&qs(b,c.u,c.o),v=new Ft(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Jo(c.h,v),Vn(v,b,p)}function Gs(c,p){c.H&&Ve(c.H,function(v,b){Ze(p,b,v)}),c.l&&Ve({},function(v,b){Ze(p,b,v)})}function zu(c,p,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var B=c.i;let De=-1;for(;;){const Ct=["count="+v];De==-1?v>0?(De=B[0].g,Ct.push("ofs="+De)):De=0:Ct.push("ofs="+De);let Xe=!0;for(let gt=0;gt<v;gt++){var G=B[gt].g;const Jn=B[gt].map;if(G-=De,G<0)De=Math.max(0,B[gt].g-100),Xe=!1;else try{G="req"+G+"_"||"";try{var re=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Li,di]of re){let mi=di;m(di)&&(mi=Qn(di)),Ct.push(G+Li+"="+encodeURIComponent(mi))}}catch(Li){throw Ct.push(G+"type="+encodeURIComponent("_badmap")),Li}}catch{b&&b(Jn)}}if(Xe){re=Ct.join("&");break e}}re=void 0}return c=c.i.splice(0,v),p.G=c,re}function Bu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;be||C(),Ee||(be(),Ee=!0),I.add(p,c),c.A=0}}function Ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Nn(y(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Nn(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Fr(this),qu(this))};function cl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Ft(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Vt(c.na);Ze(p,"RID","rpc"),Ze(p,"SID",c.M),Ze(p,"AID",c.K),Ze(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(p,"TO",c.ia),Ze(p,"TYPE","xmlhttp"),Gs(c,p),c.u&&c.o&&qs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=js(Vt(p)),v.u=null,v.R=!0,er(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Fr(this),Ks(this),bt(19))};function Ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Hu(c,p){var v=null;if(c.g==p){Ua(c),cl(c),c.g=null;var b=2}else if(Di(c.h,p))v=p.G,Zo(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var B=c.D;b=kr(),pt(b,new Yn(b,v)),ki(c)}else Bu(c);else if(B=p.m,B==3||B==0&&p.X>0||!(b==1&&La(c,p)||b==2&&Ks(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),B){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Fu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Pi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),b=c.Ua;const B=!b;b=new kn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yt(b,"https"),js(b),B?ci(b.toString(),v):sl(b.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(p),Gu(c),Pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const p=el(c.h);(p.length!=0||c.i.length!=0)&&(k(c.ja,p),k(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Ku(c,p,v){var b=v instanceof kn?Vt(v):new kn(v);if(b.g!="")p&&(b.g=p+"."+b.g),Lr(b,b.u);else{var B=f.location;b=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;const G=new kn(null);b&&Yt(G,b),p&&(G.g=p),B&&Lr(G,B),v&&(G.h=v),b=G}return v=c.G,p=c.wa,v&&p&&Ze(b,v,p),Ze(b,"VER",c.ka),Gs(c,b),b}function Qu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new nt(new Oi({ab:v})):new nt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Gr(){}Gr.prototype.g=function(c,p){return new yn(c,p)};function yn(c,p){ut.call(this),this.g=new Hr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ir(this)}S(yn,ut),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ll(this.g)},yn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Qn(c),c=v);p.i.push(new Ot(p.Ya++,c)),p.I==3&&ki(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,yn.Z.N.call(this)};function $u(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S($u,Ht);function Xu(){on.call(this),this.status=1}S(Xu,on);function ir(c){this.g=c}S(ir,Yu),ir.prototype.ra=function(){pt(this.g,"a")},ir.prototype.qa=function(c){pt(this.g,new $u(c))},ir.prototype.pa=function(c){pt(this.g,new Xu)},ir.prototype.oa=function(){pt(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,WT=function(){return new Gr},XT=function(){return kr()},$T=_t,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,hh=ve,Ue.COMPLETE="complete",YT=Ue,Ca.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",ut.prototype.listen=ut.prototype.J,eu=Ca,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,QT=nt}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let zo="12.8.0";function hC(r){zo=r}const pa=new up("@firebase/firestore");function go(){return pa.logLevel}function ce(r,...e){if(pa.logLevel<=Be.DEBUG){const n=e.map(fp);pa.debug(`Firestore (${zo}): ${r}`,...n)}}function Cr(r,...e){if(pa.logLevel<=Be.ERROR){const n=e.map(fp);pa.error(`Firestore (${zo}): ${r}`,...n)}}function Io(r,...e){if(pa.logLevel<=Be.WARN){const n=e.map(fp);pa.warn(`Firestore (${zo}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Se(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,JT(r,s,n)}function JT(r,e,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Cr(s),new Error(s)}function Je(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||JT(e,o,s)}function Ce(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ZT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mC{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new br;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new br,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new br)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new ZT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class pC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new pC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _C(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_C(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function qe(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return _m(o)===_m(u)?qe(o,u):_m(o)?1:-1}return qe(r.length,e.length)}const vC=55296,EC=57343;function _m(r){const e=r.charCodeAt(0);return e>=vC&&e<=EC}function Do(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Xv="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=qi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return qe(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class ht extends qi{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const TC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends qi{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return TC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new sn([Xv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ht.fromString(e))}static fromName(e){return new ye(ht.fromString(e).popFirst(5))}static empty(){return new ye(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ht(e.slice()))}}function e0(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function SC(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Wv(r){if(!ye.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Jv(r){if(ye.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function t0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function xr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function zt(r,e){const n={typeString:r};return e&&(n.value=e),n}function wu(r,e){if(!t0(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const Zv=-62135596800,eE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*eE);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:zt("string",mt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new mt(0,0))}static max(){return new Ae(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fu=-1;function bC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Rs(o,ye.empty(),e)}function AC(r){return new Rs(r.readTime,r.key,fu)}class Rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rs(Ae.min(),ye.empty(),fu)}static max(){return new Rs(Ae.max(),ye.empty(),fu)}}function wC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:qe(r.largestBatchId,e.largestBatchId))}const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==RC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function xC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(r){return r.name==="IndexedDbTransactionError"}class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;const mp=-1;function Kh(r){return r==null}function Ah(r){return r===0&&1/r==-1/0}function IC(r){return typeof r=="number"&&Number.isInteger(r)&&!Ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const n0="";function DC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=tE(e)),e=NC(r.get(n),e);return tE(e)}function NC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case n0:n+="";break;default:n+=u}}return n}function tE(r){return r+n0+""}function nE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Os(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function i0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new rn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iE(this.data.getIterator())}getIteratorFrom(e){return new iE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class iE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Kt(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class r0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new r0("Invalid base64 string: "+u):u}})(e);return new an(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const n=OC.exec(r);if(Je(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xs(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}const s0="server_timestamp",a0="__type__",o0="__previous_value__",l0="__local_write_time__";function pp(r){return(r?.mapValue?.fields||{})[a0]?.stringValue===s0}function Qh(r){const e=r.mapValue.fields[o0];return pp(e)?Qh(e):e}function du(r){const e=Cs(r.mapValue.fields[l0].timestampValue);return new mt(e.seconds,e.nanos)}class VC{constructor(e,n,s,o,u,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const wh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function MC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(r.options.projectId,e)}const u0="__type__",kC="__max__",ih={mapValue:{}},c0="__vector__",Rh="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:LC(r)?9007199254740991:PC(r)?10:11:Se(28295,{value:r})}function $i(r,e){if(r===e)return!0;const n=Is(r);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Cs(o.timestampValue),m=Cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return xs(o.bytesValue).isEqual(xs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Dt(o.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Dt(o.integerValue)===Dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Dt(o.doubleValue),m=Dt(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Do(r.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nE(f)!==nE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!$i(f[g],m[g])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function pu(r,e){return(r.values||[]).find((n=>$i(n,e)))!==void 0}function No(r,e){if(r===e)return 0;const n=Is(r),s=Is(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Dt(u.integerValue||u.doubleValue),g=Dt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return rE(r.timestampValue,e.timestampValue);case 4:return rE(du(r),du(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=xs(u),g=xs(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=qe(m[y],g[y]);if(E!==0)return E}return qe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=qe(Dt(u.latitude),Dt(f.latitude));return m!==0?m:qe(Dt(u.longitude),Dt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return sE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Rh]?.arrayValue,E=g[Rh]?.arrayValue,S=qe(y?.values?.length||0,E?.values?.length||0);return S!==0?S:sE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Vm(g[S],E[S]);if(w!==0)return w;const U=No(m[g[S]],y[E[S]]);if(U!==0)return U}return qe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function rE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const n=Cs(r),s=Cs(e),o=qe(n.seconds,s.seconds);return o!==0?o:qe(n.nanos,s.nanos)}function sE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return qe(n.length,s.length)}function Oo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return xs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function fh(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Os(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function aE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function oE(r){return!!r&&"nullValue"in r}function lE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function PC(r){return(r?.mapValue?.fields||{})[u0]?.stringValue===c0}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return{...r}}function LC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kC}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=sn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=su(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Os(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new In(su(this.value))}}function h0(r){const e=[];return Os(r.fields,((n,s)=>{const o=new sn([n]);if(dh(s)){const u=h0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Hn(e)}class dn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new dn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new dn(e,2,n,Ae.min(),Ae.min(),In.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ae.min(),Ae.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function uE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=No(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!$i(r.position[n],e.position[n]))return!1;return!0}class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function UC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class f0{}class jt extends f0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new zC(e,n,s):n==="array-contains"?new HC(e,s):n==="in"?new FC(e,s):n==="not-in"?new GC(e,s):n==="array-contains-any"?new KC(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new BC(e,s):new qC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends f0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ti(e,n)}matches(e){return d0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d0(r){return r.op==="and"}function m0(r){return jC(r)&&d0(r)}function jC(r){for(const e of r.filters)if(e instanceof Ti)return!1;return!0}function Pm(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(m0(r))return r.filters.map((e=>Pm(e))).join(",");{const e=r.filters.map((n=>Pm(n))).join(",");return`${r.op}(${e})`}}function p0(r,e){return r instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&$i(s.value,o.value)})(r,e):r instanceof Ti?(function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&p0(f,o.filters[m])),!0):!1})(r,e):void Se(19439)}function g0(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(g0).join(" ,")+"}"})(r):"Filter"}class zC extends jt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class BC extends jt{constructor(e,n){super(e,"in",n),this.keys=y0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qC extends jt{constructor(e,n){super(e,"not-in",n),this.keys=y0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function y0(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class HC extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&pu(n.arrayValue,this.value)}}class FC extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class GC extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class KC extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pu(this.value.arrayValue,s)))}}class QC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function hE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new QC(r,e,n,s,o,u,f)}function yp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Pm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!UC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!p0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cE(r.startAt,e.startAt)&&cE(r.endAt,e.endAt)}function Lm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ho{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YC(r,e,n,s,o,u,f,m){return new Ho(r,e,n,s,o,u,f,m)}function vp(r){return new Ho(r)}function fE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $C(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function _0(r){return r.collectionGroup!==null}function au(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kt(sn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gu(u,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new gu(sn.keyField(),s))}return e.Ie}function Hi(r){const e=Ce(r);return e.Ee||(e.Ee=XC(e,au(r))),e.Ee}function XC(r,e){if(r.limitType==="F")return hE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return hE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Um(r,e){const n=r.filters.concat([e]);return new Ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function WC(r,e){const n=r.explicitOrderBy.concat([e]);return new Ho(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new Ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return _p(Hi(r),Hi(e))&&r.limitType===e.limitType}function v0(r){return`${yp(Hi(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>g0(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Hi(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=uE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,au(s),o)||s.endAt&&!(function(f,m,g){const y=uE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,au(s),o))})(r,e)}function JC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E0(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=ZC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?No(g,y):Se(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:r.dir})}}class Ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return i0(this.inner)}size(){return this.innerSize}}const ex=new Tt(ye.comparator);function Ir(){return ex}const T0=new Tt(ye.comparator);function tu(...r){let e=T0;for(const n of r)e=e.insert(n.key,n);return e}function S0(r){let e=T0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ha(){return ou()}function b0(){return ou()}function ou(){return new Ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tx=new Tt(ye.comparator),nx=new Kt(ye.comparator);function He(...r){let e=nx;for(const n of r)e=e.add(n);return e}const ix=new Kt(qe);function rx(){return ix}function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function A0(r){return{integerValue:""+r}}function sx(r,e){return IC(e)?A0(e):Ep(r,e)}class Xh{constructor(){this._=void 0}}function ax(r,e,n){return r instanceof xh?(function(o,u){const f={fields:{[a0]:{stringValue:s0},[l0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=Qh(u)),u&&(f.fields[o0]=u),{mapValue:f}})(n,e):r instanceof Vo?R0(r,e):r instanceof yu?C0(r,e):(function(o,u){const f=w0(o,u),m=dE(f)+dE(o.Ae);return km(f)&&km(o.Ae)?A0(m):Ep(o.serializer,m)})(r,e)}function ox(r,e,n){return r instanceof Vo?R0(r,e):r instanceof yu?C0(r,e):n}function w0(r,e){return r instanceof Ih?(function(s){return km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends Xh{}class Vo extends Xh{constructor(e){super(),this.elements=e}}function R0(r,e){const n=x0(e);for(const s of r.elements)n.some((o=>$i(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends Xh{constructor(e){super(),this.elements=e}}function C0(r,e){let n=x0(e);for(const s of r.elements)n=n.filter((o=>!$i(o,s)));return{arrayValue:{values:n}}}class Ih extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dE(r){return Dt(r.integerValue||r.doubleValue)}function x0(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class lx{constructor(e,n){this.field=e,this.transform=n}}function ux(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Vo&&o instanceof Vo||s instanceof yu&&o instanceof yu?Do(s.elements,o.elements,$i):s instanceof Ih&&o instanceof Ih?$i(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,e.transform)}class cx{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function I0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Tp(r.key,vi.none()):new Ru(r.key,r.data,vi.none());{const n=r.data,s=In.empty();let o=new Kt(sn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Vs(r.key,s,new Hn(o.toArray()),vi.none())}}function hx(r,e,n){r instanceof Ru?(function(o,u,f){const m=o.value.clone(),g=pE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Vs?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=pE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(D0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Ru?(function(u,f,m,g){if(!mh(u.precondition,f))return m;const y=u.value.clone(),E=gE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Vs?(function(u,f,m,g){if(!mh(u.precondition,f))return m;const y=gE(u.fieldTransforms,g,f),E=f.data;return E.setAll(D0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function fx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=w0(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function mE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,((u,f)=>ux(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ru extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function pE(r,e,n){const s=new Map;Je(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,ox(f,m,n[o]))}return s}function gE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ax(u,f,e))}return s}class Tp extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dx extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=b0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=I0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((n,s)=>mE(n,s)))&&Do(this.baseMutations,e.baseMutations,((n,s)=>mE(n,s)))}}class Sp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return tx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(e,n,s,o)}}class px{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Ge;function yx(r){switch(r){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function N0(r){if(r===void 0)return Cr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ut.OK:return Z.OK;case Ut.CANCELLED:return Z.CANCELLED;case Ut.UNKNOWN:return Z.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Z.INTERNAL;case Ut.UNAVAILABLE:return Z.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Z.NOT_FOUND;case Ut.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ut.ABORTED:return Z.ABORTED;case Ut.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ut.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:r})}}(Ge=Ut||(Ut={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function _x(){return new TextEncoder}const vx=new bs([4294967295,4294967295],0);function yE(r){const e=_x().encode(r),n=new KT;return n.update(e),new Uint8Array(n.digest())}function _E(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bs([n,s],0),new bs([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(bs.fromNumber(s)));return o.compare(vx)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yE(e),[s,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=yE(e),[s,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Ae.min(),o,new Tt(qe),Ir(),He())}}class Cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,He(),He(),He())}}class ph{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class O0{constructor(e,n){this.targetId=e,this.Ce=n}}class V0{constructor(e,n,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class vE{constructor(){this.ve=0,this.Fe=EE(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new Cu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=EE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ex{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.He=rh(),this.Je=rh(),this.Ze=new Tt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new ye(u.path);this.et(n,f,dn.newNoDocument(f,Ae.min()))}else Je(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=xs(s).toUint8Array()}catch(g){if(g instanceof r0)return Io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bp(f,o,u)}catch(g){return Io(g instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Lm(m.target)){const g=new ye(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,dn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=He();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ze,this.je,s);return this.je=Ir(),this.He=rh(),this.Je=rh(),this.Ze=new Tt(qe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new vE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new Tt(ye.comparator)}function EE(){return new Tt(ye.comparator)}const Tx={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bx={and:"AND",or:"OR"};class Ax{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(r,e){return r.useProto3Json||Kh(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wx(r,e){return Dh(r,e.toTimestamp())}function Fi(r){return Je(!!r,49232),Ae.fromTimestamp((function(n){const s=Cs(n);return new mt(s.seconds,s.nanos)})(r))}function Ap(r,e){return Bm(r,e).canonicalString()}function Bm(r,e){const n=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function k0(r){const e=ht.fromString(r);return Je(z0(e),10190,{key:e.toString()}),e}function qm(r,e){return Ap(r.databaseId,e.path)}function vm(r,e){const n=k0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(L0(n))}function P0(r,e){return Ap(r.databaseId,e)}function Rx(r){const e=k0(r);return e.length===4?ht.emptyPath():L0(e)}function Hm(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function L0(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function TE(r,e,n){return{name:qm(r,e),fields:n.value.mapValue.fields}}function Cx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Je(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:N0(y.code);return new le(E,y.message||"")})(f);n=new V0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(r,s.document.name),u=Fi(s.document.updateTime),f=s.document.createTime?Fi(s.document.createTime):Ae.min(),m=new In({mapValue:{fields:s.document.fields}}),g=dn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(r,s.document),u=s.readTime?Fi(s.readTime):Ae.min(),f=dn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new gx(o,u),m=s.targetId;n=new O0(m,f)}}return n}function xx(r,e){let n;if(e instanceof Ru)n={update:TE(r,e.key,e.value)};else if(e instanceof Tp)n={delete:qm(r,e.key)};else if(e instanceof Vs)n={update:TE(r,e.key,e.data),updateMask:Lx(e.fieldMask)};else{if(!(e instanceof dx))return Se(16599,{dt:e.type});n={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:wx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(r,e.precondition)),n}function Ix(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Fi(o.updateTime):Fi(u);return f.isEqual(Ae.min())&&(f=Fi(u)),new cx(f,o.transformResults||[])})(n,e)))):[]}function Dx(r,e){return{documents:[P0(r,e.path)]}}function Nx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=P0(r,o);const u=(function(y){if(y.length!==0)return j0(Ti.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:_o(w.field),direction:Mx(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Ox(r){let e=Rx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=U0(S);return w instanceof Ti&&m0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(k){return new gu(vo(k.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Kh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,U=S.values||[];return new Ch(U,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,U=S.values||[];return new Ch(U,w)})(n.endAt)),YC(e,o,f,u,m,"F",g,y)}function Vx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=vo(n.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>U0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(r):Se(30097,{filter:r})}function Mx(r){return Tx[r]}function kx(r){return Sx[r]}function Px(r){return bx[r]}function _o(r){return{fieldPath:r.canonicalString()}}function vo(r){return sn.fromServerFormat(r.fieldPath)}function j0(r){return r instanceof jt?(function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:kx(n.op),value:n.value}}})(r):r instanceof Ti?(function(n){const s=n.getFilters().map((o=>j0(o)));return s.length===1?s[0]:{compositeFilter:{op:Px(n.op),filters:s}}})(r):Se(54877,{filter:r})}function Lx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function z0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function B0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class vs{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ux{constructor(e){this.yt=e}}function jx(r){const e=Ox({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}class zx{constructor(){this.Sn=new Bx}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Rs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Bx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Kt(ht.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(ht.comparator)).toArray()}}const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q0=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(q0,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mo(0)}static ar(){return new Mo(-1)}}const bE="LruGarbageCollector",qx=1048576;function AE([r,e],[n,s]){const o=qe(r,n);return o===0?qe(e,s):o}class Hx{constructor(e){this.Pr=e,this.buffer=new Kt(AE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();AE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(bE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?ce(bE,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Ar(3e5)}))}}class Gx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Gh.ce);const s=new Hx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(SE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),go()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function Kx(r,e){return new Gx(r,e)}class Qx{constructor(){this.changes=new Ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $x{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,Hn.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const o=ha();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=tu();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ha();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Ir();const f=ou(),m=(function(){return ou()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Vs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),lu(E.mutation,y,E.mutation.getFieldMask(),mt.now())):f.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new Yx(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new Tt(((f,m)=>f-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Hn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||He()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=b0();E.forEach((w=>{if(!u.has(w)){const U=I0(n.get(w),s.get(w));U!==null&&S.set(w,U),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return $C(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ha());let m=fu,g=u;return f.next((y=>te.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,He()))).next((E=>({batchId:m,changes:S0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=tu();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const y=(function(S,w){return new Ho(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,dn.newInvalidDocument(E)))}));let m=tu();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&lu(E.mutation,y,Hn.empty(),mt.now()),$h(n,y)&&(m=m.insert(g,y))})),m}))}}class Xx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:jx(o.bundledQuery),readTime:Fi(o.readTime)}})(n)),te.resolve()}}class Wx{constructor(){this.overlays=new Tt(ye.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ha();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ha(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Tt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ha(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ha(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new px(n,s));let u=this.Lr.get(n);u===void 0&&(u=He(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class Jx{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class wp{constructor(){this.kr=new Kt(Xt.Kr),this.qr=new Kt(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Xt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ye(new ht([])),s=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new ht([])),s=new Xt(n,e),o=new Xt(n,e+1);let u=He();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Xt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class Zx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Xt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?mp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(qe);return n.forEach((o=>{const u=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Xt(new ye(u),0);let m=new Kt(qe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eI{constructor(e){this.ti=e,this.docs=(function(){return new Tt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let s=Ir();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():dn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ir();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||wC(AC(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new tI(this)}getSize(e){return te.resolve(this.size)}}class tI extends Qx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class nI{constructor(e){this.persistence=e,this.ri=new Ta((n=>yp(n)),_p),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new wp,this.targetCount=0,this.oi=Mo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class H0{constructor(e,n){this._i={},this.overlays={},this.ai=new Gh(0),this.ui=!1,this.ui=!0,this.ci=new Jx,this.referenceDelegate=e(this),this.li=new nI(this),this.indexManager=new zx,this.remoteDocumentCache=(function(o){return new eI(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Ux(n),this.Pi=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new Zx(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new iI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class iI extends CC{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new wp,this.Ai=null}static Vi(e){return new Rp(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.fi=new Ta((s=>DC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Kx(this,n)}static Vi(e,n){return new Nh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Gw()?8:xC(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new rI;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(go()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(go()<=Be.DEBUG&&ce("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(go()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):te.resolve())}gs(e,n){if(fE(n))return te.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=He(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,jm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return fE(n)||o.isEqual(Ae.min())?te.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?te.resolve(null):(go()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.Ds(e,f,n,bC(o,fu)).next((m=>m)))}))}bs(e,n){let s=new Kt(E0(e));return n.forEach(((o,u)=>{$h(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return go()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yo(n)),this.fs.getDocumentsMatchingQuery(e,n,Rs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const xp="LocalStore",aI=3e8;class oI{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Tt(qe),this.Fs=new Ta((u=>yp(u)),_p),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $x(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function lI(r,e,n,s){return new oI(r,e,n,s)}async function F0(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=He();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function uI(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let U=te.resolve();return w.forEach((k=>{U=U.next((()=>E.getEntry(g,k))).next(($=>{const Y=y.docVersions.get(k);Je(Y!==null,48541),$.version.compareTo(Y)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=He();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function G0(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function cI(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let U=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(an.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),(function($,Y,ie){return $.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=aI?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,U,E)&&m.push(n.li.updateTargetData(u,U))}));let g=Ir(),y=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(hI(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(Ae.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function hI(r,e,n){let s=He(),o=He();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Ir();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function fI(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dI(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new vs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Fm(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;ce(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function wE(r,e,n){const s=Ce(r);let o=Ae.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Ce(g),w=S.Fs.get(E);return w!==void 0?te.resolve(S.vs.get(w)):S.li.getTargetData(y,E)})(s,f,Hi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:He()))).next((m=>(mI(s,JC(e),m),{documents:m,ks:u})))))}function mI(r,e,n){let s=r.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class RE{constructor(){this.activeTargetIds=rx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pI{constructor(){this.vo=new RE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new RE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gI{Mo(e){}shutdown(){}}const CE="ConnectivityMonitor";class xE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(CE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sh=null;function Gm(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}const Em="RestConnection",yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _I{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Gm(),m=this.Qo(e,n.toUriEncodedString());ce(Em,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=Uo(y);return this.zo(e,m,g,s,E).then((S=>(ce(Em,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw Io(Em,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=yI[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class vI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",Xl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class So extends _I{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!So.c_){const e=XT();Xl(e,$T.STAT_EVENT,(n=>{n.stat===Om.PROXY?ce(hn,"STAT_EVENT: detected buffering proxy"):n.stat===Om.NOPROXY&&ce(hn,"STAT_EVENT: detected no buffering proxy")})),So.c_=!0}}zo(e,n,s,o,u){const f=Gm();return new Promise(((m,g)=>{const y=new QT;y.setWithCredentials(!0),y.listenOnce(YT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case hh.NO_ERROR:const S=y.getResponseJson();ce(hn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case hh.TIMEOUT:ce(hn,`RPC '${e}' ${f} timed out`),g(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=y.getStatus();if(ce(hn,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const k=U?.error;if(k&&k.status&&k.message){const $=(function(ie){const ne=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(k.status);g(new le($,k.message))}else g(new le(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(hn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(hn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Gm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");ce(hn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,w=!1;const U=new vI({Ho:k=>{w?ce(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(S||(ce(hn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(hn,`RPC '${e}' stream ${o} sending:`,k),E.send(k))},Jo:()=>E.close()});return Xl(E,eu.EventType.OPEN,(()=>{w||(ce(hn,`RPC '${e}' stream ${o} transport opened.`),U.i_())})),Xl(E,eu.EventType.CLOSE,(()=>{w||(w=!0,ce(hn,`RPC '${e}' stream ${o} transport closed`),U.o_(),this.E_(E))})),Xl(E,eu.EventType.ERROR,(k=>{w||(w=!0,Io(hn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),U.o_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),Xl(E,eu.EventType.MESSAGE,(k=>{if(!w){const $=k.data[0];Je(!!$,16349);const Y=$,ie=Y?.error||Y[0]?.error;if(ie){ce(hn,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let se=(function(Ee){const I=Ut[Ee];if(I!==void 0)return N0(I)})(ne),we=ie.message;se===void 0&&(se=Z.INTERNAL,we="Unknown error status: "+ne+" with message "+ie.message),w=!0,U.o_(new le(se,we)),E.close()}else ce(hn,`RPC '${e}' stream ${o} received:`,$),U.__($)}})),So.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WT()}}function EI(r){return new So(r)}function Tm(){return typeof document<"u"?document:null}function Zh(r){return new Ax(r,!0)}So.c_=!1;class K0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const IE="PersistentStream";class Q0{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TI extends Q0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Cx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Fi(f.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Lm(g)?{documents:Dx(u,g)}:{query:Nx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=M0(u,f.resumeToken);const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const y=zm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=Vx(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.K_(n)}}class SI extends Q0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ix(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xx(this.serializer,s)))};this.K_(n)}}class bI{}class AI extends bI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Bm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Bm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function wI(r,e,n,s){return new AI(r,e,n,s)}class RI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class CI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Sa(this)&&(ce(ga,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await xu(y),y.Va.set("Unknown"),y.Ea.delete(4),await ef(y)})(this))}))})),this.Va=new RI(s,o)}}async function ef(r){if(Sa(r))for(const e of r.Ra)await e(!0)}async function xu(r){for(const e of r.Ra)await e(!1)}function Y0(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Np(n):Fo(n).O_()&&Dp(n,e))}function Ip(r,e){const n=Ce(r),s=Fo(n);n.Ia.delete(e),s.O_()&&$0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Va.set("Unknown"))}function Dp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(r).Z_(e)}function $0(r,e){r.da.$e(e),Fo(r).X_(e)}function Np(r){r.da=new Ex({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Fo(r).start(),r.Va.ua()}function Op(r){return Sa(r)&&!Fo(r).x_()&&r.Ia.size>0}function Sa(r){return Ce(r).Ea.size===0}function X0(r){r.da=void 0}async function xI(r){r.Va.set("Online")}async function II(r){r.Ia.forEach(((e,n)=>{Dp(r,e)}))}async function DI(r,e){X0(r),Op(r)?(r.Va.ha(e),Np(r)):r.Va.set("Unknown")}async function NI(r,e,n){if(r.Va.set("Online"),e instanceof V0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ce(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(r,s)}else if(e instanceof ph?r.da.Xe(e):e instanceof O0?r.da.st(e):r.da.tt(e),!n.isEqual(Ae.min()))try{const s=await G0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),$0(u,g);const S=new vs(E.target,g,y,E.sequenceNumber);Dp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ga,"Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,e,n){if(!qo(e))throw e;r.Ea.add(1),await xu(r),r.Va.set("Offline"),n||(n=()=>G0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ga,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function W0(r,e){return e().catch((n=>Oh(r,n,e)))}async function tf(r){const e=Ce(r),n=Ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mp;for(;OI(e);)try{const o=await fI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,VI(e,o)}catch(o){await Oh(e,o)}J0(e)&&Z0(e)}function OI(r){return Sa(r)&&r.Ta.length<10}function VI(r,e){r.Ta.push(e);const n=Ds(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function J0(r){return Sa(r)&&!Ds(r).x_()&&r.Ta.length>0}function Z0(r){Ds(r).start()}async function MI(r){Ds(r).ra()}async function kI(r){const e=Ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function PI(r,e,n){const s=r.Ta.shift(),o=Sp.from(s,e,n);await W0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function LI(r,e){e&&Ds(r).Y_&&await(async function(s,o){if((function(f){return yx(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Ds(s).B_(),await W0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),J0(r)&&Z0(r)}async function DE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),ce(ga,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await xu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function UI(r,e){const n=Ce(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await xu(n),n.Va.set("Unknown"))}function Fo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new TI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:xI.bind(null,r),Yo:II.bind(null,r),t_:DI.bind(null,r),J_:NI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Op(r)?Np(r):r.Va.set("Unknown")):(await r.ma.stop(),X0(r))}))),r.ma}function Ds(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new SI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MI.bind(null,r),t_:LI.bind(null,r),ta:kI.bind(null,r),na:PI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ga,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(Cr("AsyncQueue",`${e}: ${r}`),qo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class NE{constructor(){this.ga=new Tt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ko{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ko(e,n,bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class jI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class zI{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=OE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function OE(){return new Ta((r=>v0(r)),Yh)}async function eS(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new jI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function tS(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function BI(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&kp(n)}function qI(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Km,VE;(VE=Km||(Km={})).Ma="default",VE.Cache="cache";class nS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class iS{constructor(e){this.key=e}}class rS{constructor(e){this.key=e}}class HI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=E0(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new NE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),U=$h(this.query,S)?S:null,k=!!w&&this.mutatedKeys.has(w.key),$=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Y=!1;w&&U?w.data.isEqual(U.data)?k!==$&&(s.track({type:3,doc:U}),Y=!0):this.su(w,U)||(s.track({type:2,doc:U}),Y=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(m=!0)):!w&&U?(s.track({type:0,doc:U}),Y=!0):w&&!U&&(s.track({type:1,doc:w}),Y=!0,(g||y)&&(m=!0)),Y&&(U?(f=f.add(U),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(U,k){const $=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:Y})}};return $(U)-$(k)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new ko(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new rS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new iS(s))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pp="SyncEngine";class FI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GI{constructor(e){this.key=e,this.hu=!1}}class KI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ta((m=>v0(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(ye.comparator),this.Au=new Map,this.Vu=new wp,this.du={},this.mu=new Map,this.fu=Mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QI(r,e,n=!0){const s=cS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await sS(s,e,n,!0),o}async function YI(r,e){const n=cS(r);await sS(n,e,!0,!1)}async function sS(r,e,n,s){const o=await dI(r.localStore,Hi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $I(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Y0(r.remoteStore,o),m}async function $I(r,e,n,s,o){r.pu=(S,w,U)=>(async function($,Y,ie,ne){let se=Y.view.ru(ie);se.Ss&&(se=await wE($.localStore,Y.query,!1).then((({documents:I})=>Y.view.ru(I,se))));const we=ne&&ne.targetChanges.get(Y.targetId),be=ne&&ne.targetMismatches.get(Y.targetId)!=null,Ee=Y.view.applyChanges(se,$.isPrimaryClient,we,be);return kE($,Y.targetId,Ee.au),Ee.snapshot})(r,S,w,U);const u=await wE(r.localStore,e,!0),f=new HI(e,u.ks),m=f.ru(u.documents),g=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);kE(r,n,y.au);const E=new FI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function XI(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Yh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ip(s.remoteStore,o.targetId),Qm(s,o.targetId)})).catch(Bo)):(Qm(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function WI(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ip(n.remoteStore,s.targetId))}async function JI(r,e,n){const s=s2(r);try{const o=await(function(f,m){const g=Ce(f),y=mt.now(),E=m.reduce(((U,k)=>U.add(k.key)),He());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let k=Ir(),$=He();return g.xs.getEntries(U,E).next((Y=>{k=Y,k.forEach(((ie,ne)=>{ne.isValidDocument()||($=$.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,k))).next((Y=>{S=Y;const ie=[];for(const ne of m){const se=fx(ne,S.get(ne.key).overlayedDocument);se!=null&&ie.push(new Vs(ne.key,se,h0(se.value.mapValue),vi.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,ie,m)})).next((Y=>{w=Y;const ie=Y.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(U,Y.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:S0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new Tt(qe)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await Iu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function aS(r,e){const n=Ce(r);try{const s=await cI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await Iu(n,s,e)}catch(s){await Bo(s)}}function ME(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ce(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(m)&&(y=!0)})),y&&kp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZI(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new Tt(ye.comparator);f=f.insert(u,dn.newNoDocument(u,Ae.min()));const m=He().add(u),g=new Jh(Ae.min(),new Map,new Tt(qe),f,m);await aS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Lp(s)}else await Fm(s.localStore,e,!1).then((()=>Qm(s,e,n))).catch(Bo)}async function e2(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await uI(n.localStore,e);lS(n,s,null),oS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(n,o)}catch(o){await Bo(o)}}async function t2(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const g=Ce(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Je(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);lS(s,e,n),oS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Iu(s,o)}catch(o){await Bo(o)}}function oS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function lS(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||uS(r,s)}))}function uS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ip(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Lp(r))}function kE(r,e,n){for(const s of n)s instanceof iS?(r.Vu.addReference(s.key,e),n2(r,s)):s instanceof rS?(ce(Pp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||uS(r,s.key)):Se(19791,{wu:s})}function n2(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ce(Pp,"New document in limbo: "+n),r.Eu.add(s),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(ht.fromString(e)),s=r.fu.next();r.Au.set(s,new GI(n)),r.Ru=r.Ru.insert(n,s),Y0(r.remoteStore,new vs(Hi(vp(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function Iu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Cp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Ce(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(w=>te.forEach(w.Ts,(U=>E.persistence.referenceDelegate.addReference(S,w.targetId,U))).next((()=>te.forEach(w.Is,(U=>E.persistence.referenceDelegate.removeReference(S,w.targetId,U)))))))))}catch(S){if(!qo(S))throw S;ce(xp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const U=E.vs.get(w),k=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(k);E.vs=E.vs.insert(w,$)}}})(s.localStore,u))}async function i2(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){ce(Pp,"User change. New user:",e.toKey());const s=await F0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(n,s.Ns)}}function r2(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function cS(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZI.bind(null,e),e.Pu.J_=BI.bind(null,e.eventManager),e.Pu.yu=qI.bind(null,e.eventManager),e}function s2(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t2.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lI(this.persistence,new sI,e.initialUser,this.serializer)}Cu(e){return new H0(Rp.Vi,this.serializer)}Du(e){return new pI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class a2 extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Fx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new H0((s=>Nh.Vi(s,n)),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await UI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zI})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=EI(e.databaseInfo);return wI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new CI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ME(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new gI})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new KI(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);ce(ga,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};class hS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ns="FirestoreClient";class o2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(Ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(Ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Ns,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await F0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function PE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await l2(r);ce(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>DE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>DE(e.remoteStore,o))),r._onlineComponents=e}async function l2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Ns,"Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Sm(r,new Vh)}}else ce(Ns,"Using default OfflineComponentProvider"),await Sm(r,new a2(void 0));return r._offlineComponents}async function fS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Ns,"Using user provided OnlineComponentProvider"),await PE(r,r._uninitializedComponentsProvider._online)):(ce(Ns,"Using default OnlineComponentProvider"),await PE(r,new Ym))),r._onlineComponents}function u2(r){return fS(r).then((e=>e.syncEngine))}async function dS(r){const e=await fS(r),n=e.eventManager;return n.onListen=QI.bind(null,e.syncEngine),n.onUnlisten=XI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WI.bind(null,e.syncEngine),n}function c2(r,e,n={}){const s=new br;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new hS({next:w=>{E.Nu(),f.enqueueAndForget((()=>tS(u,S)));const U=w.docs.has(m);!U&&w.fromCache?y.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&w.fromCache&&g&&g.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new nS(vp(m.path),E,{includeMetadataChanges:!0,Ka:!0});return eS(u,S)})(await dS(r),r.asyncQueue,e,n,s))),s.promise}function h2(r,e,n={}){const s=new br;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new hS({next:w=>{E.Nu(),f.enqueueAndForget((()=>tS(u,S))),w.fromCache&&g.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new nS(m,E,{includeMetadataChanges:!0,Ka:!0});return eS(u,S)})(await dS(r),r.asyncQueue,e,n,s))),s.promise}function f2(r,e){const n=new br;return r.asyncQueue.enqueueAndForget((async()=>JI(await u2(r),e,n))),n.promise}function mS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const d2="ComponentProvider",LE=new Map;function m2(r,e,n,s,o){return new VC(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const pS="firestore.googleapis.com",UE=!0;class jE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=UE}else this.host=e.host,this.ssl=e.ssl??UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qx)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new fC;switch(s.type){case"firstParty":return new gC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=LE.get(n);s&&(ce(d2,"Removing Datastore"),LE.delete(n),s.terminate())})(this),Promise.resolve()}}function p2(r,e,n,s={}){r=xr(r,nf);const o=Uo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(UT(`https://${m}`),jT("Firestore",!0)),u.host!==pS&&u.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ws(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=fn.MOCK_USER;else{y=Pw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fn(S)}r._authCredentials=new dC(new ZT(y,E))}}class ba{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class Bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Bt._jsonSchema))return new Bt(e,s||null,new ye(ht.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:zt("string",Bt._jsonSchemaVersion),referencePath:zt("string")};class As extends ba{constructor(e,n,s){super(e,n,vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ye(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function vr(r,e,...n){if(r=Wt(r),e0("collection","path",e),r instanceof nf){const s=ht.fromString(e,...n);return Jv(s),new As(r,null,s)}{if(!(r instanceof Bt||r instanceof As))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ht.fromString(e,...n));return Jv(s),new As(r.firestore,null,s)}}function ca(r,e,...n){if(r=Wt(r),arguments.length===1&&(e=dp.newId()),e0("doc","path",e),r instanceof nf){const s=ht.fromString(e,...n);return Wv(s),new Bt(r,null,new ye(s))}{if(!(r instanceof Bt||r instanceof As))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ht.fromString(e,...n));return Wv(s),new Bt(r.firestore,r instanceof As?r.converter:null,new ye(s))}}const zE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K0(this,"async_queue_retry"),this._c=()=>{const s=Tm();s&&ce(zE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;ce(zE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",qE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Vp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Go extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new BE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function g2(r,e){const n=typeof r=="object"?r:HT(),s=typeof r=="string"?r:wh,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Mw("firestore");u&&p2(o,...u)}return o}function Up(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||y2(r),r._firestoreClient}function y2(r){const e=r._freezeSettings(),n=m2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new o2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(an.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:zt("string",li._jsonSchemaVersion),bytes:zt("string")};class jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rf{constructor(e){this._methodName=e}}class Gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:zt("string",Gi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ei(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:zt("string",Ei._jsonSchemaVersion),vectorValues:zt("object")};const _2=/^__.*__$/;class v2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class gS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:r})}}class sf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Mh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yS(this.dataSource)&&_2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class E2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}createContext(e,n,s,o=!1){return new sf({dataSource:e,methodName:n,targetDoc:s,path:sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new E2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function T2(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,s);const m=_S(s,f);let g,y;if(u.merge)g=new Hn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=ya(e,S,n);if(!f.contains(w))throw new le(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TS(E,w)||E.push(w)}g=new Hn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new v2(new In(m),g,y)}class af extends rf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function S2(r,e,n){return new sf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bp extends rf{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=S2(this,e,!0),s=this.Ac.map((u=>Ko(u,n))),o=new Vo(s);return new lx(e.path,o)}isEqual(e){return e instanceof Bp&&ws(this.Ac,e.Ac)}}function b2(r,e,n,s){const o=r.createContext(1,e,n);qp("Data must be an object, but it was:",o,s);const u=[],f=In.empty();Os(s,((g,y)=>{const E=ES(e,g,n);y=Wt(y);const S=o.childContextForFieldPath(E);if(y instanceof af)u.push(E);else{const w=Ko(y,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Hn(u);return new gS(f,m,o.fieldTransforms)}function A2(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[ya(e,s,n)],g=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ya(e,u[w])),g.push(u[w+1]);const y=[],E=In.empty();for(let w=m.length-1;w>=0;--w)if(!TS(y,m[w])){const U=m[w];let k=g[w];k=Wt(k);const $=f.childContextForFieldPath(U);if(k instanceof af)y.push(U);else{const Y=Ko(k,$);Y!=null&&(y.push(U),E.set(U,Y))}}const S=new Hn(y);return new gS(E,S,f.fieldTransforms)}function w2(r,e,n,s=!1){return Ko(n,r.createContext(s?4:3,e))}function Ko(r,e){if(vS(r=Wt(r)))return qp("Unsupported field value:",e,r),_S(r,e);if(r instanceof rf)return(function(s,o){if(!yS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Ko(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof li)return{bytesValue:M0(o.serializer,s._byteString)};if(s instanceof Bt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return(function(f,m){const g=f instanceof Ei?f.toArray():f;return{mapValue:{fields:{[u0]:{stringValue:c0},[Rh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Ep(m.serializer,E)}))}}}}}})(s,o);if(B0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Fh(s)}`)})(r,e)}function _S(r,e){const n={};return i0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,((s,o)=>{const u=Ko(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof Gi||r instanceof li||r instanceof Bt||r instanceof rf||r instanceof Ei||B0(r))}function qp(r,e,n){if(!vS(n)||!t0(n)){const s=Fh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ya(r,e,n){if((e=Wt(e))instanceof jp)return e._internalPath;if(typeof e=="string")return ES(r,e);throw Mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const R2=new RegExp("[~\\*/\\[\\]]");function ES(r,e,n){if(e.search(R2)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jp(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Mh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(Z.INVALID_ARGUMENT,m+r+g)}function TS(r,e){return r.some((n=>n.isEqual(e)))}class C2{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Os(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Rh].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new Ei(n)}convertGeoPoint(e){return new Gi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);Je(z0(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class SS extends C2{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function HE(...r){return new Bp("arrayUnion",r)}const FE="@firebase/firestore",GE="4.10.0";class bS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ya("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x2 extends bS{data(){return super.data()}}function I2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class AS extends Hp{}function $m(r,e,...n){let s=[];e instanceof Hp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Fp)).length,m=u.filter((g=>g instanceof of)).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class of extends AS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new of(e,n,s)}_apply(e){const n=this._parse(e);return wS(e._query,n),new ba(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=zp(e.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){QE(S,E);const k=[];for(const $ of S)k.push(KE(g,u,$));w={arrayValue:{values:k}}}else w=KE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||QE(S,E),w=w2(m,f,S,E==="in"||E==="not-in");return jt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xm(r,e,n){const s=e,o=ya("where",r);return of._create(o,s,n)}class Fp extends Hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)wS(f,g),f=Um(f,g)})(e._query,n),new ba(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends AS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,f)})(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,WC(e._query,n))}}function D2(r,e="asc"){const n=e,s=ya("orderBy",r);return Gp._create(s,n)}function KE(r,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_0(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ht.fromString(n));if(!ye.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return aE(r,new ye(s))}if(n instanceof Bt)return aE(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function QE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function N2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends bS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ya("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:zt("string",da._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class gh extends da{data(e={}){return super.data(e)}}class Ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:O2(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:zt("string",Ao._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function Wm(r){r=xr(r,Bt);const e=xr(r.firestore,Go),n=Up(e);return c2(n,r._key).then((s=>M2(e,r,s)))}function Eo(r){r=xr(r,ba);const e=xr(r.firestore,Go),n=Up(e),s=new SS(e);return I2(r._query),h2(n,r._query).then((o=>new Ao(e,s,r,o)))}function Wl(r,e,n,...s){r=xr(r,Bt);const o=xr(r.firestore,Go),u=zp(o);let f;return f=typeof(e=Wt(e))=="string"||e instanceof jp?A2(u,"updateDoc",r._key,e,n,s):b2(u,"updateDoc",r._key,e),Kp(o,[f.toMutation(r._key,vi.exists(!0))])}function V2(r){return Kp(xr(r.firestore,Go),[new Tp(r._key,vi.none())])}function Jm(r,e){const n=xr(r.firestore,Go),s=ca(r),o=N2(r.converter,e),u=zp(r.firestore);return Kp(n,[T2(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,vi.exists(!1))]).then((()=>s))}function Kp(r,e){const n=Up(r);return f2(n,e)}function M2(r,e,n){const s=n.docs.get(e._key),o=new SS(r);return new da(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){hC(jo),xo(new ma("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Go(new mC(s.getProvider("auth-internal")),new yC(f,s.getProvider("app-check-internal")),MC(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ss(FE,GE,e),Ss(FE,GE,"esm2020")})();function RS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k2=RS,CS=new bu("auth","Firebase",RS());const kh=new up("@firebase/auth");function P2(r,...e){kh.logLevel<=Be.WARN&&kh.warn(`Auth (${jo}): ${r}`,...e)}function yh(r,...e){kh.logLevel<=Be.ERROR&&kh.error(`Auth (${jo}): ${r}`,...e)}function Si(r,...e){throw Qp(r,...e)}function Ki(r,...e){return Qp(r,...e)}function xS(r,e,n){const s={...k2(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:r.name})}function Ar(r){return xS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return CS.create(r,...e)}function Te(r,e,...n){if(!r)throw Qp(e,...n)}function Er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw yh(e),new Error(e)}function Dr(r,e){r||Er(e)}function Zm(){return typeof self<"u"&&self.location?.href||""}function L2(){return YE()==="http:"||YE()==="https:"}function YE(){return typeof self<"u"&&self.location?.protocol||null}function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||qw()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=jw()||Hw()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(r,e){Dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class IS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const B2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new Du(3e4,6e4);function Ms(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ks(r,e,n,s,o={}){return DS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Au({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Bw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Uo(r.emulatorConfig.host)&&(y.credentials="include"),IS.fetch()(await NS(r,r.config.apiHost,n,m),y)})}async function DS(r,e,n){r._canInitEmulator=!1;const s={...z2,...e};try{const o=new F2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw ah(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xS(r,E,y);Si(r,E)}}catch(o){if(o instanceof Nr)throw o;Si(r,"network-request-failed",{message:String(o)})}}async function Nu(r,e,n,s,o={}){const u=await ks(r,e,n,s,o);return"mfaPendingCredential"in u&&Si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Yp(r.config,o):`${r.config.apiScheme}://${o}`;return B2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function H2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),q2.get())})}}function ah(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ki(r,e,s);return o.customData._tokenResponse=n,o}function $E(r){return r!==void 0&&r.enterprise!==void 0}class G2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K2(r,e){return ks(r,"GET","/v2/recaptchaConfig",Ms(r,e))}async function Q2(r,e){return ks(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return ks(r,"POST","/v1/accounts:lookup",e)}function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(r,e=!1){const n=Wt(r),s=await n.getIdToken(e),o=$p(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(bm(o.auth_time)),issuedAtTime:uu(bm(o.iat)),expirationTime:uu(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function $p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=MT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function XE(r){const e=$p(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Nr&&$2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class X2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(r){const e=r.auth,n=await r.getIdToken(),s=await _u(r,Ph(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?OS(o.providerUserInfo):[],f=J2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function W2(r){const e=Wt(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function OS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Z2(r,e){const n=await DS(r,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await NS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Uo(r.emulatorConfig.host)&&(g.credentials="include"),IS.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eD(r,e){return ks(r,"POST","/v2/accounts:revokeToken",Ms(r,e))}class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=XE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Z2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new wo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Er("not implemented")}}function ms(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new X2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y2(this,e)}reload(){return W2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await _u(this,Q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:U,providerData:k,stsTokenManager:$}=n;Te(S&&$,e,"internal-error");const Y=wo.fromJSON(this.name,$);Te(typeof S=="string",e,"internal-error"),ms(s,e.name),ms(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof U=="boolean",e,"internal-error"),ms(u,e.name),ms(f,e.name),ms(m,e.name),ms(g,e.name),ms(y,e.name),ms(E,e.name);const ie=new _i({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:y,lastLoginAt:E});return k&&Array.isArray(k)&&(ie.providerData=k.map(ne=>({...ne}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new wo;o.updateFromServerResponse(n);const u=new _i({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new wo;m.updateFromIdToken(s);const g=new _i({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const WE=new Map;function Tr(r){Dr(r instanceof Function,"Expected a class definition");let e=WE.get(r);return e?(Dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,WE.set(r,e),e)}class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VS.type="NONE";const JE=VS;function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class Ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ro(Tr(JE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Tr(JE);const f=_h(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await Ph(e,{idToken:E}).catch(()=>{});if(!w)break;S=await _i._fromGetAccountInfoResponse(e,w,E)}else S=_i._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ro(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ro(u,e,s))}}function ZE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jS(e))return"Blackberry";if(zS(e))return"Webos";if(kS(e))return"Safari";if((e.includes("chrome/")||PS(e))&&!e.includes("edge/"))return"Chrome";if(US(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function MS(r=mn()){return/firefox\//i.test(r)}function kS(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PS(r=mn()){return/crios\//i.test(r)}function LS(r=mn()){return/iemobile/i.test(r)}function US(r=mn()){return/android/i.test(r)}function jS(r=mn()){return/blackberry/i.test(r)}function zS(r=mn()){return/webos/i.test(r)}function Xp(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tD(r=mn()){return Xp(r)&&!!window.navigator?.standalone}function nD(){return Fw()&&document.documentMode===10}function BS(r=mn()){return Xp(r)||US(r)||zS(r)||jS(r)||/windows phone/i.test(r)||LS(r)}function qS(r,e=[]){let n;switch(r){case"Browser":n=ZE(mn());break;case"Worker":n=`${ZE(mn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${s}`}class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rD(r,e={}){return ks(r,"GET","/v2/passwordPolicy",Ms(r,e))}const sD=6;class aD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class oD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),s=await _i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Ar(this));const n=e?Wt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&P2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Aa(r){return Wt(r)}class eT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jw(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(r){lf=r}function HS(r){return lf.loadJS(r)}function uD(){return lf.recaptchaEnterpriseScript}function cD(){return lf.gapiScript}function hD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new dD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mD="recaptcha-enterprise",FS="NO_RECAPTCHA";class pD{constructor(e){this.type=mD,this.auth=Aa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{K2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new G2(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;$E(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(FS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&$E(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uD();g.length!==0&&(g+=m),HS(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function tT(r,e,n,s=!1,o=!1){const u=new pD(r);let f;if(o)f=FS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tT(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await tT(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function gD(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ws(u,e??{}))return o;Si(o,"already-initialized")}return n.initialize({options:e})}function yD(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _D(r,e,n){const s=Aa(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=GS(e),{host:f,port:m}=vD(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ws(y,s.config.emulator)&&ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Uo(f)?(UT(`${u}//${f}${g}`),jT("Auth",!0)):ED()}function GS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vD(r){const e=GS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:nT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:nT(f)}}}function nT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function TD(r,e){return ks(r,"POST","/v1/accounts:signUp",e)}async function SD(r,e){return Nu(r,"POST","/v1/accounts:signInWithPassword",Ms(r,e))}async function bD(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",Ms(r,e))}async function AD(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",Ms(r,e))}class vu extends Wp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signInWithPassword",SD);case"emailLink":return bD(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,s,"signUpPassword",TD);case"emailLink":return AD(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(r,e){return Nu(r,"POST","/v1/accounts:signInWithIdp",Ms(r,e))}const wD="http://localhost";class _a extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new _a(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}function RD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(r){const e=Jl(Zl(r)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(r)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||r}class Jp{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=RD(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CD(e);try{return new Jp(n)}catch{return null}}}class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Jp.parseLink(n);return Te(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends KS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ps extends Ou{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";class gs extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";class ys extends Ou{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";class _s extends Ou{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return _s.credential(n,s)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";async function xD(r,e){return Nu(r,"POST","/v1/accounts:signUp",Ms(r,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await _i._fromIdTokenResponse(e,s,o),f=iT(s);return new va({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=iT(s);return new va({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function iT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Uh extends Nr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Uh(e,n,s,o)}}function QS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,u,e,s):u})}async function ID(r,e,n=!1){const s=await _u(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return va._forOperation(r,"link",s)}async function DD(r,e,n=!1){const{auth:s}=r;if(oi(s.app))return Promise.reject(Ar(s));const o="reauthenticate";try{const u=await _u(r,QS(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=$p(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),va._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Si(s,"user-mismatch"),u}}async function YS(r,e,n=!1){if(oi(r.app))return Promise.reject(Ar(r));const s="signIn",o=await QS(r,s,e),u=await va._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function ND(r,e){return YS(Aa(r),e)}async function $S(r){const e=Aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OD(r,e,n){if(oi(r.app))return Promise.reject(Ar(r));const s=Aa(r),f=await tp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&$S(r),g}),m=await va._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function VD(r,e,n){return oi(r.app)?Promise.reject(Ar(r)):ND(Wt(r),Qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$S(r),s})}function MD(r,e,n,s){return Wt(r).onIdTokenChanged(e,n,s)}function kD(r,e,n){return Wt(r).beforeAuthStateChanged(e,n)}function PD(r,e,n,s){return Wt(r).onAuthStateChanged(e,n,s)}function LD(r){return Wt(r).signOut()}const jh="__sak";class XS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UD=1e3,jD=10;class WS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WS.type="LOCAL";const zD=WS;class JS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JS.type="SESSION";const ZS=JS;function BD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await BD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];function Zp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class qD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Zp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Qi(){return window}function HD(r){Qi().location.href=r}function eb(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function FD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){return navigator?.serviceWorker?.controller||null}function KD(){return eb()?self:null}const tb="firebaseLocalStorageDb",QD=1,zh="firebaseLocalStorage",nb="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function YD(){const r=indexedDB.deleteDatabase(tb);return new Vu(r).toPromise()}function np(){const r=indexedDB.open(tb,QD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:nb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await YD(),e(await np()))})})}async function rT(r,e,n){const s=cf(r,!0).put({[nb]:e,value:n});return new Vu(s).toPromise()}async function $D(r,e){const n=cf(r,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function sT(r,e){const n=cf(r,!0).delete(e);return new Vu(n).toPromise()}const XD=800,WD=3;class ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FD(),!this.activeServiceWorker)return;this.sender=new qD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await rT(e,jh,"1"),await sT(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$D(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ib.type="LOCAL";const JD=ib;new Du(3e4,6e4);function ZD(r,e){return e?Tr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(r){return YS(r.auth,new eg(r),r.bypassAuthState)}function tN(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),DD(n,new eg(r),r.bypassAuthState)}async function nN(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),ID(n,new eg(r),r.bypassAuthState)}class rb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Si(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iN=new Du(2e3,1e4);class To extends rb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}To.currentPopupAction=null;const rN="pendingRedirect",vh=new Map;class sN extends rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(r,e){const n=uN(e),s=lN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oN(r,e){vh.set(r._key(),e)}function lN(r){return Tr(r._redirectPersistence)}function uN(r){return _h(rN,r.config.apiKey,r.name)}async function cN(r,e,n=!1){if(oi(r.app))return Promise.reject(Ar(r));const s=Aa(r),o=ZD(s,e),f=await new sN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const hN=600*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!sb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(e))}saveEventToCache(e){this.cachedEventUids.add(aT(e)),this.lastProcessedEventTime=Date.now()}}function aT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function dN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(r);default:return!1}}async function mN(r,e={}){return ks(r,"GET","/v1/projects",e)}const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mN(r);for(const n of e)try{if(_N(n))return}catch{}Si(r,"unauthorized-domain")}function _N(r){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gN.test(n))return!1;if(pN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const vN=new Du(3e4,6e4);function oT(){const r=Qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EN(r){return new Promise((e,n)=>{function s(){oT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oT(),n(Ki(r,"network-request-failed"))},timeout:vN.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const o=hD("iframefcb");return Qi()[o]=()=>{gapi.load?s():n(Ki(r,"network-request-failed"))},HS(`${cD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function TN(r){return Eh=Eh||EN(r),Eh}const SN=new Du(5e3,15e3),bN="__/auth/iframe",AN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Yp(e,AN):`https://${r.config.authDomain}/${bN}`,s={apiKey:e.apiKey,appName:r.name,v:jo},o=RN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function xN(r){const e=await TN(r),n=Qi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ki(r,"network-request-failed"),m=Qi().setTimeout(()=>{u(f)},SN.get());function g(){Qi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,NN=600,ON="_blank",VN="http://localhost";class lT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MN(r,e,n,s=DN,o=NN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...IN,width:s.toString(),height:o.toString(),top:u,left:f},y=mn().toLowerCase();n&&(m=PS(y)?ON:n),MS(y)&&(e=e||VN,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[U,k])=>`${w}${U}=${k},`,"");if(tD(y)&&m!=="_self")return kN(e||"",m),new lT(null);const S=window.open(e||"",m,E);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new lT(S)}function kN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const PN="__/auth/handler",LN="emulator/auth/handler",UN=encodeURIComponent("fac");async function uT(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:jo,eventId:o};if(e instanceof KS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ww(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Ou){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${UN}=${encodeURIComponent(g)}`:"";return`${jN(r)}?${Au(m).slice(1)}${y}`}function jN({config:r}){return r.emulator?Yp(r,LN):`https://${r.authDomain}/${PN}`}const Am="webStorageSupport";class zN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,n,s,o){Dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uT(e,n,s,Zm(),o);return MN(e,u,Zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await uT(e,n,s,Zm(),o);return HD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xN(e),s=new fN(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{const u=o?.[0]?.[Am];u!==void 0&&n(!!u),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BS()||kS()||Xp()}}const BN=zN;var cT="@firebase/auth",hT="1.12.0";class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(r){xo(new ma("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qS(r)},y=new oD(s,o,u,g);return yD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xo(new ma("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(s=>new qN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(cT,hT,HN(r)),Ss(cT,hT,"esm2020")}const GN=300,KN=LT("authIdTokenMaxAge")||GN;let fT=null;const QN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KN)return;const o=n?.token;fT!==o&&(fT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YN(r=HT()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gD(r,{popupRedirectResolver:BN,persistence:[JD,zD,ZS]}),s=LT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=QN(u.toString());kD(n,f,()=>f(n.currentUser)),MD(n,m=>f(m))}}const o=kT("auth");return o&&_D(n,`http://${o}`),n}function $N(){return document.getElementsByTagName("head")?.[0]??document}lD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$N().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");const XN={apiKey:"AIzaSyBDWQVihQ8IwPaUvSIFOK4xhpuD8N5xkGo",authDomain:"examen-react-2026.firebaseapp.com",projectId:"examen-react-2026",storageBucket:"examen-react-2026.firebasestorage.app",messagingSenderId:"1034837524422",appId:"1:1034837524422:web:30cebed3f5e241fc77fcc7"},ab=qT(XN),vn=g2(ab),oh=YN(ab),WN="/examen-app/assets/LOGOS-CUHiAHn0.png";function ob({asignatura:r,unidad:e,tema:n,opcion:s,alumnoNombre:o,numControl:u,unidadAcademica:f,calificacion:m,fecha:g,docenteNombre:y}){const E="Ingeniera en Sistemas Computacionales",S=g?new Date(g).toLocaleDateString("es-MX"):"___/___/___",w=s==="diagnostico"?"X":"_",U=s==="1ra"?"X":"_",k=s==="2da"?"X":"_";return A.jsxs("div",{style:{width:"100%",fontFamily:"Arial, sans-serif",fontSize:"10pt",marginBottom:"20px"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",paddingBottom:"5px"},children:[A.jsx("img",{src:WN,alt:"Logo ITSZ",style:{height:"60px",marginRight:"15px",objectFit:"contain"}}),A.jsxs("div",{style:{textAlign:"center",flexGrow:1},children:[A.jsx("h3",{style:{margin:0,textTransform:"uppercase",fontSize:"14pt"},children:"Instituto Tecnolgico Superior de Zongolica"}),f&&A.jsxs("p",{style:{margin:0,fontSize:"10pt"},children:["Unidad Acadmica: ",A.jsx("strong",{children:f})]})]})]}),A.jsx("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid black"},children:A.jsxs("tbody",{children:[A.jsx("tr",{children:A.jsxs("td",{colSpan:"4",style:{border:"1px solid black",padding:"4px",backgroundColor:"#f0f0f0"},children:[A.jsx("strong",{children:"Asignatura:"})," ",r||"_________________________"]})}),A.jsx("tr",{children:A.jsxs("td",{colSpan:"4",style:{border:"1px solid black",padding:"4px",textAlign:"center"},children:[A.jsx("strong",{children:"Opcin:"}),"  Diagnstico ( ",A.jsx("strong",{children:w})," )  1 oportunidad ( ",A.jsx("strong",{children:U})," )  2 oportunidad ( ",A.jsx("strong",{children:k})," )"]})}),A.jsxs("tr",{children:[A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px",width:"50%"},children:[A.jsx("strong",{children:"Unidad:"})," ",e||"___________"]}),A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px",width:"50%"},children:[A.jsx("strong",{children:"Tema:"})," ",n||"_______________________"]})]}),A.jsxs("tr",{children:[A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px"},children:[A.jsx("strong",{children:"Ingeniera:"})," ",E]}),A.jsxs("td",{colSpan:"2",style:{border:"1px solid black",padding:"4px"},children:[A.jsx("strong",{children:"Docente:"})," ",y||"_______________________"]})]}),A.jsxs("tr",{style:{textAlign:"center",backgroundColor:"#e0e0e0",fontSize:"9pt"},children:[A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"40%"},children:A.jsx("strong",{children:"Nombre del Alumno(a):"})}),A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"20%"},children:A.jsx("strong",{children:"No. De Control"})}),A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"20%"},children:A.jsx("strong",{children:"Fecha de aplicacin:"})}),A.jsx("td",{style:{border:"1px solid black",padding:"2px",width:"20%"},children:A.jsx("strong",{children:"Calificacin:"})})]}),A.jsxs("tr",{style:{textAlign:"center",height:"35px"},children:[A.jsx("td",{style:{border:"1px solid black",padding:"5px",textAlign:"left"},children:o||""}),A.jsx("td",{style:{border:"1px solid black",padding:"5px"},children:u||""}),A.jsx("td",{style:{border:"1px solid black",padding:"5px"},children:S}),A.jsx("td",{style:{border:"1px solid black",padding:"5px",fontWeight:"bold",fontSize:"12pt"},children:m!=null?Number(m).toFixed(1):""})]})]})})]})}const JN=["Zongolica","Tequila","Nogales","Acultzinapa","Cuichapa","Tezonapa","Tehuipango"],ZN={claro:{bg:"#ffffff",text:"#333333",card:"#f8f9fa",border:"#ddd",inputBg:"#fff"},oscuro:{bg:"#121212",text:"#e0e0e0",card:"#1e1e1e",border:"#444",inputBg:"#2d2d2d"},calido:{bg:"#f5e6d3",text:"#4a3b2a",card:"#e8dcc5",border:"#d1c7b7",inputBg:"#fff8f0"}};function eO(){const{id:r}=N1(),[e,n]=j.useState(()=>localStorage.getItem("temaApp")||"claro"),s=ZN[e];j.useEffect(()=>localStorage.setItem("temaApp",e),[e]);const[o,u]=j.useState("registro"),[f,m]=j.useState(""),[g,y]=j.useState(""),[E,S]=j.useState(""),[w,U]=j.useState(null),[k,$]=j.useState([]),[Y,ie]=j.useState(0),[ne,se]=j.useState({}),[we,be]=j.useState(0),[Ee,I]=j.useState(""),C=/^\d{3}[Ww]\d{4}$/;j.useEffect(()=>{(async()=>{try{const Ie=await Wm(ca(vn,"examenes",r));Ie.exists()&&U(Ie.data())}catch(Ie){console.error(Ie)}})()},[r]);const x=R=>{y(R.toUpperCase()),I(C.test(R)?"":"Formato invlido (Ej: 123W1041)")},M=async()=>{if(!f||!g||!E||Ee)return alert("Revisa datos");u("cargando");try{const R=$m(vr(vn,"resultados"),Xm("examenId","==",r),Xm("numControl","==",g.toUpperCase())),Me=(await Eo(R)).size,Q=w.intentosMaximos||1;if(Me>=Q){u("bloqueado"),ie(Me);return}const pe=[...w.preguntas||[]].sort(()=>.5-Math.random()),Ve=w.limite&&w.limite>0?w.limite:pe.length;$(pe.slice(0,Ve)),u("examen")}catch(R){console.error(R),u("registro")}},N=async()=>{let R=0;k.forEach(Me=>{ne[Me.texto]===Me.correcta&&R++});const Ie=k.length>0?R/k.length*10:0;be(Ie);try{await Jm(vr(vn,"resultados"),{examenId:r,examenTitulo:w.titulo,nombre:f,numControl:g,unidad:E,calificacion:Ie,fecha:new Date().toISOString()}),u("finalizado")}catch(Me){console.error(Me)}};if(!w)return A.jsx("div",{style:{padding:"20px"},children:"Cargando..."});if(o==="finalizado")return A.jsxs("div",{style:{minHeight:"100vh",background:s.bg,color:s.text},children:[A.jsxs("div",{className:"no-print",style:{textAlign:"center",padding:"50px"},children:[A.jsx("h1",{children:"Examen Enviado!"}),A.jsx("div",{style:{fontSize:"4rem",color:s.accent},children:we.toFixed(1)}),A.jsx("p",{children:"Calificacin Final"}),w.permitirImpresion?A.jsx("button",{onClick:()=>window.print(),style:{padding:"15px 30px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",fontSize:"1.2em",cursor:"pointer",marginTop:"20px"},children:" Descargar/Imprimir PDF"}):A.jsx("p",{style:{fontStyle:"italic",color:"#888"},children:"La impresin de resultados est desactivada."}),A.jsx("br",{}),A.jsx("br",{}),A.jsx(fa,{to:"/",style:{color:s.text},children:"Volver al Inicio"})]}),A.jsxs("div",{className:"hoja-examen",children:[A.jsx(ob,{asignatura:w.titulo,unidad:w.unidad,tema:w.tema,opcion:w.opcion,alumnoNombre:f,numControl:g,unidadAcademica:E,calificacion:we,fecha:new Date().toISOString()}),A.jsx("h3",{children:"Detalle de Resultados:"}),A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"10pt",marginTop:"10px"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:"#eee"},children:[A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"#"}),A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"Pregunta"}),A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"Tu Respuesta"}),A.jsx("th",{style:{textAlign:"left",padding:"5px",border:"1px solid black"},children:"Correcta"})]})}),A.jsx("tbody",{children:k.map((R,Ie)=>{const Me=ne[R.texto]===R.correcta;return A.jsxs("tr",{children:[A.jsx("td",{style:{padding:"5px",border:"1px solid black"},children:Ie+1}),A.jsx("td",{style:{padding:"5px",border:"1px solid black"},children:R.texto}),A.jsx("td",{style:{padding:"5px",border:"1px solid black",color:Me?"black":"red",fontWeight:Me?"normal":"bold"},children:ne[R.texto]||"(Sin responder)"}),A.jsx("td",{style:{padding:"5px",border:"1px solid black"},children:R.correcta})]},Ie)})})]}),A.jsx("div",{style:{marginTop:"60px",textAlign:"center",width:"100%"},children:A.jsx("div",{style:{borderTop:"1px solid black",width:"250px",margin:"0 auto",paddingTop:"5px"},children:"Firma del Alumno"})})]})]});if(o==="bloqueado")return A.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"red"},children:[A.jsx("h2",{children:"Acceso Denegado"}),A.jsx("p",{children:"Intentos agotados."}),A.jsx(fa,{to:"/",children:"Volver"})]});const P={width:"100%",padding:"10px",marginBottom:"15px",borderRadius:"4px",border:`1px solid ${s.border}`,background:s.inputBg,color:s.text};return o==="examen"?A.jsxs("div",{className:"no-print",style:{background:s.bg,color:s.text,minHeight:"100vh",padding:"20px"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",maxWidth:"800px",margin:"0 auto"},children:[A.jsx("h2",{children:w.titulo}),A.jsx("span",{children:g})]}),A.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[k.map((R,Ie)=>A.jsxs("div",{style:{marginBottom:"15px",padding:"15px",background:s.card,border:`1px solid ${s.border}`,borderRadius:"8px"},children:[A.jsx("p",{children:A.jsxs("strong",{children:[Ie+1,". ",R.texto]})}),R.opciones.map((Me,Q)=>A.jsxs("label",{style:{display:"block",padding:"8px",cursor:"pointer",background:ne[R.texto]===Me?e==="oscuro"?"#333":"#e7f1ff":"transparent"},children:[A.jsx("input",{type:"radio",name:R.texto,onChange:()=>se({...ne,[R.texto]:Me}),style:{marginRight:"10px"}})," ",Me]},Q))]},Ie)),A.jsx("button",{onClick:N,style:{width:"100%",padding:"15px",background:"#28a745",color:"white",border:"none",fontSize:"1.1em",borderRadius:"5px",cursor:"pointer"},children:"Finalizar y Enviar"})]})]}):A.jsx("div",{className:"no-print",style:{padding:"40px",background:s.bg,color:s.text,minHeight:"100vh",display:"flex",justifyContent:"center"},children:A.jsxs("div",{style:{width:"100%",maxWidth:"500px"},children:[A.jsx("h1",{style:{textAlign:"center"},children:w.titulo}),A.jsxs("div",{style:{background:s.card,padding:"25px",border:`1px solid ${s.border}`,borderRadius:"10px"},children:[A.jsx("label",{children:"Nombre:"}),A.jsx("input",{value:f,onChange:R=>m(R.target.value),style:P}),A.jsx("label",{children:"No. Control:"}),A.jsx("input",{value:g,maxLength:8,placeholder:"Ej: 123W1041",onChange:R=>x(R.target.value),style:{...P,border:Ee?"2px solid red":P.border}}),Ee&&A.jsx("small",{style:{color:"red",display:"block",marginTop:"-10px",marginBottom:"10px"},children:Ee}),A.jsx("label",{children:"Unidad Acadmica:"}),A.jsxs("select",{value:E,onChange:R=>S(R.target.value),style:P,children:[A.jsx("option",{value:"",children:"-- Selecciona --"}),JN.map(R=>A.jsx("option",{value:R,children:R},R))]}),A.jsx("button",{onClick:M,disabled:!f||!E||!!Ee||o==="cargando",style:{width:"100%",padding:"12px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"10px"},children:o==="cargando"?"Verificando...":"Comenzar"})]}),A.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:A.jsx(fa,{to:"/",style:{color:s.text},children:"Cancelar"})})]})})}const tO={claro:{bg:"#ffffff",text:"#333333",card:"#f9f9f9",border:"#dddddd",accent:"#007bff",inputBg:"#fff"},oscuro:{bg:"#1e1e1e",text:"#e0e0e0",card:"#2d2d2d",border:"#444444",accent:"#4dabf7",inputBg:"#333"},calido:{bg:"#f5e6d3",text:"#4a3b2a",card:"#e8dcc5",border:"#d1c7b7",accent:"#a67c52",inputBg:"#fff8f0"}},nO=["Zongolica","Tequila","Nogales","Acultzinapa","Cuichapa","Tezonapa","Tehuipango"];function iO(){const[r,e]=j.useState(null),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),[g,y]=j.useState(!1),[E,S]=j.useState(()=>localStorage.getItem("temaApp")||"claro"),[w,U]=j.useState("examenes"),k=tO[E],[$,Y]=j.useState([]),[ie,ne]=j.useState([]),[se,we]=j.useState([]),[be,Ee]=j.useState(null),[I,C]=j.useState(!1),[x,M]=j.useState(""),[N,P]=j.useState(""),[R,Ie]=j.useState(""),[Me,Q]=j.useState(""),[ae,pe]=j.useState("1ra"),[Ve,$e]=j.useState(1),[V,J]=j.useState(""),[oe,ue]=j.useState(""),[he,xe]=j.useState(""),[ke,St]=j.useState(0),[at,bi]=j.useState(1),[Wi,Ji]=j.useState(!1),[lt,qt]=j.useState({texto:"",op1:"",op2:"",op3:"",op4:"",correcta:"op1"}),[Fn,Ai]=j.useState(!1),[Or,Vr]=j.useState(null),[ut,pt]=j.useState(1),[En,Yo]=j.useState(5),[Qt,Nt]=j.useState({examenId:"",numControl:"",unidad:"",fechaInicio:"",fechaFin:"",estado:""}),[Gn,Mr]=j.useState(null);j.useEffect(()=>localStorage.setItem("temaApp",E),[E]),j.useEffect(()=>{const z=PD(oh,de=>{de?(e(de),Kn(),Qn(de.email)):(e(null),Y([]),Ee(null))});return()=>z()},[]);const Kn=async()=>{const z=await Eo(vr(vn,"examenes"));Y(z.docs.map(de=>({id:de.id,...de.data()})))},Qn=async z=>{try{const ve=(await Eo(vr(vn,"docentes"))).docs.map(ct=>({id:ct.id,...ct.data()}));we(ve);const Ue=ve.find(ct=>ct.email===z);Ue&&Ee(Ue)}catch(de){console.error(de)}},$o=async()=>{C(!0);try{const z=$m(vr(vn,"resultados"),D2("fecha","desc")),de=await Eo(z);ne(de.docs.map(ve=>({id:ve.id,...ve.data()})))}catch(z){console.error(z)}finally{C(!1)}},wa=async z=>{z.preventDefault(),m("");try{if(g){const de=$m(vr(vn,"docentes"),Xm("email","==",n));if((await Eo(de)).empty){m(" Correo no autorizado. Pide al admin que te agregue.");return}await OD(oh,n,o)}else await VD(oh,n,o)}catch(de){console.error(de),de.code==="auth/email-already-in-use"?m("Correo ya registrado."):de.code==="auth/invalid-credential"?m("Credenciales incorrectas."):m(de.message)}},Ra=()=>{LD(oh),U("examenes")};j.useEffect(()=>{if(he){const z=$.find(de=>de.id===he);z&&(St(z.limite||z.preguntas?.length||0),bi(z.intentosMaximos||1),Ji(z.permitirImpresion||!1),pt(1),on())}},[he,$]);const Ca=async()=>{if(!x||!N)return alert("Falta Nombre o Asignatura.");const z=be?be.nombre:"Sin Asignar";try{await Jm(vr(vn,"examenes"),{nombreExamen:x,asignatura:N,titulo:`${x} - ${N}`,unidad:R,tema:Me,opcion:ae,preguntas:[],limite:0,intentosMaximos:parseInt(Ve),permitirImpresion:!1,docenteNombre:z,docenteEmail:r.email}),M(""),P(""),Ie(""),Q(""),Kn(),alert("Creado correctamente.")}catch(de){console.error(de)}},Dn=async()=>{if(!V||!oe)return alert("Faltan datos");try{await Jm(vr(vn,"docentes"),{nombre:V,email:oe,fechaRegistro:new Date().toISOString()}),alert("Docente agregado"),J(""),ue(""),Qn(r.email)}catch{alert("Error")}},Ht=async z=>{if(confirm("Eliminar?"))try{await V2(ca(vn,"docentes",z)),Qn(r.email)}catch{alert("Error")}},on=()=>{qt({texto:"",op1:"",op2:"",op3:"",op4:"",correcta:"op1"}),Ai(!1),Vr(null)},_t=async z=>{if(z.preventDefault(),!he)return;const de={texto:lt.texto,opciones:[lt.op1,lt.op2,lt.op3,lt.op4],correcta:lt[lt.correcta]};try{const ve=ca(vn,"examenes",he);if(Fn&&Or!==null){const ln=[...(await Wm(ve)).data().preguntas];ln[Or]=de,await Wl(ve,{preguntas:ln}),alert("Actualizada")}else await Wl(ve,{preguntas:HE(de)}),alert("Agregada");on(),Kn()}catch{alert("Error")}},xa=(z,de)=>{let ve="op1";z.correcta===z.opciones[1]&&(ve="op2"),z.correcta===z.opciones[2]&&(ve="op3"),z.correcta===z.opciones[3]&&(ve="op4"),qt({texto:z.texto,op1:z.opciones[0],op2:z.opciones[1],op3:z.opciones[2],op4:z.opciones[3],correcta:ve}),Ai(!0),Vr(de),window.scrollTo(0,0)},kr=async z=>{if(!confirm("Eliminar?"))return;const de=ca(vn,"examenes",he),Ue=(await Wm(de)).data().preguntas.filter((ct,ln)=>ln!==z);await Wl(de,{preguntas:Ue}),Kn()},Ia=async()=>{he&&(await Wl(ca(vn,"examenes",he),{limite:parseInt(ke),intentosMaximos:parseInt(at),permitirImpresion:Wi}),alert("Guardado"),Kn())},pn=j.useMemo(()=>ie.filter(z=>!(Qt.examenId&&z.examenId!==Qt.examenId||Qt.numControl&&!z.numControl.includes(Qt.numControl.toUpperCase())||Qt.unidad&&z.unidad!==Qt.unidad)),[ie,Qt]),Zi=z=>{const de=z.target.files[0];if(!de||!he)return;const ve=new FileReader;ve.onload=async Ue=>{const ln=Ue.target.result.split(`
`),un=[];if(ln.forEach(wi=>{if(!wi.trim())return;const Ft=wi.split(",");if(Ft.length>=6){const gn=Ft[0].trim();if(gn.toLowerCase()==="pregunta")return;const vt=Ft[1].trim(),Rt=Ft[2].trim(),Vn=Ft[3].trim(),er=Ft[4].trim(),Ls=parseInt(Ft[5].trim());if(gn&&vt&&Rt&&Vn&&er&&Ls>=1&&Ls<=4){const Us=[vt,Rt,Vn,er];un.push({texto:gn,opciones:Us,correcta:Us[Ls-1]})}}}),un.length>0)try{const wi=ca(vn,"examenes",he);await Wl(wi,{preguntas:HE(...un)}),alert(`Se importaron ${un.length} preguntas.`),Kn()}catch{alert("Error al subir a Firebase.")}else alert("Error en CSV. Revisa el formato.")},ve.readAsText(de),z.target.value=""},bt=()=>{if(!he)return;const z=$.find(Ue=>Ue.id===he);if(!z||!z.preguntas||z.preguntas.length===0)return alert("Sin preguntas.");let de=`data:text/csv;charset=utf-8,Pregunta,Op1,Op2,Op3,Op4,IndexCorrecta
`;z.preguntas.forEach(Ue=>{const ct=un=>`"${un.replace(/"/g,'""')}"`,ln=Ue.opciones.indexOf(Ue.correcta)+1;de+=[ct(Ue.texto),ct(Ue.opciones[0]),ct(Ue.opciones[1]),ct(Ue.opciones[2]),ct(Ue.opciones[3]),ln].join(",")+`
`});const ve=document.createElement("a");ve.setAttribute("href",encodeURI(de)),ve.setAttribute("download",`${z.nombreExamen||z.titulo}_preguntas.csv`),document.body.appendChild(ve),ve.click(),document.body.removeChild(ve)},Yn=()=>{if(pn.length===0)return alert("Sin datos");let z=`data:text/csv;charset=utf-8,Control,Nombre,Unidad,Examen,Calificacion,Fecha
`;pn.forEach(ve=>{const Ue=ct=>ct?`"${ct.toString().replace(/"/g,'""')}"`:"";z+=[Ue(ve.numControl),Ue(ve.nombre),Ue(ve.unidad),Ue(ve.examenTitulo),ve.calificacion.toFixed(2),new Date(ve.fecha).toLocaleDateString()].join(",")+`
`});const de=document.createElement("a");de.href=encodeURI(z),de.download="Reporte.csv",document.body.appendChild(de),de.click(),document.body.removeChild(de)},Nn=z=>{Mr(z),setTimeout(()=>{window.print()},500)},On=()=>{const z=$.find(ve=>ve.id===he);if(!z||!z.preguntas)return[];const de=ut*En;return z.preguntas.slice(de-En,de)},Ps=()=>$.find(de=>de.id===he)?.preguntas?.length||0,Pr=Math.ceil(Ps()/En),Ke={padding:"10px",borderRadius:"5px",border:`1px solid ${k.border}`,background:k.inputBg,color:k.text};if(!r)return A.jsx("div",{style:{width:"100%",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:k.bg,color:k.text,padding:"20px"},children:A.jsxs("div",{style:{padding:"40px",background:k.card,borderRadius:"15px",border:`1px solid ${k.border}`,maxWidth:"400px",width:"100%",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[A.jsx("h2",{style:{textAlign:"center",marginBottom:"10px"},children:"Acceso ITSZ"}),A.jsxs("div",{style:{display:"flex",marginBottom:"20px",borderBottom:`1px solid ${k.border}`},children:[A.jsx("button",{onClick:()=>{y(!1),m("")},style:{flex:1,padding:"10px",background:g?"transparent":k.inputBg,border:"none",cursor:"pointer",fontWeight:g?"normal":"bold",borderBottom:g?"none":`2px solid ${k.accent}`,color:k.text},children:"Login"}),A.jsx("button",{onClick:()=>{y(!0),m("")},style:{flex:1,padding:"10px",background:g?k.inputBg:"transparent",border:"none",cursor:"pointer",fontWeight:g?"bold":"normal",borderBottom:g?`2px solid ${k.accent}`:"none",color:k.text},children:"Registro"})]}),A.jsxs("form",{onSubmit:wa,children:[A.jsx("input",{type:"email",placeholder:"Correo institucional",value:n,onChange:z=>s(z.target.value),style:{...Ke,marginBottom:"15px",width:"100%"},required:!0}),A.jsx("input",{type:"password",placeholder:"Contrasea",value:o,onChange:z=>u(z.target.value),style:{...Ke,marginBottom:"20px",width:"100%"},required:!0}),f&&A.jsx("p",{style:{color:"red",textAlign:"center",fontSize:"0.9em"},children:f}),A.jsx("button",{type:"submit",style:{width:"100%",padding:"12px",background:k.accent,color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:g?"Crear Cuenta":"Entrar"})]})]})});if(Gn&&he){const z=$.find(de=>de.id===he);return A.jsxs("div",{className:"hoja-examen",children:[A.jsx("div",{className:"no-print",style:{position:"fixed",top:10,right:10,background:"white",padding:"10px",border:"1px solid black",zIndex:9999},children:A.jsx("button",{onClick:()=>Mr(null),children:" Cerrar"})}),A.jsx(ob,{asignatura:z.asignatura||z.titulo,unidad:z.unidad,tema:z.tema,opcion:z.opcion,docenteNombre:z.docenteNombre}),A.jsx("h3",{style:{textAlign:"center",marginTop:"20px"},children:Gn==="respuestas"?"CLAVE DE RESPUESTAS":"CUESTIONARIO"}),z.preguntas&&z.preguntas.map((de,ve)=>A.jsxs("div",{style:{marginBottom:"10px",padding:"5px",breakInside:"avoid"},children:[A.jsxs("p",{style:{fontWeight:"bold"},children:[ve+1,". ",de.texto]}),Gn==="vacio"&&A.jsx("div",{style:{marginLeft:"20px"},children:de.opciones.map((Ue,ct)=>A.jsxs("div",{children:[" ",Ue]},ct))}),Gn==="respuestas"&&A.jsxs("div",{style:{marginLeft:"20px"},children:[" ",de.correcta]})]},ve)),A.jsx("div",{style:{marginTop:"50px",textAlign:"center"},children:A.jsx("div",{style:{borderTop:"1px solid black",width:"250px",margin:"0 auto"},children:"Firma del Docente"})})]})}return A.jsxs("div",{className:"no-print",style:{width:"100%",minHeight:"100vh",backgroundColor:k.bg,color:k.text,padding:"20px",boxSizing:"border-box"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"10px"},children:[A.jsxs("div",{children:[A.jsx("h1",{style:{margin:0,fontSize:"1.5rem"},children:"Panel Admin ITSZ"}),be&&A.jsxs("span",{style:{fontSize:"0.9em",color:k.accent},children:["Hola, ",be.nombre]})]}),A.jsxs("div",{style:{display:"flex",gap:"8px"},children:[A.jsx("button",{onClick:()=>S("claro"),children:""}),A.jsx("button",{onClick:()=>S("oscuro"),children:""}),A.jsx("button",{onClick:Ra,style:{background:"#dc3545",color:"white",border:"none",borderRadius:"4px",padding:"5px 15px"},children:"Salir"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:`1px solid ${k.border}`,paddingBottom:"10px"},children:[A.jsx("button",{onClick:()=>U("examenes"),style:{padding:"10px 20px",background:w==="examenes"?k.accent:k.card,color:w==="examenes"?"white":k.text,border:"none",borderRadius:"5px",cursor:"pointer"},children:" Exmenes"}),A.jsx("button",{onClick:()=>{U("resultados"),$o()},style:{padding:"10px 20px",background:w==="resultados"?k.accent:k.card,color:w==="resultados"?"white":k.text,border:"none",borderRadius:"5px",cursor:"pointer"},children:" Resultados"}),A.jsx("button",{onClick:()=>U("docentes"),style:{padding:"10px 20px",background:w==="docentes"?k.accent:k.card,color:w==="docentes"?"white":k.text,border:"none",borderRadius:"5px",cursor:"pointer"},children:" Docentes"})]}),w==="docentes"&&A.jsxs("div",{className:"fade-in",style:{background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`},children:[A.jsx("h3",{children:"Directorio de Docentes"}),A.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",alignItems:"end",marginBottom:"20px"},children:[A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{display:"block",fontSize:"0.8em"},children:"Nombre:"}),A.jsx("input",{value:V,onChange:z=>J(z.target.value),placeholder:"Grado y Nombre",style:{...Ke,width:"100%"}})]}),A.jsxs("div",{style:{flex:1},children:[A.jsx("label",{style:{display:"block",fontSize:"0.8em"},children:"Correo:"}),A.jsx("input",{value:oe,onChange:z=>ue(z.target.value),placeholder:"email@login",style:{...Ke,width:"100%"}})]}),A.jsx("button",{onClick:Dn,style:{background:"#28a745",color:"white",border:"none",padding:"12px 20px",borderRadius:"5px",cursor:"pointer"},children:"Guardar"})]}),A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:k.accent,color:"white"},children:[A.jsx("th",{style:{padding:"8px"},children:"Nombre"}),A.jsx("th",{style:{padding:"8px"},children:"Correo"}),A.jsx("th",{style:{padding:"8px"},children:"Accin"})]})}),A.jsx("tbody",{children:se.map(z=>A.jsxs("tr",{style:{borderBottom:`1px solid ${k.border}`},children:[A.jsx("td",{style:{padding:"8px"},children:z.nombre}),A.jsx("td",{style:{padding:"8px"},children:z.email}),A.jsx("td",{style:{padding:"8px"},children:A.jsx("button",{onClick:()=>Ht(z.id),children:""})})]},z.id))})]})]}),w==="examenes"&&A.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",alignItems:"flex-start"},children:[A.jsxs("div",{style:{flex:"1 1 350px",background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`,minWidth:"300px"},children:[A.jsx("h3",{style:{marginTop:0},children:"1. Crear Examen"}),!be&&A.jsx("p",{style:{color:"red",fontSize:"0.8em"},children:' Configura tu perfil en "Docentes" primero.'}),A.jsx("label",{style:{fontSize:"0.9em",fontWeight:"bold"},children:"Nombre del Examen:"}),A.jsx("input",{value:x,onChange:z=>M(z.target.value),placeholder:"Ej: Diagnstico",style:{...Ke,width:"100%",marginBottom:"10px"}}),A.jsx("label",{style:{fontSize:"0.9em",fontWeight:"bold"},children:"Asignatura:"}),A.jsx("input",{value:N,onChange:z=>P(z.target.value),placeholder:"Ej: Matemticas",style:{...Ke,width:"100%",marginBottom:"10px"}}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"10px"},children:[A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Unidad:"}),A.jsx("input",{value:R,onChange:z=>Ie(z.target.value),style:{...Ke,width:"100%"}})]}),A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Tema:"}),A.jsx("input",{value:Me,onChange:z=>Q(z.target.value),style:{...Ke,width:"100%"}})]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[A.jsxs("div",{style:{flexGrow:1},children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Opcin:"}),A.jsxs("select",{value:ae,onChange:z=>pe(z.target.value),style:{...Ke,width:"100%"},children:[A.jsx("option",{value:"diagnostico",children:"Diagnstico"}),A.jsx("option",{value:"1ra",children:"1 Op"}),A.jsx("option",{value:"2da",children:"2 Op"})]})]}),A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Intentos:"}),A.jsx("input",{type:"number",value:Ve,onChange:z=>$e(z.target.value),style:{...Ke,width:"60px"},min:"1"})]})]}),A.jsx("button",{onClick:Ca,style:{width:"100%",background:k.accent,color:"white",border:"none",padding:"12px",borderRadius:"5px",cursor:"pointer"},children:"Crear Examen"}),A.jsx("hr",{style:{margin:"25px 0",borderColor:k.border}}),A.jsx("h3",{style:{marginTop:0},children:"2. Gestionar"}),A.jsxs("select",{value:he,onChange:z=>xe(z.target.value),style:{...Ke,width:"100%",marginBottom:"15px"},children:[A.jsx("option",{value:"",children:"-- Selecciona Examen --"}),$.map(z=>A.jsx("option",{value:z.id,children:z.nombreExamen?`${z.nombreExamen} - ${z.asignatura}`:z.titulo},z.id))]}),he&&A.jsxs("div",{className:"fade-in",children:[A.jsxs("div",{style:{marginBottom:"15px",background:E==="oscuro"?"#333":"#e9ecef",padding:"10px",borderRadius:"5px"},children:[A.jsx("label",{style:{display:"block",fontWeight:"bold",fontSize:"0.9em"},children:"Preguntas Aleatorias:"}),A.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[A.jsx("input",{type:"number",value:ke,onChange:z=>St(z.target.value),style:{...Ke,width:"80px",borderColor:k.accent}}),A.jsx("span",{style:{fontSize:"0.8em",opacity:.8},children:"(0 = Todas)"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"15px",alignItems:"center"},children:[A.jsxs("div",{children:[A.jsx("label",{style:{fontSize:"0.9em"},children:"Intentos:"}),A.jsx("input",{type:"number",value:at,onChange:z=>bi(z.target.value),style:{...Ke,width:"70px"}})]}),A.jsxs("label",{style:{fontSize:"0.9em",cursor:"pointer"},children:[A.jsx("input",{type:"checkbox",checked:Wi,onChange:z=>Ji(z.target.checked)})," Permitir PDF"]})]}),A.jsx("button",{onClick:Ia,style:{width:"100%",marginBottom:"10px",background:"#28a745",color:"white",border:"none",padding:"10px",borderRadius:"5px",cursor:"pointer"},children:" Guardar Config"}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[A.jsx("button",{onClick:()=>Nn("vacio"),style:{flex:1,padding:"8px",cursor:"pointer"},children:" Vaco"}),A.jsx("button",{onClick:()=>Nn("respuestas"),style:{flex:1,padding:"8px",cursor:"pointer"},children:" Clave"})]}),A.jsxs("div",{style:{borderTop:`1px solid ${k.border}`,paddingTop:"15px"},children:[A.jsx("h4",{style:{margin:"0 0 5px 0",fontSize:"0.9rem"},children:"Carga Masiva (CSV)"}),A.jsxs("label",{style:{display:"block",marginBottom:"5px",cursor:"pointer",background:"#6c757d",color:"white",textAlign:"center",padding:"8px",borderRadius:"4px",fontSize:"0.9rem"},children:[" Importar CSV ",A.jsx("input",{type:"file",accept:".csv",onChange:Zi,style:{display:"none"}})]}),A.jsx("button",{onClick:bt,style:{width:"100%",background:"#17a2b8",color:"white",border:"none",padding:"8px",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem"},children:" Descargar Preguntas"})]})]})]}),A.jsxs("div",{style:{flex:"2 1 500px",display:"flex",flexDirection:"column",gap:"20px",minWidth:"300px"},children:[A.jsxs("div",{style:{background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`},children:[A.jsx("h3",{style:{marginTop:0},children:Fn?" Editar Pregunta":" Agregar Pregunta Manual"}),he?A.jsxs("form",{onSubmit:_t,children:[A.jsx("textarea",{placeholder:"Enunciado de la pregunta...",value:lt.texto,onChange:z=>qt({...lt,texto:z.target.value}),style:{...Ke,width:"100%",marginBottom:"10px",resize:"vertical",minHeight:"70px"},required:!0}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[A.jsx("input",{placeholder:"Opcin 1",value:lt.op1,onChange:z=>qt({...lt,op1:z.target.value}),style:Ke,required:!0}),A.jsx("input",{placeholder:"Opcin 2",value:lt.op2,onChange:z=>qt({...lt,op2:z.target.value}),style:Ke,required:!0}),A.jsx("input",{placeholder:"Opcin 3",value:lt.op3,onChange:z=>qt({...lt,op3:z.target.value}),style:Ke,required:!0}),A.jsx("input",{placeholder:"Opcin 4",value:lt.op4,onChange:z=>qt({...lt,op4:z.target.value}),style:Ke,required:!0})]}),A.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"15px",justifyContent:"space-between",flexWrap:"wrap",gap:"10px"},children:[A.jsxs("label",{children:["Respuesta Correcta: ",A.jsxs("select",{value:lt.correcta,onChange:z=>qt({...lt,correcta:z.target.value}),style:{...Ke,marginLeft:"5px",width:"120px"},children:[A.jsx("option",{value:"op1",children:"Opcin 1"}),A.jsx("option",{value:"op2",children:"Opcin 2"}),A.jsx("option",{value:"op3",children:"Opcin 3"}),A.jsx("option",{value:"op4",children:"Opcin 4"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"10px"},children:[Fn&&A.jsx("button",{type:"button",onClick:on,style:{padding:"10px 15px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Cancelar"}),A.jsx("button",{type:"submit",style:{padding:"10px 25px",background:Fn?"#ffc107":k.accent,color:Fn?"black":"white",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer"},children:Fn?"Actualizar":"Agregar"})]})]})]}):A.jsx("p",{style:{color:"#666"},children:" Selecciona un examen primero."})]}),he&&A.jsxs("div",{style:{background:k.card,padding:"20px",borderRadius:"8px",border:`1px solid ${k.border}`},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:`1px solid ${k.border}`,paddingBottom:"10px"},children:[A.jsxs("h4",{style:{margin:0},children:["Banco de Preguntas (",Ps(),")"]}),A.jsxs("select",{value:En,onChange:z=>{Yo(parseInt(z.target.value)),pt(1)},style:{padding:"5px",fontSize:"0.9em"},children:[A.jsx("option",{value:"5",children:"Ver 5"}),A.jsx("option",{value:"10",children:"Ver 10"}),A.jsx("option",{value:"20",children:"Ver 20"})]})]}),A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:On().map((z,de)=>{const ve=(ut-1)*En+de;return A.jsxs("div",{style:{background:k.inputBg,border:`1px solid ${k.border}`,borderRadius:"5px",padding:"10px",position:"relative"},children:[A.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",display:"flex",gap:"5px"},children:[A.jsx("button",{onClick:()=>xa(z,ve),title:"Editar",style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2em"},children:""}),A.jsx("button",{onClick:()=>kr(ve),title:"Eliminar",style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2em"},children:""})]}),A.jsxs("p",{style:{fontWeight:"bold",margin:"0 0 10px 0",paddingRight:"70px"},children:["#",ve+1,". ",z.texto]}),A.jsx("div",{style:{fontSize:"0.9em",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"5px"},children:z.opciones.map((Ue,ct)=>A.jsxs("div",{style:{padding:"5px 10px",borderRadius:"3px",background:Ue===z.correcta?E==="oscuro"?"#1e4620":"#d4edda":"transparent",border:Ue===z.correcta?"1px solid #c3e6cb":`1px solid ${k.border}`,color:Ue===z.correcta?E==="oscuro"?"#fff":"#155724":k.text},children:[Ue===z.correcta?" ":" "," ",Ue]},ct))})]},de)})}),Ps()>0&&A.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"20px"},children:[A.jsx("button",{onClick:()=>pt(z=>Math.max(1,z-1)),disabled:ut===1,style:{cursor:"pointer",padding:"5px 10px"},children:" Anterior"}),A.jsxs("span",{style:{alignSelf:"center"},children:[ut," / ",Pr]}),A.jsx("button",{onClick:()=>pt(z=>Math.min(Pr,z+1)),disabled:ut===Pr,style:{cursor:"pointer",padding:"5px 10px"},children:"Siguiente "})]})]})]})]}),w==="resultados"&&A.jsxs("div",{className:"fade-in",children:[A.jsxs("div",{style:{background:k.card,padding:"15px",borderRadius:"8px",border:`1px solid ${k.border}`,marginBottom:"15px",display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"flex-end"},children:[A.jsxs("div",{style:{flex:"1 1 150px"},children:[A.jsx("label",{style:{fontSize:"0.8em"},children:"Por Examen:"}),A.jsxs("select",{value:Qt.examenId,onChange:z=>Nt({...Qt,examenId:z.target.value}),style:{...Ke,width:"100%"},children:[A.jsx("option",{value:"",children:"Todos"}),$.map(z=>A.jsx("option",{value:z.id,children:z.nombreExamen?z.nombreExamen:z.titulo},z.id))]})]}),A.jsxs("div",{style:{flex:"1 1 120px"},children:[A.jsx("label",{style:{fontSize:"0.8em"},children:"Control:"}),A.jsx("input",{type:"text",placeholder:"...",value:Qt.numControl,onChange:z=>Nt({...Qt,numControl:z.target.value}),style:{...Ke,width:"100%"}})]}),A.jsxs("div",{style:{flex:"1 1 120px"},children:[A.jsx("label",{style:{fontSize:"0.8em"},children:"Unidad:"}),A.jsxs("select",{value:Qt.unidad,onChange:z=>Nt({...Qt,unidad:z.target.value}),style:{...Ke,width:"100%"},children:[A.jsx("option",{value:"",children:"Todas"}),nO.map(z=>A.jsx("option",{value:z,children:z},z))]})]}),A.jsx("button",{onClick:()=>Nt({examenId:"",numControl:"",unidad:"",fechaInicio:"",fechaFin:"",estado:""}),style:{padding:"10px 15px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",height:"42px"},children:"Limpiar"}),A.jsx("button",{onClick:Yn,style:{padding:"10px 15px",background:"#17a2b8",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",height:"42px",fontWeight:"bold",marginLeft:"auto"},children:" Reporte CSV"})]}),A.jsx("div",{style:{overflowX:"auto",borderRadius:"8px",border:`1px solid ${k.border}`},children:A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:k.card,color:k.text},children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:k.accent,color:"white"},children:[A.jsx("th",{style:{padding:"12px"},children:"Control"}),A.jsx("th",{style:{padding:"12px"},children:"Nombre"}),A.jsx("th",{style:{padding:"12px"},children:"Examen"}),A.jsx("th",{style:{padding:"12px"},children:"Nota"})]})}),A.jsx("tbody",{children:pn.length>0?pn.map(z=>A.jsxs("tr",{style:{borderBottom:`1px solid ${k.border}`},children:[A.jsx("td",{style:{padding:"8px",textAlign:"center"},children:z.numControl}),A.jsx("td",{style:{padding:"8px"},children:z.nombre}),A.jsx("td",{style:{padding:"8px"},children:z.examenTitulo}),A.jsx("td",{style:{padding:"8px",textAlign:"center",fontWeight:"bold",color:z.calificacion>=7?"#28a745":"#dc3545"},children:z.calificacion.toFixed(1)})]},z.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:"4",style:{padding:"20px",textAlign:"center"},children:"Sin resultados."})})})]})})]})]})}const rO={claro:{bg:"#ffffff",text:"#333333",card:"#f0f0f0",border:"#cccccc"},oscuro:{bg:"#121212",text:"#e0e0e0",card:"#1e1e1e",border:"#333333"},calido:{bg:"#f5e6d3",text:"#4a3b2a",card:"#e8dcc5",border:"#d1c7b7"}};function sO(){const[r,e]=j.useState([]),[n,s]=j.useState(()=>localStorage.getItem("temaApp")||"claro"),o=rO[n];return j.useEffect(()=>localStorage.setItem("temaApp",n),[n]),j.useEffect(()=>{(async()=>{const f=await Eo(vr(vn,"examenes"));e(f.docs.map(m=>({id:m.id,...m.data()})))})()},[]),A.jsxs("div",{style:{width:"100%",minHeight:"100vh",backgroundColor:o.bg,color:o.text,padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[A.jsxs("div",{style:{width:"100%",maxWidth:"1000px",display:"flex",justifyContent:"flex-end",gap:"10px",marginBottom:"20px"},children:[A.jsx("button",{onClick:()=>s("claro"),style:{cursor:"pointer",fontSize:"1.2em"},children:""}),A.jsx("button",{onClick:()=>s("oscuro"),style:{cursor:"pointer",fontSize:"1.2em"},children:""}),A.jsx("button",{onClick:()=>s("calido"),style:{cursor:"pointer",fontSize:"1.2em"},children:""})]}),A.jsxs("div",{style:{width:"100%",maxWidth:"1000px",textAlign:"center"},children:[A.jsx("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",marginBottom:"30px"},children:"Selecciona un Examen"}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",width:"100%"},children:r.map(u=>A.jsxs(fa,{to:`/examen/${u.id}`,style:{padding:"30px",background:o.card,textDecoration:"none",color:o.text,borderRadius:"12px",border:`1px solid ${o.border}`,boxShadow:"0 4px 6px rgba(0,0,0,0.1)",transition:"transform 0.2s",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"150px"},onMouseEnter:f=>f.currentTarget.style.transform="scale(1.02)",onMouseLeave:f=>f.currentTarget.style.transform="scale(1)",children:[A.jsxs("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem"},children:[" ",u.titulo]}),A.jsx("p",{style:{margin:0,opacity:.8},children:"Click para comenzar"})]},u.id))}),r.length===0&&A.jsx("p",{children:"Cargando exmenes disponibles..."}),A.jsx("div",{style:{marginTop:"60px"},children:A.jsx(fa,{to:"/admin",style:{color:o.text,textDecoration:"underline"},children:"Soy Profesor (Ir al Panel)"})})]})]})}function aO(){return A.jsxs(gw,{basename:"/examen-app",children:[" ",A.jsxs(K1,{children:[A.jsx(lh,{path:"/",element:A.jsx(sO,{})}),A.jsx(lh,{path:"/examen/:id",element:A.jsx(eO,{})}),A.jsx(lh,{path:"/admin",element:A.jsx(iO,{})})]})]})}QA.createRoot(document.getElementById("root")).render(A.jsx(j.StrictMode,{children:A.jsx(aO,{})}));
